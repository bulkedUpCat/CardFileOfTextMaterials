{"ast":null,"code":"import { Ajax, Browser, ChildProperty, Complex, Component, Draggable, Event, EventHandler, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, Touch, addClass, closest, createElement, detach, extend, formatUnit, getUniqueID, getValue, isNullOrUndefined, isVisible, matches, remove, removeClass, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { Splitter } from '@syncfusion/ej2-layouts';\nimport { Dialog, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input, TextBox, Uploader } from '@syncfusion/ej2-inputs';\nimport { CheckBox, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ContextMenu, Toolbar, TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as ContextMenu$1, Grid, Resize, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\n\n\nclass AjaxSettings extends ChildProperty {}\n\n__decorate([Property(null)], AjaxSettings.prototype, \"downloadUrl\", void 0);\n\n__decorate([Property(null)], AjaxSettings.prototype, \"getImageUrl\", void 0);\n\n__decorate([Property(null)], AjaxSettings.prototype, \"uploadUrl\", void 0);\n\n__decorate([Property(null)], AjaxSettings.prototype, \"url\", void 0);\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nconst toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename', 'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\n\nclass ToolbarSettings extends ChildProperty {}\n\n__decorate$1([Property(toolbarItems)], ToolbarSettings.prototype, \"items\", void 0);\n\n__decorate$1([Property(true)], ToolbarSettings.prototype, \"visible\", void 0);\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Search settings of the File Manager.\n */\n\n\nclass SearchSettings extends ChildProperty {}\n\n__decorate$2([Property(true)], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n\n__decorate$2([Property('contains')], SearchSettings.prototype, \"filterType\", void 0);\n\n__decorate$2([Property(true)], SearchSettings.prototype, \"ignoreCase\", void 0);\n\n__decorate$2([Property(null)], SearchSettings.prototype, \"placeholder\", void 0);\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the columns in the details view of the file manager.\n */\n\n\nconst columnArray = [{\n  field: 'name',\n  headerText: 'Name',\n  minWidth: 120,\n  template: '<span class=\"e-fe-text\">${name}</span>',\n  customAttributes: {\n    class: 'e-fe-grid-name'\n  }\n}, {\n  field: '_fm_modified',\n  headerText: 'DateModified',\n  type: 'dateTime',\n  format: 'MMMM dd, yyyy HH:mm',\n  minWidth: 120,\n  width: '190'\n}, {\n  field: 'size',\n  headerText: 'Size',\n  minWidth: 90,\n  width: '110',\n  template: '<span class=\"e-fe-size\">${size}</span>'\n}];\n/**\n * Specifies the grid settings of the File Manager.\n */\n\nclass DetailsViewSettings extends ChildProperty {}\n\n__decorate$3([Property(true)], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n\n__decorate$3([Property(columnArray)], DetailsViewSettings.prototype, \"columns\", void 0);\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nconst fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nconst folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nconst layoutItems = ['SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\n\nclass ContextMenuSettings extends ChildProperty {}\n\n__decorate$4([Property(fileItems)], ContextMenuSettings.prototype, \"file\", void 0);\n\n__decorate$4([Property(folderItems)], ContextMenuSettings.prototype, \"folder\", void 0);\n\n__decorate$4([Property(layoutItems)], ContextMenuSettings.prototype, \"layout\", void 0);\n\n__decorate$4([Property(true)], ContextMenuSettings.prototype, \"visible\", void 0);\n\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\n\n\nclass NavigationPaneSettings extends ChildProperty {}\n\n__decorate$5([Property('650px')], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n\n__decorate$5([Property('240px')], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n\n__decorate$5([Property(true)], NavigationPaneSettings.prototype, \"visible\", void 0);\n\n__decorate$5([Property('None')], NavigationPaneSettings.prototype, \"sortOrder\", void 0);\n\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\n\n\nclass UploadSettings extends ChildProperty {}\n\n__decorate$6([Property('')], UploadSettings.prototype, \"allowedExtensions\", void 0);\n\n__decorate$6([Property(true)], UploadSettings.prototype, \"autoUpload\", void 0);\n\n__decorate$6([Property(false)], UploadSettings.prototype, \"autoClose\", void 0);\n\n__decorate$6([Property(0)], UploadSettings.prototype, \"minFileSize\", void 0);\n\n__decorate$6([Property(30000000)], UploadSettings.prototype, \"maxFileSize\", void 0);\n\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Interface for a class Column\n */\n\n/* istanbul ignore next */\n\n\nclass Column extends ChildProperty {}\n\n__decorate$7([Property('')], Column.prototype, \"field\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"headerText\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"width\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"minWidth\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"maxWidth\", void 0);\n\n__decorate$7([Property('Left')], Column.prototype, \"textAlign\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"headerTextAlign\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"type\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"format\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"template\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"headerTemplate\", void 0);\n\n__decorate$7([Property(true)], Column.prototype, \"allowSorting\", void 0);\n\n__decorate$7([Property(true)], Column.prototype, \"allowResizing\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"customAttributes\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"hideAtMedia\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"customFormat\", void 0);\n/**\n * FileExplorer common modules\n */\n\n/**\n * Specifies the File Manager internal ID's\n */\n\n/** @hidden */\n\n\nconst TOOLBAR_ID = '_toolbar';\n/** @hidden */\n\nconst LAYOUT_ID = '_layout';\n/** @hidden */\n\nconst NAVIGATION_ID = '_navigation';\n/** @hidden */\n\nconst TREE_ID = '_tree';\n/** @hidden */\n\nconst GRID_ID = '_grid';\n/** @hidden */\n\nconst LARGEICON_ID = '_largeicons';\n/** @hidden */\n\nconst DIALOG_ID = '_dialog';\n/** @hidden */\n\nconst ALT_DIALOG_ID = '_alt_dialog';\n/** @hidden */\n\nconst IMG_DIALOG_ID = '_img_dialog';\n/** @hidden */\n\nconst EXTN_DIALOG_ID = '_extn_dialog';\n/** @hidden */\n\nconst UPLOAD_DIALOG_ID = '_upload_dialog';\n/** @hidden */\n\nconst RETRY_DIALOG_ID = '_retry_dialog';\n/** @hidden */\n\nconst CONTEXT_MENU_ID = '_contextmenu';\n/** @hidden */\n\nconst SORTBY_ID = '_sortby';\n/** @hidden */\n\nconst VIEW_ID = '_view';\n/** @hidden */\n\nconst SPLITTER_ID = '_splitter';\n/** @hidden */\n\nconst CONTENT_ID = '_content';\n/** @hidden */\n\nconst BREADCRUMBBAR_ID = '_breadcrumbbar';\n/** @hidden */\n\nconst UPLOAD_ID = '_upload';\n/** @hidden */\n\nconst RETRY_ID = '_retry';\n/** @hidden */\n\nconst SEARCH_ID = '_search';\n/**\n * Specifies the File Manager internal class names\n */\n\n/** @hidden */\n\nconst ROOT = 'e-filemanager';\n/** @hidden */\n\nconst CONTROL = 'e-control';\n/** @hidden */\n\nconst CHECK_SELECT = 'e-fe-cb-select';\n/** @hidden */\n\nconst ROOT_POPUP = 'e-fe-popup';\n/** @hidden */\n\nconst MOBILE = 'e-fe-mobile';\n/** @hidden */\n\nconst MOB_POPUP = 'e-fe-popup e-fe-mobile';\n/** @hidden */\n\nconst MULTI_SELECT = 'e-fe-m-select';\n/** @hidden */\n\nconst FILTER = 'e-fe-m-filter';\n/** @hidden */\n\nconst LAYOUT = 'e-layout';\n/** @hidden */\n\nconst NAVIGATION = 'e-navigation';\n/** @hidden */\n\nconst LAYOUT_CONTENT = 'e-layout-content';\n/** @hidden */\n\nconst LARGE_ICONS = 'e-large-icons';\n/** @hidden */\n\nconst TB_ITEM = 'e-toolbar-item';\n/** @hidden */\n\nconst LIST_ITEM = 'e-list-item';\n/** @hidden */\n\nconst LIST_TEXT = 'e-list-text';\n/** @hidden */\n\nconst LIST_PARENT = 'e-list-parent';\n/** @hidden */\n\nconst TB_OPTION_TICK = 'e-icons e-fe-tick';\n/** @hidden */\n\nconst TB_OPTION_DOT = 'e-icons e-fe-dot';\n/** @hidden */\n\nconst BLUR = 'e-blur';\n/** @hidden */\n\nconst ACTIVE = 'e-active';\n/** @hidden */\n\nconst HOVER = 'e-hover';\n/** @hidden */\n\nconst FOCUS = 'e-focus';\n/** @hidden */\n\nconst FOCUSED = 'e-focused';\n/** @hidden */\n\nconst CHECK = 'e-check';\n/** @hidden */\n\nconst FRAME = 'e-frame';\n/** @hidden */\n\nconst CB_WRAP = 'e-checkbox-wrapper';\n/** @hidden */\n\nconst ROW = 'e-row';\n/** @hidden */\n\nconst ROWCELL = 'e-rowcell';\n/** @hidden */\n\nconst EMPTY = 'e-empty';\n/** @hidden */\n\nconst EMPTY_CONTENT = 'e-empty-content';\n/** @hidden */\n\nconst EMPTY_INNER_CONTENT = 'e-empty-inner-content';\n/** @hidden */\n\nconst CLONE = 'e-fe-clone';\n/** @hidden */\n\nconst DROP_FOLDER = 'e-fe-drop-folder';\n/** @hidden */\n\nconst DROP_FILE = 'e-fe-drop-file';\n/** @hidden */\n\nconst FOLDER = 'e-fe-folder';\n/** @hidden */\n\nconst ICON_IMAGE = 'e-fe-image';\n/** @hidden */\n\nconst ICON_MUSIC = 'e-fe-music';\n/** @hidden */\n\nconst ICON_VIDEO = 'e-fe-video';\n/** @hidden */\n\nconst LARGE_ICON = 'e-large-icon';\n/** @hidden */\n\nconst LARGE_EMPTY_FOLDER = 'e-empty-icon e-fe-folder';\n/** @hidden */\n\nconst LARGE_EMPTY_FOLDER_TWO = 'e-empty-icon.e-fe-folder';\n/** @hidden */\n\nconst LARGE_ICON_FOLDER = 'e-fe-folder';\n/** @hidden */\n\nconst SELECTED_ITEMS = 'e-items';\n/** @hidden */\n\nconst TEXT_CONTENT = 'e-text-content';\n/** @hidden */\n\nconst GRID_HEADER = 'e-gridheader';\n/** @hidden */\n\nconst TEMPLATE_CELL = 'e-templatecell';\n/** @hidden */\n\nconst TREE_VIEW = 'e-treeview';\n/** @hidden */\n\nconst MENU_ITEM = 'e-menu-item';\n/** @hidden */\n\nconst MENU_ICON = 'e-menu-icon';\n/** @hidden */\n\nconst SUBMENU_ICON = 'e-caret';\n/** @hidden */\n\nconst GRID_VIEW = 'e-content';\n/** @hidden */\n\nconst GRID_CONTENT = 'e-gridcontent';\n/** @hidden */\n\nconst ICON_VIEW = 'e-list-parent';\n/** @hidden */\n\nconst ICON_OPEN = 'e-icons e-fe-open';\n/** @hidden */\n\nconst ICON_UPLOAD = 'e-icons e-fe-upload';\n/** @hidden */\n\nconst ICON_CUT = 'e-icons e-fe-cut';\n/** @hidden */\n\nconst ICON_COPY = 'e-icons e-fe-copy';\n/** @hidden */\n\nconst ICON_PASTE = 'e-icons e-fe-paste';\n/** @hidden */\n\nconst ICON_DELETE = 'e-icons e-fe-delete';\n/** @hidden */\n\nconst ICON_RENAME = 'e-icons e-fe-rename';\n/** @hidden */\n\nconst ICON_NEWFOLDER = 'e-icons e-fe-newfolder';\n/** @hidden */\n\nconst ICON_DETAILS = 'e-icons e-fe-details';\n/** @hidden */\n\nconst ICON_SHORTBY = 'e-icons e-fe-sort';\n/** @hidden */\n\nconst ICON_REFRESH = 'e-icons e-fe-refresh';\n/** @hidden */\n\nconst ICON_SELECTALL = 'e-icons e-fe-select';\n/** @hidden */\n\nconst ICON_DOWNLOAD = 'e-icons e-fe-download';\n/** @hidden */\n\nconst ICON_OPTIONS = 'e-icons e-fe-options';\n/** @hidden */\n\nconst ICON_GRID = 'e-icons e-fe-grid';\n/** @hidden */\n\nconst ICON_LARGE = 'e-icons e-fe-large';\n/** @hidden */\n\nconst ICON_BREADCRUMB = 'e-icons e-fe-breadcrumb';\n/** @hidden */\n\nconst ICON_CLEAR = 'e-icons e-fe-clear';\n/** @hidden */\n\nconst ICON_DROP_IN = 'e-icons e-fe-drop-in';\n/** @hidden */\n\nconst ICON_DROP_OUT = 'e-icons e-fe-drop-out';\n/** @hidden */\n\nconst ICON_NO_DROP = 'e-icons e-fe-no-drop';\n/** @hidden */\n\nconst ICONS = 'e-icons';\n/** @hidden */\n\nconst DETAILS_LABEL = 'e-detailslabel';\n/** @hidden */\n\nconst ERROR_CONTENT = 'e-fe-errorcontent';\n/** @hidden */\n\nconst STATUS = 'e-status';\n/** @hidden */\n\nconst BREADCRUMBS = 'e-address';\n/** @hidden */\n\nconst RTL = 'e-rtl';\n/** @hidden */\n\nconst DISPLAY_NONE = 'e-display-none';\n/** @hidden */\n\nconst COLLAPSED = 'e-node-collapsed';\n/** @hidden */\n\nconst FULLROW = 'e-fullrow';\n/** @hidden */\n\nconst ICON_COLLAPSIBLE = 'e-icon-collapsible';\n/** @hidden */\n\nconst SPLIT_BAR = 'e-split-bar';\n/** @hidden */\n\nconst HEADER_CHECK = 'e-headercheck';\n/** @hidden */\n\nconst OVERLAY = 'e-fe-overlay';\n/** @hidden */\n\nconst VALUE = 'e-fe-value';\n/**\n * Specifies the File Manager internal variables\n */\n\n/** @hidden */\n\nconst isFile = 'isFile';\n/**\n * Specifies the File Manager internal events\n */\n\n/** @hidden */\n\nconst modelChanged = 'model-changed';\n/** @hidden */\n\nconst initialEnd = 'initial-end';\n/** @hidden */\n\nconst finalizeEnd = 'finalize-end';\n/** @hidden */\n\nconst createEnd = 'create-end';\n/** @hidden */\n\nconst filterEnd = 'filter-end';\n/** @hidden */\n\nconst beforeDelete = 'before-delete';\n/** @hidden */\n\nconst pathDrag = 'path-drag';\n/** @hidden */\n\nconst deleteInit = 'delete-init';\n/** @hidden */\n\nconst deleteEnd = 'delete-end';\n/** @hidden */\n\nconst refreshEnd = 'refresh-end';\n/** @hidden */\n\nconst resizeEnd = 'resize-end';\n/** @hidden */\n\nconst splitterResize = 'splitter-resize';\n/** @hidden */\n\nconst pathChanged = 'path-changed';\n/** @hidden */\n\nconst destroy = 'destroy';\n/** @hidden */\n\nconst beforeRequest = 'before-request';\n/** @hidden */\n\nconst upload = 'upload';\n/** @hidden */\n\nconst skipUpload = 'skip-upload';\n/** @hidden */\n\nconst afterRequest = 'after-request';\n/** @hidden */\n\nconst download = 'download';\n/** @hidden */\n\nconst layoutRefresh = 'layout-refresh';\n/** @hidden */\n\nconst actionFailure = 'actionFailure';\n/** @hidden */\n\nconst search = 'search';\n/** @hidden */\n\nconst openInit = 'open-init';\n/** @hidden */\n\nconst openEnd = 'open-end';\n/** @hidden */\n\nconst selectionChanged = 'selection-changed';\n/** @hidden */\n\nconst selectAllInit = 'select-all-init';\n/** @hidden */\n\nconst clearAllInit = 'clear-all-init';\n/** @hidden */\n\nconst clearPathInit = 'clear-path-init';\n/** @hidden */\n\nconst layoutChange = 'layout-change';\n/** @hidden */\n\nconst sortByChange = 'sort-by-change';\n/** @hidden */\n\nconst nodeExpand = 'node-expand';\n/** @hidden */\n\nconst detailsInit = 'details-init';\n/** @hidden */\n\nconst menuItemData = 'menu-item-data';\n/** @hidden */\n\nconst renameInit = 'rename-init';\n/** @hidden */\n\nconst renameEndParent = 'rename-end-parent';\n/** @hidden */\n\nconst renameEnd = 'rename-end';\n/** @hidden */\n\nconst showPaste = 'show-paste';\n/** @hidden */\n\nconst hidePaste = 'hide-paste';\n/** @hidden */\n\nconst selectedData = 'selected-data';\n/** @hidden */\n\nconst cutCopyInit = 'cut-copy-init';\n/** @hidden */\n\nconst pasteInit = 'paste-init';\n/** @hidden */\n\nconst pasteEnd = 'paste-end';\n/** @hidden */\n\nconst cutEnd = 'cut-end';\n/** @hidden */\n\nconst hideLayout = 'hide-layout';\n/** @hidden */\n\nconst updateTreeSelection = 'update-tree-selection';\n/** @hidden */\n\nconst treeSelect = 'select-node';\n/** @hidden */\n\nconst sortColumn = 'sort-column';\n/** @hidden */\n\nconst pathColumn = 'path-column';\n/** @hidden */\n\nconst searchTextChange = 'search-change';\n/** @hidden */\n\nconst beforeDownload = 'before-download';\n/** @hidden */\n\nconst downloadInit = 'download-init';\n/** @hidden */\n\nconst dropInit = 'drop-init';\n/** @hidden */\n\nconst dragEnd = 'drag-end';\n/** @hidden */\n\nconst dropPath = 'drop-path';\n/** @hidden */\n\nconst dragHelper = 'drag-helper';\n/** @hidden */\n\nconst dragging = 'dragging';\n/** @hidden */\n\nconst updateSelectionData = 'update-selection-data';\n/** @hidden */\n\nconst methodCall = 'method-call';\n/** @hidden */\n\nconst permissionRead = 'read';\n/** @hidden */\n\nconst permissionEdit = 'write';\n/** @hidden */\n\nconst permissionEditContents = 'writeContents';\n/** @hidden */\n\nconst permissionCopy = 'copy';\n/** @hidden */\n\nconst permissionUpload = 'upload';\n/** @hidden */\n\nconst permissionDownload = 'download';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nfunction updatePath(node, data, instance) {\n  const text = getValue('name', data);\n  const id = node.getAttribute('data-id');\n  const newText = isNullOrUndefined(id) ? text : id;\n  instance.setProperties({\n    path: getPath(node, newText, instance.hasId)\n  }, true);\n  instance.pathId = getPathId(node);\n  instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\n\n\nfunction getPath(element, text, hasId) {\n  const matched = getParents(element, text, false, hasId);\n  let path = hasId ? '' : '/';\n  const len = matched.length - (hasId ? 1 : 2);\n\n  for (let i = len; i >= 0; i--) {\n    path += matched[i] + '/';\n  }\n\n  return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\n\n\nfunction getPathId(node) {\n  const matched = getParents(node, node.getAttribute('data-uid'), true);\n  const ids = [];\n\n  for (let i = matched.length - 1; i >= 0; i--) {\n    ids.push(matched[i]);\n  }\n\n  return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\n\n\nfunction getPathNames(element, text) {\n  const matched = getParents(element, text, false);\n  const names = [];\n\n  for (let i = matched.length - 1; i >= 0; i--) {\n    names.push(matched[i]);\n  }\n\n  return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\n\n\nfunction getParents(element, text, isId, hasId) {\n  const matched = [text];\n  let el = element.parentNode;\n\n  while (!isNullOrUndefined(el)) {\n    if (matches(el, '.' + LIST_ITEM)) {\n      const parentText = isId ? el.getAttribute('data-uid') : hasId ? el.getAttribute('data-id') : select('.' + LIST_TEXT, el).textContent;\n      matched.push(parentText);\n    }\n\n    el = el.parentNode;\n\n    if (el.classList.contains(TREE_VIEW)) {\n      break;\n    }\n  }\n\n  return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction generatePath(parent) {\n  const key = parent.hasId ? 'id' : 'name';\n  let newPath = parent.hasId ? '' : '/';\n  let i = parent.hasId ? 0 : 1;\n\n  for (i; i < parent.pathId.length; i++) {\n    // eslint-disable-next-line\n    const data = getValue(parent.pathId[i], parent.feParent);\n    newPath += getValue(key, data) + '/';\n  }\n\n  parent.setProperties({\n    path: newPath\n  }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction removeActive(parent) {\n  if (parent.isCut) {\n    removeBlur(parent);\n    parent.selectedNodes = [];\n    parent.actionRecords = [];\n    parent.enablePaste = false;\n    parent.notify(hidePaste, {});\n  }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\n\n\nfunction activeElement(action, parent) {\n  parent.isSearchCut = false;\n  parent.actionRecords = [];\n  parent.activeElements = [];\n  parent.notify(cutCopyInit, {});\n\n  if (parent.activeElements.length === 0) {\n    return false;\n  }\n\n  removeBlur(parent);\n  const blurEle = parent.activeElements;\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.targetPath = parent.path;\n  } else {\n    parent.targetPath = getParentPath(parent.path);\n  }\n\n  let i = 0;\n\n  if (blurEle) {\n    getModule(parent, blurEle[0]);\n\n    if (action === 'cut') {\n      while (i < blurEle.length) {\n        addBlur(blurEle[i]);\n        i++;\n      }\n    }\n  }\n\n  i = 0;\n  parent.selectedNodes = [];\n  parent.enablePaste = true;\n  parent.notify(showPaste, {});\n\n  while (i < parent.activeRecords.length) {\n    parent.actionRecords.push(parent.activeRecords[i]);\n    parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n    i++;\n  }\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && parent.activeModule !== 'navigationpane') {\n    parent.selectedNodes = [];\n    parent.isSearchCut = true;\n    let i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.selectedNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n  }\n\n  return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\n\n\nfunction addBlur(nodes) {\n  nodes.classList.add(BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\n\n\nfunction removeBlur(parent, hover) {\n  const blurEle = !hover ? parent.element.querySelectorAll('.' + BLUR) : parent.element.querySelectorAll('.' + HOVER);\n  let i = 0;\n\n  while (i < blurEle.length) {\n    blurEle[i].classList.remove(!hover ? BLUR : HOVER);\n    i++;\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\n\nfunction getModule(parent, element) {\n  if (element) {\n    if (element.classList.contains(ROW)) {\n      parent.activeModule = 'detailsview';\n    } else if (closest(element, '.' + LARGE_ICON)) {\n      parent.activeModule = 'largeiconsview';\n    } else {\n      parent.activeModule = 'navigationpane';\n    }\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\n\n\nfunction searchWordHandler(parent, value, isLayoutChange) {\n  let searchWord;\n\n  if (value.length === 0 && !parent.isFiltered) {\n    parent.notify(pathColumn, {\n      args: parent\n    });\n  }\n\n  if (parent.searchSettings.filterType === 'startsWith') {\n    searchWord = value + '*';\n  } else if (parent.searchSettings.filterType === 'endsWith') {\n    searchWord = '*' + value;\n  } else {\n    searchWord = '*' + value + '*';\n  }\n\n  parent.searchWord = searchWord;\n  parent.itemData = [getPathObject(parent)];\n\n  if (value.length > 0) {\n    const caseSensitive = parent.searchSettings.ignoreCase;\n    const hiddenItems = parent.showHiddenItems;\n    Search(parent, isLayoutChange ? layoutChange : search, parent.path, searchWord, hiddenItems, !caseSensitive);\n  } else {\n    if (!parent.isFiltered) {\n      if (parent.isSortByClicked) {\n        parent.notify(layoutChange, {\n          files: parent.largeiconsviewModule.items\n        });\n        parent.isSortByClicked = false;\n      } else {\n        read(parent, isLayoutChange ? layoutChange : search, parent.path);\n      }\n    } else {\n      filter(parent, layoutChange);\n    }\n  }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\n\n\nfunction updateLayout(parent, view) {\n  parent.setProperties({\n    view: view\n  }, true);\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n    parent.layoutSelectedItems = parent.selectedItems;\n  }\n\n  let searchWord = '';\n\n  if (parent.breadcrumbbarModule.searchObj.element.value) {\n    searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n  }\n\n  parent.isLayoutChange = true;\n  searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\n\nfunction getTargetModule(parent, element) {\n  let tartgetModule = '';\n\n  if (element) {\n    if (closest(element, '.' + ROOT + '.' + CONTROL + ' .' + GRID_CONTENT)) {\n      tartgetModule = 'detailsview';\n    } else if (closest(element, '.' + LARGE_ICONS)) {\n      tartgetModule = 'largeiconsview';\n    } else if (element.classList.contains('e-fullrow') || element.classList.contains('e-icon-expandable')) {\n      tartgetModule = 'navigationpane';\n    } else if (closest(element, '.e-address-list-item')) {\n      tartgetModule = 'breadcrumbbar';\n    } else {\n      tartgetModule = '';\n    }\n  }\n\n  parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction refresh(parent) {\n  parent.itemData = [getPathObject(parent)];\n\n  if (!hasReadAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], permissionRead);\n  } else {\n    read(parent, refreshEnd, parent.path);\n  }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction openAction(parent) {\n  read(parent, openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getPathObject(parent) {\n  return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction copyFiles(parent) {\n  if (!activeElement('copy', parent)) {\n    return;\n  } else {\n    parent.fileAction = 'copy';\n  }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction cutFiles(parent) {\n  if (!activeElement('cut', parent)) {\n    return;\n  } else {\n    parent.isCut = true;\n    parent.fileAction = 'move';\n  }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction fileType(file) {\n  const isFile$$1 = getValue('isFile', file);\n\n  if (!isFile$$1) {\n    return FOLDER;\n  }\n\n  const imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n  const audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n  const videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n  const knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc', 'xlsx', 'xls', 'xml', 'rtf', 'php'];\n  let filetype = getValue('type', file);\n  filetype = filetype.toLowerCase();\n\n  if (filetype.indexOf('.') !== -1) {\n    filetype = filetype.split('.').join('');\n  }\n\n  let iconType;\n\n  if (imageFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_IMAGE;\n  } else if (audioFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_MUSIC;\n  } else if (videoFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_VIDEO;\n  } else if (knownFormat.indexOf(filetype) !== -1) {\n    iconType = 'e-fe-' + filetype;\n  } else {\n    iconType = 'e-fe-unknown e-fe-' + filetype;\n  }\n\n  return iconType;\n}\n/* istanbul ignore next */\n\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getImageUrl(parent, item) {\n  const baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n  let imgUrl;\n  const fileName = encodeURIComponent(getValue('name', item));\n  const fPath = getValue('filterPath', item);\n\n  if (parent.hasId) {\n    const imgId = getValue('id', item);\n    imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n  } else if (!isNullOrUndefined(fPath)) {\n    imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n  } else {\n    imgUrl = baseUrl + '?path=' + parent.path + fileName;\n  }\n\n  imgUrl = imgUrl + '&time=' + new Date().getTime().toString();\n  const eventArgs = {\n    fileDetails: [item],\n    imageUrl: imgUrl\n  };\n  parent.trigger('beforeImageLoad', eventArgs);\n  return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getFullPath(parent, data, path) {\n  const filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n  const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n\n  if (!isNullOrUndefined(fPath)) {\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return path + filePath;\n  }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getName(parent, data) {\n  let name = getValue('name', data);\n  let fPath = getValue('filterPath', data);\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNullOrUndefined(fPath)) {\n    fPath = fPath.replace(/\\\\/g, '/');\n    name = fPath.replace(parent.path, '') + name;\n  }\n\n  return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getSortedData(parent, items) {\n  if (items.length === 0) {\n    return items;\n  }\n\n  let query;\n\n  if (parent.sortOrder !== 'None') {\n    query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n  } else {\n    query = new Query().group('isFile');\n  } // eslint-disable-next-line\n\n\n  const lists = new DataManager(items).executeLocal(query);\n  return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getObject(parent, key, value) {\n  // eslint-disable-next-line\n  const currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n  const query = new Query().where(key, 'equal', value); // eslint-disable-next-line\n\n  const lists = new DataManager(currFiles).executeLocal(query);\n  return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\n\n\nfunction createEmptyElement(parent, element, args) {\n  let top;\n  const layoutElement = select('#' + parent.element.id + LAYOUT_ID, parent.element);\n  const addressBarHeight = select('#' + parent.element.id + BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n  top = layoutElement.offsetHeight - addressBarHeight;\n\n  if (parent.view === 'Details') {\n    top = top - select('.' + GRID_HEADER, layoutElement).offsetHeight;\n  }\n\n  if (isNullOrUndefined(element.querySelector('.' + EMPTY))) {\n    const emptyDiv = createElement('div', {\n      className: EMPTY\n    });\n    const emptyFolder = createElement('div', {\n      className: LARGE_EMPTY_FOLDER\n    });\n    const emptyEle = createElement('div', {\n      className: EMPTY_CONTENT\n    });\n    const dragFile = createElement('div', {\n      className: EMPTY_INNER_CONTENT\n    });\n\n    if (parent.view === 'Details') {\n      element.querySelector('.' + GRID_VIEW).appendChild(emptyDiv);\n    } else {\n      element.appendChild(emptyDiv);\n    }\n\n    emptyDiv.appendChild(emptyFolder);\n    emptyDiv.appendChild(emptyEle);\n    emptyDiv.appendChild(dragFile);\n  }\n\n  if (element.querySelector('.' + EMPTY)) {\n    if (!isNullOrUndefined(args.error)) {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n    } else if (parent.isFiltered) {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n    } else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n    } else {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n    }\n  }\n\n  const eDiv = select('.' + EMPTY, element);\n  top = (top - eDiv.offsetHeight) / 2;\n  eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getDirectories(files) {\n  return new DataManager(files).executeLocal(new Query().where(isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\n\n\nfunction setNodeId(result, rootId) {\n  // eslint-disable-next-line\n  const dirs = getDirectories(result.files);\n\n  for (let i = 0, len = dirs.length; i < len; i++) {\n    setValue('_fm_id', rootId + '_' + i, dirs[i]);\n  }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction setDateObject(args) {\n  for (let i = 0; i < args.length; i++) {\n    setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n    setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n  }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\n\n\nfunction getLocaleText(parent, text) {\n  const locale = parent.localeObj.getConstant(text);\n  return locale === '' ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\n\n\nfunction getCssClass(parent, css) {\n  let cssClass = parent.cssClass;\n  cssClass = isNullOrUndefined(cssClass) || cssClass === '' ? css : cssClass + ' ' + css;\n  return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction sortbyClickHandler(parent, args) {\n  let tick;\n  parent.isSortByClicked = true;\n\n  if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n    tick = true;\n  } else {\n    tick = false;\n  }\n\n  if (!tick) {\n    parent.sortBy = getSortField(args.item.id, parent);\n  } else {\n    parent.sortOrder = getSortField(args.item.id);\n  }\n\n  parent.itemData = [getPathObject(parent)];\n\n  if (parent.view === 'Details') {\n    if (parent.isMobile) {\n      updateLayout(parent, 'Details');\n    } else {\n      parent.notify(sortColumn, {\n        module: 'detailsview'\n      });\n    }\n  }\n\n  if (parent.view === 'LargeIcons') {\n    updateLayout(parent, 'LargeIcons');\n  }\n\n  parent.notify(sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\n\n\nfunction getSortField(id, parent) {\n  const text = id.substring(id.lastIndexOf('_') + 1);\n  let field = text;\n  let column;\n\n  if (parent) {\n    column = parent.detailsViewSettings.columns;\n  }\n\n  switch (text) {\n    case 'date':\n      for (var i = 0; i < column.length; i++) {\n        if (column[i].field === 'dateModified' || column[i].field === 'dateCreated') {\n          field = column[i].field;\n          break;\n        } else {\n          field = '_fm_modified';\n        }\n      }\n\n      break;\n\n    case 'ascending':\n      field = 'Ascending';\n      break;\n\n    case 'descending':\n      field = 'Descending';\n      break;\n\n    case 'none':\n      field = 'None';\n      break;\n  }\n\n  return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction setNextPath(parent, path) {\n  const currfolders = path.split('/');\n  const folders = parent.originalPath.split('/'); // eslint-disable-next-line\n\n  const root = getValue(parent.pathId[0], parent.feParent);\n  const key = isNullOrUndefined(getValue('id', root)) ? 'name' : 'id';\n\n  for (let i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n    const eventName = folders[i + 1] === '' ? finalizeEnd : initialEnd;\n    const newPath = folders[i] === '' ? '/' : parent.path + folders[i] + '/'; // eslint-disable-next-line\n\n    const data = getObject(parent, key, folders[i]);\n    const id = getValue('_fm_id', data);\n    parent.setProperties({\n      path: newPath\n    }, true);\n    parent.pathId.push(id);\n    parent.itemData = [data];\n    parent.pathNames.push(getValue('name', data));\n    read(parent, eventName, parent.path);\n    break;\n  }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction openSearchFolder(parent, data) {\n  parent.notify(clearPathInit, {\n    selectedNode: parent.pathId[parent.pathId.length - 1]\n  });\n  parent.originalPath = getFullPath(parent, data, parent.path);\n  read(parent, parent.path !== parent.originalPath ? initialEnd : finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteHandler(parent) {\n  parent.isDragDrop = false;\n\n  if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n    const path = parent.folderPath === '' ? parent.path : parent.folderPath; // eslint-disable-next-line\n\n    const subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n\n    if (!subFolder) {\n      if (parent.fileAction === 'move' && parent.targetPath !== path || parent.fileAction === 'copy') {\n        parent.notify(pasteInit, {});\n        paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n      } else {\n        parent.enablePaste = false;\n        parent.notify(hidePaste, {});\n        removeBlur(parent);\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n      }\n    }\n  }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction validateSubFolder(parent, data, dropPath$$1, dragPath) {\n  let subFolder = false;\n\n  for (let i = 0; i < data.length; i++) {\n    if (!getValue('isFile', data[i])) {\n      const tempTarget = getFullPath(parent, data[i], dragPath);\n\n      if (dropPath$$1.indexOf(tempTarget) === 0) {\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Sub-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    } else {\n      const srcData = parent.dragNodes[i];\n      let len = 0;\n\n      if (srcData) {\n        len = srcData.lastIndexOf('/');\n      }\n\n      let path = '';\n\n      if (len > 0) {\n        path = dragPath + srcData.substring(0, len + 1);\n      }\n\n      if (path === dropPath$$1) {\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    }\n  }\n\n  return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction dropHandler(parent) {\n  parent.isDragDrop = true;\n\n  if (parent.dragData.length !== 0) {\n    parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n    parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n    const subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n\n    if (!subFolder && parent.dragPath !== parent.dropPath) {\n      parent.itemData = [parent.dropData];\n      paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n      parent.notify(pasteInit, {});\n    }\n  }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\n\n\nfunction getParentPath(oldPath) {\n  const path = oldPath.split('/');\n  let newPath = path[0] + '/';\n\n  for (let i = 1; i < path.length - 2; i++) {\n    newPath += path[i] + '/';\n  }\n\n  return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\n\n\nfunction getDirectoryPath(parent, args) {\n  const filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n  const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n\n  if (!isNullOrUndefined(fPath)) {\n    if (fPath === '') {\n      return parent.hasId ? filePath : '/';\n    }\n\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return parent.path + filePath;\n  }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\n\n\nfunction doPasteUpdate(parent, operation, result) {\n  if (operation === 'move') {\n    if (!parent.isDragDrop) {\n      parent.enablePaste = false;\n      parent.notify(hidePaste, {});\n      parent.notify(cutEnd, result);\n    } else {\n      parent.notify(dragEnd, result);\n    }\n  }\n\n  if (parent.duplicateItems.length === 0) {\n    parent.pasteNodes = [];\n  }\n\n  const flag = false;\n\n  for (let count = 0; count < result.files.length && !flag; count++) {\n    parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n\n    if (parent.isDragDrop) {\n      parent.droppedObjects.push(result.files[count]);\n    }\n  }\n\n  parent.duplicateItems = [];\n  parent.duplicateRecords = [];\n\n  if (parent.isDragDrop && !parent.isPasteError) {\n    parent.isDropEnd = true;\n  } else {\n    parent.isDropEnd = false;\n  }\n\n  if (!parent.isDragDrop || parent.path === parent.dragPath || parent.path === parent.dropPath || parent.isSearchDrag) {\n    parent.isPathDrag = false;\n    read(parent, pasteEnd, parent.path);\n  } else {\n    readDropPath(parent);\n  }\n\n  parent.trigger('success', {\n    action: operation,\n    result: result\n  });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction readDropPath(parent) {\n  const pathId = getValue('_fm_id', parent.dropData);\n  parent.expandedId = pathId;\n  parent.itemData = [parent.dropData];\n\n  if (parent.isPathDrag) {\n    parent.notify(pathDrag, parent.itemData);\n  } else {\n    if (parent.navigationpaneModule) {\n      const node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n      updatePath(node, parent.dropData, parent);\n    }\n\n    read(parent, dropPath, parent.dropPath);\n  }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getDuplicateData(parent, name) {\n  // eslint-disable-next-line\n  let data = null; // eslint-disable-next-line\n\n  const records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n\n  for (let i = 0; i < records.length; i++) {\n    if (getValue('name', records[i]) === name) {\n      data = records[i];\n      break;\n    }\n  }\n\n  return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction createVirtualDragElement(parent) {\n  parent.isSearchDrag = false;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n    parent.isSearchDrag = true;\n  }\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.dragNodes = [];\n    let i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.dragNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n\n    if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n      parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n    }\n  }\n\n  const cloneIcon = parent.createElement('div', {\n    className: 'e-fe-icon ' + fileType(parent.dragData[0])\n  });\n  const cloneName = parent.createElement('div', {\n    className: 'e-fe-name',\n    innerHTML: parent.dragData[0].name\n  });\n  const virtualEle = parent.createElement('div', {\n    className: 'e-fe-content'\n  });\n  virtualEle.appendChild(cloneIcon);\n  virtualEle.appendChild(cloneName);\n  const ele = parent.createElement('div', {\n    className: CLONE\n  });\n  ele.appendChild(virtualEle);\n\n  if (parent.dragNodes.length > 1) {\n    const badge = parent.createElement('span', {\n      className: 'e-fe-count',\n      innerHTML: parent.dragNodes.length.toString(10)\n    });\n    ele.appendChild(badge);\n  }\n\n  parent.virtualDragElement = ele;\n  parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction dragStopHandler(parent, args) {\n  const dragArgs = args;\n  dragArgs.cancel = false;\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeDropTarget(parent);\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  removeBlur(parent);\n  parent.uploadObj.dropArea = select('#' + parent.element.id + CONTENT_ID, parent.element);\n  const virtualEle = select('.' + CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n\n  getTargetModule(parent, args.target);\n  parent.notify(dropInit, args);\n  removeBlur(parent, 'hover');\n  dragArgs.fileDetails = parent.dragData;\n  parent.trigger('fileDragStop', dragArgs, dragArgs => {\n    if (!dragArgs.cancel && !isNullOrUndefined(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n      dropHandler(parent);\n    }\n\n    parent.dragCount = 0;\n  });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction dragStartHandler(parent, args, dragObj) {\n  const dragArgs = args;\n  dragArgs.cancel = false;\n  dragArgs.fileDetails = parent.dragData;\n  parent.dragCount = 0;\n  parent.droppedObjects = [];\n\n  if (!parent.allowDragAndDrop || parent.activeModule === 'navigationpane' && closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]) {\n    dragArgs.cancel = true;\n  }\n\n  if (parent.activeModule === 'navigationpane' && parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1) {\n    parent.isPathDrag = true;\n  } else {\n    parent.isPathDrag = false;\n  }\n\n  removeBlur(parent);\n\n  if (dragArgs.cancel) {\n    dragObj.intDestroy(args.event);\n    dragCancel(parent);\n  } else if (!dragArgs.cancel) {\n    let i = 0;\n\n    while (i < parent.activeElements.length) {\n      addBlur(parent.activeElements[i]);\n      i++;\n    }\n\n    parent.trigger('fileDragStart', dragArgs, dragArgs => {\n      if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n      } else {\n        parent.uploadObj.dropArea = null;\n      }\n    });\n  }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction dragCancel(parent) {\n  removeBlur(parent);\n  const virtualEle = select('.' + CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction removeDropTarget(parent) {\n  removeItemClass(parent, DROP_FOLDER);\n  removeItemClass(parent, DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\n\n\nfunction removeItemClass(parent, value) {\n  const ele = parent.element.querySelectorAll('.' + value);\n\n  for (let i = 0; i < ele.length; i++) {\n    ele[i].classList.remove(value);\n  }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction draggingHandler(parent, args) {\n  const dragArgs = args;\n  dragArgs.fileDetails = parent.dragData;\n  let canDrop = false;\n  getTargetModule(parent, args.target);\n  removeDropTarget(parent);\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeBlur(parent, 'hover');\n  let node = null;\n\n  if (parent.targetModule === 'navigationpane') {\n    node = closest(args.target, 'li');\n    node.classList.add(HOVER, DROP_FOLDER);\n    canDrop = true;\n    /* istanbul ignore next */\n\n    parent.treeExpandTimer = window.setTimeout(() => {\n      parent.notify(dragging, args);\n    }, 800);\n  } else if (parent.targetModule === 'detailsview') {\n    node = closest(args.target, 'tr');\n\n    if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(DROP_FOLDER);\n    } else if (node && !node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(DROP_FILE);\n    }\n\n    canDrop = true;\n  } else if (parent.targetModule === 'largeiconsview') {\n    node = closest(args.target, 'li');\n\n    if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(HOVER, DROP_FOLDER);\n    }\n\n    canDrop = true;\n    /* istanbul ignore next */\n  } else if (parent.targetModule === 'breadcrumbbar') {\n    canDrop = true;\n  }\n\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n  parent.dragCount = parent.dragCount + 1;\n  parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\n\n\nfunction objectToString(data) {\n  let str = '';\n  const keys = Object.keys(data);\n\n  for (let i = 0; i < keys.length; i++) {\n    if (keys[i] !== 'message') {\n      str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n    }\n  }\n\n  return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getItemName(parent, data) {\n  if (parent.hasId) {\n    return getValue('id', data);\n  }\n\n  return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction updateRenamingData(parent, data) {\n  parent.itemData = [data];\n  parent.currentItemText = getValue('name', data);\n  parent.isFile = getValue('isFile', data);\n  parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction doRename(parent) {\n  if (!hasEditAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], permissionEdit);\n  } else {\n    createDialog(parent, 'Rename');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction doDownload(parent) {\n  // eslint-disable-next-line\n  const items = parent.itemData;\n\n  for (let i = 0; i < items.length; i++) {\n    if (!hasDownloadAccess(items[i])) {\n      createDeniedDialog(parent, items[i], permissionDownload);\n      return;\n    }\n  }\n\n  if (parent.selectedItems.length > 0) {\n    Download(parent, parent.path, parent.selectedItems);\n  }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction doDeleteFiles(parent, data, newIds) {\n  for (let i = 0; i < data.length; i++) {\n    if (!hasEditAccess(data[i])) {\n      createDeniedDialog(parent, data[i], permissionEdit);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n  Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction doDownloadFiles(parent, data, newIds) {\n  for (let i = 0; i < data.length; i++) {\n    if (!hasDownloadAccess(data[i])) {\n      createDeniedDialog(parent, data[i], permissionDownload);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n\n  if (newIds.length > 0) {\n    Download(parent, parent.path, newIds);\n  }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction createDeniedDialog(parent, data, action) {\n  let message = getValue('message', getValue('permission', data));\n\n  if (message === '') {\n    message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n  }\n\n  const response = {\n    error: {\n      code: '401',\n      fileExists: null,\n      message: message\n    }\n  };\n  createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getAccessClass(data) {\n  return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasReadAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission && !getValue('read', permission) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasEditAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('write', permission) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasContentAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('writeContents', permission) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasUploadAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('upload', permission) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasDownloadAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('download', permission) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction createNewFolder(parent) {\n  // eslint-disable-next-line\n  const details = parent.itemData[0];\n\n  if (!hasContentAccess(details)) {\n    createDeniedDialog(parent, details, permissionEditContents);\n  } else {\n    createDialog(parent, 'NewFolder');\n  }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction uploadItem(parent) {\n  // eslint-disable-next-line\n  const details = parent.itemData[0];\n\n  if (!hasUploadAccess(details)) {\n    createDeniedDialog(parent, details, permissionUpload);\n  } else {\n    const eleId = '#' + parent.element.id + UPLOAD_ID;\n    const uploadEle = document.querySelector(eleId);\n    uploadEle.click();\n  }\n}\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction read(parent, event, path) {\n  // eslint-disable-next-line\n  const itemData = parent.itemData;\n\n  for (let i = 0; i < itemData.length; i++) {\n    if (isNullOrUndefined(getValue('hasChild', itemData[i]))) {\n      setValue('hasChild', false, itemData[i]);\n    }\n  } // eslint-disable-next-line\n\n\n  const data = {\n    action: 'read',\n    path: path,\n    showHiddenItems: parent.showHiddenItems,\n    data: itemData\n  };\n  createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createFolder(parent, itemName) {\n  // eslint-disable-next-line\n  const data = {\n    action: 'create',\n    path: parent.path,\n    name: itemName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction filter(parent, event) {\n  // eslint-disable-next-line\n  const data = {\n    action: 'filter',\n    path: parent.path,\n    showHiddenItems: parent.showHiddenItems,\n    data: [getPathObject(parent)]\n  }; // eslint-disable-next-line\n\n  let filterData; // eslint-disable-next-line\n\n  const filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n  createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\n\n\nfunction rename(parent, path, itemNewName) {\n  let name;\n  let newName;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n    name = parent.currentItemText;\n    newName = itemNewName;\n  } else {\n    let fPath = parent.filterPath;\n\n    if (parent.hasId) {\n      name = parent.currentItemText;\n      newName = itemNewName;\n    } else {\n      fPath = fPath.replace(/\\\\/g, '/');\n      name = fPath.replace(path, '') + parent.currentItemText;\n      newName = fPath.replace(path, '') + itemNewName;\n    }\n  } // eslint-disable-next-line\n\n\n  const data = {\n    action: 'rename',\n    path: path,\n    name: name,\n    newName: newName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\n\n\nfunction paste(parent, path, names, targetPath, pasteOperation, // eslint-disable-next-line\nrenameItems, actionRecords) {\n  // eslint-disable-next-line\n  const data = {\n    action: pasteOperation,\n    path: path,\n    targetData: parent.itemData[0],\n    targetPath: targetPath,\n    names: names,\n    renameFiles: renameItems,\n    data: actionRecords\n  };\n  parent.destinationPath = targetPath;\n  createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction Delete(parent, items, path, operation) {\n  // eslint-disable-next-line\n  const data = {\n    action: operation,\n    path: path,\n    names: items,\n    data: parent.itemData\n  };\n  createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\n\n\nfunction GetDetails(parent, names, path, operation) {\n  // eslint-disable-next-line\n  const data = {\n    action: operation,\n    path: path,\n    names: names,\n    data: parent.itemData\n  };\n  createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\n\n\nfunction createAjax( // eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n  // eslint-disable-next-line\n  const ajaxSettings = {\n    url: parent.ajaxSettings.url,\n    type: 'POST',\n    mode: true,\n    dataType: 'json',\n    contentType: 'application/json',\n    data: JSON.stringify(data),\n    onSuccess: null,\n    onFailure: null,\n    beforeSend: null\n  };\n  const eventArgs = {\n    action: getValue('action', data),\n    ajaxSettings: ajaxSettings,\n    cancel: false\n  };\n  parent.trigger('beforeSend', eventArgs, beforeSendArgs => {\n    if (!beforeSendArgs.cancel) {\n      parent.notify(beforeRequest, {});\n      const ajax = new Ajax({\n        url: getValue('url', beforeSendArgs.ajaxSettings),\n        type: getValue('type', beforeSendArgs.ajaxSettings),\n        mode: getValue('mode', beforeSendArgs.ajaxSettings),\n        dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n        contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n        data: getValue('data', beforeSendArgs.ajaxSettings),\n        beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n        onSuccess: result => {\n          if (isNullOrUndefined(result)) {\n            const result = {\n              error: {\n                fileExists: null,\n                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                code: '406'\n              },\n              files: null\n            };\n            triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n            return;\n          }\n\n          if (typeof result === 'string') {\n            result = JSON.parse(result);\n          }\n\n          parent.notify(afterRequest, {\n            action: 'success'\n          });\n          const id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n\n          if (!isNullOrUndefined(result.cwd) && getValue('action', data) === 'read') {\n            result.cwd.name = parent.pathId.length === 1 ? parent.rootAliasName || result.cwd.name : result.cwd.name;\n            setValue('_fm_id', id, result.cwd);\n            setValue(id, result.cwd, parent.feParent);\n\n            if (!isNullOrUndefined(result.files) || result.error.code === '401') {\n              if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                // eslint-disable-next-line\n                const root = getValue(parent.pathId[0], parent.feParent);\n                parent.pathNames[0] = getValue('name', root);\n                parent.hasId = !isNullOrUndefined(getValue('id', root));\n              }\n\n              if (event === 'finalize-end') {\n                generatePath(parent);\n              }\n            }\n          }\n\n          if (!isNullOrUndefined(result.files)) {\n            setDateObject(result.files);\n\n            for (let i = 0, len = result.files.length; i < len; i++) {\n              // eslint-disable-next-line\n              const item = result.files[i];\n              setValue('_fm_iconClass', fileType(item), item);\n            }\n\n            if (getValue('action', data) === 'read') {\n              setNodeId(result, id);\n              setValue(id, result.files, parent.feFiles);\n            }\n          }\n\n          if (!isNullOrUndefined(result.details) && !isNullOrUndefined(parent.rootAliasName)) {\n            const rootName = parent.rootAliasName || getValue('name', result.details);\n            let location = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n\n            if (getValue('path', data) === '/' || parent.hasId && getValue('path', data).match(/[/]/g).length === 1) {\n              if (getValue('names', data).length === 0) {\n                setValue('name', rootName, result.details);\n                location = rootName;\n              } else {\n                location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n              }\n            } else {\n              location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n            }\n\n            setValue('location', location, result.details);\n          }\n\n          fn(parent, result, event, operation, targetPath);\n\n          if (!isNullOrUndefined(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n            parent.notify(searchTextChange, result);\n          }\n\n          if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n          }\n        },\n        onFailure: () => {\n          const result = {\n            files: null,\n            error: {\n              code: '404',\n              message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n              fileExists: null\n            }\n          };\n          triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n        }\n      });\n      ajax.send();\n    }\n  });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerAjaxFailure( // eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n  parent.notify(afterRequest, {\n    action: 'failure'\n  });\n  fn(parent, result, event, operation, targetPath);\n\n  if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n    getValue('onFailure', beforeSendArgs.ajaxSettings)();\n  }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction readSuccess(parent, result, event) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    parent.notify(selectionChanged, {});\n    const args = {\n      action: 'read',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    if (result.error.code === '401') {\n      result.files = [];\n      parent.notify(event, result);\n      parent.notify(selectionChanged, {});\n    }\n\n    onFailure(parent, result, 'read');\n  }\n\n  if (parent.isDragDrop && parent.isDropEnd) {\n    if (parent.droppedObjects.length !== 0) {\n      const args = {\n        fileDetails: parent.droppedObjects\n      };\n      parent.trigger('fileDropped', args);\n    }\n\n    parent.isDropEnd = parent.isDragDrop = false;\n  }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction filterSuccess(parent, result, event, action) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    const args = {\n      action: action,\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, action);\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createSuccess(parent, result, itemName) {\n  if (!isNullOrUndefined(result.files)) {\n    if (parent.dialogObj && parent.dialogObj.visible) {\n      parent.dialogObj.hide();\n    }\n\n    parent.createdItem = result.files[0];\n    parent.breadcrumbbarModule.searchObj.value = '';\n    const args = {\n      action: 'create',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, createEnd, parent.path);\n  } else {\n    if (result.error.code === '400') {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        const ele = select('#newname', parent.dialogObj.element);\n        const error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n        ele.parentElement.nextElementSibling.innerHTML = error;\n      } else {\n        const result = {\n          files: null,\n          error: {\n            code: '400',\n            message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n      }\n\n      const args = {\n        action: 'create',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'create');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\n\n\nfunction renameSuccess(parent, result, path) {\n  if (!isNullOrUndefined(result.files)) {\n    if (!isNullOrUndefined(parent.dialogObj)) {\n      parent.dialogObj.hide();\n    }\n\n    const args = {\n      action: 'rename',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.renamedItem = result.files[0];\n\n    if (parent.activeModule === 'navigationpane') {\n      parent.pathId.pop();\n      parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n      read(parent, renameEndParent, getParentPath(parent.path));\n    } else {\n      parent.itemData = [getPathObject(parent)];\n\n      if (parent.breadcrumbbarModule.searchObj.value !== '') {\n        Search(parent, renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n      } else {\n        if (parent.isFiltered) {\n          filter(parent, renameEnd);\n        } else {\n          read(parent, renameEnd, parent.path);\n        }\n      }\n    }\n  } else {\n    if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n      const ele = select('#rename', parent.dialogObj.element);\n      let error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n      error = error.replace('{1}', '\"' + ele.value + '\"');\n      ele.parentElement.nextElementSibling.innerHTML = error;\n      const args = {\n        action: 'rename',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (!isNullOrUndefined(parent.dialogObj)) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'rename');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteSuccess(parent, result, path, operation) {\n  if (result.error && result.error.fileExists) {\n    parent.fileLength = 0;\n\n    if (!isNullOrUndefined(result.files)) {\n      parent.isPasteError = true;\n      doPasteUpdate(parent, operation, result);\n    }\n\n    createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n\n    if (result.error.code === '404') {\n      createDialog(parent, 'Error', result);\n    }\n  } else if (!result.error && !isNullOrUndefined(result.files)) {\n    parent.isPasteError = false;\n    doPasteUpdate(parent, operation, result);\n  } else if (result.error && !isNullOrUndefined(result.files)) {\n    parent.isPasteError = true;\n    doPasteUpdate(parent, operation, result);\n    createDialog(parent, 'Error', result);\n  } else {\n    onFailure(parent, result, operation);\n  }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction deleteSuccess(parent, result, path) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.setProperties({\n      path: path\n    }, true);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, deleteEnd, parent.path);\n\n    if (result.error) {\n      onFailure(parent, result, 'delete');\n    } else {\n      const args = {\n        action: 'delete',\n        result: result\n      };\n      parent.trigger('success', args);\n    }\n  } else {\n    onFailure(parent, result, 'delete');\n  }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction detailsSuccess( // eslint:disable-next-line\nparent, result, path, operation) {\n  if (!isNullOrUndefined(result.details)) {\n    createDialog(parent, operation, null, result.details);\n    const args = {\n      action: 'details',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'details');\n  }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction onFailure(parent, result, action) {\n  createDialog(parent, 'Error', result);\n  const args = {\n    action: action,\n    error: result.error\n  };\n  parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\n\n\nfunction Search( // eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n  // eslint-disable-next-line\n  const data = {\n    action: 'search',\n    path: path,\n    searchString: searchString,\n    showHiddenItems: showHiddenItems,\n    caseSensitive: caseSensitive,\n    data: parent.itemData\n  };\n  createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction searchSuccess(parent, result, event) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    const args = {\n      action: 'search',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'search');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\n\n\nfunction Download(parent, path, items) {\n  const downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url; // eslint-disable-next-line\n\n  const data = {\n    'action': 'download',\n    'path': path,\n    'names': items,\n    'data': parent.itemData\n  };\n  const eventArgs = {\n    data: data,\n    cancel: false\n  };\n  parent.trigger('beforeDownload', eventArgs, downloadArgs => {\n    if (!downloadArgs.cancel) {\n      const form = createElement('form', {\n        id: parent.element.id + '_downloadForm',\n        attrs: {\n          action: downloadUrl,\n          method: 'post',\n          name: 'downloadForm',\n          'download': ''\n        }\n      });\n      const input = createElement('input', {\n        id: parent.element.id + '_hiddenForm',\n        attrs: {\n          name: 'downloadInput',\n          value: JSON.stringify(downloadArgs.data),\n          type: 'hidden'\n        }\n      });\n      form.appendChild(input);\n      parent.element.appendChild(form);\n      document.forms.namedItem('downloadForm').submit();\n      parent.element.removeChild(form);\n    }\n  });\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\n\n\nfunction createDialog(parent, text, e, details, replaceItems) {\n  const options = getOptions(parent, text, e, details, replaceItems);\n\n  if (isNullOrUndefined(parent.dialogObj)) {\n    parent.dialogObj = new Dialog({\n      beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n      beforeClose: args => {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n      },\n      header: options.header,\n      content: options.content,\n      buttons: options.buttons,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      allowDragging: true,\n      isModal: true,\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      width: '350px',\n      open: options.open,\n      close: options.close,\n      enableRtl: parent.enableRtl,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.dialogObj.isStringTemplate = true;\n    parent.dialogObj.appendTo('#' + parent.element.id + DIALOG_ID);\n  } else {\n    changeOptions(parent, options);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\n\n\nfunction createExtDialog(parent, text, replaceItems, newPath) {\n  const extOptions = getExtOptions(parent, text, replaceItems, newPath);\n  parent.isApplySame = false;\n\n  if (isNullOrUndefined(parent.extDialogObj)) {\n    parent.extDialogObj = new Dialog({\n      beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n      beforeClose: args => {\n        triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n      },\n      content: extOptions.content,\n      header: extOptions.header,\n      closeOnEscape: true,\n      allowDragging: true,\n      animationSettings: {\n        effect: 'None'\n      },\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      enableRtl: parent.enableRtl,\n      showCloseIcon: true,\n      isModal: true,\n      width: 350,\n      buttons: extOptions.buttons,\n      open: extOptions.open,\n      close: extOptions.close,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.extDialogObj.isStringTemplate = true;\n    parent.extDialogObj.appendTo('#' + parent.element.id + EXTN_DIALOG_ID);\n  } else {\n    parent.extDialogObj.header = extOptions.header;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.open = extOptions.open;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.content = extOptions.content;\n    parent.extDialogObj.buttons = extOptions.buttons;\n    parent.extDialogObj.enableRtl = parent.enableRtl;\n    parent.extDialogObj.locale = parent.locale;\n    parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n\n    parent.extDialogObj.beforeClose = args => {\n      triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n    };\n\n    parent.extDialogObj.dataBind();\n    parent.extDialogObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n  const eventArgs = {\n    cancel: args.cancel,\n    popupName: dialogName,\n    popupModule: dlgModule\n  };\n  parent.trigger('beforePopupOpen', eventArgs, eventargs => {\n    args.cancel = eventargs.cancel;\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n  const eventArgs = {\n    cancel: args.cancel,\n    popupModule: dlgModule,\n    popupName: dialogName\n  };\n  parent.trigger('beforePopupClose', eventArgs, eventargs => {\n    args.cancel = eventargs.cancel;\n\n    if (!args.cancel && args.isInteracted && (dialogName === 'Rename' || dialogName === 'Create Folder')) {\n      parent.trigger(actionFailure, {});\n    }\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n  const args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n  const args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupClose', args);\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\n\n\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n  const options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  let duplicateContent;\n  let item;\n  let index;\n\n  options.open = () => {\n    triggerPopupOpen(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  options.close = () => {\n    triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  switch (text) {\n    case 'Extension':\n      options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n      options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: () => {\n          parent.extDialogObj.hide();\n          rename(parent, newPath, parent.renameText);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: () => {\n          parent.extDialogObj.hide();\n          parent.dialogObj.hide();\n        }\n      }];\n      options.dialogName = 'Extension Change';\n      break;\n\n    case 'DuplicateItems':\n      options.dialogName = 'Duplicate Items';\n      parent.replaceItems = replaceItems;\n      item = parent.replaceItems[parent.fileLength];\n      index = item.lastIndexOf('/');\n      item = index === -1 ? item : item.substring(index);\n      options.header = getLocaleText(parent, 'Header-Duplicate');\n      duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n      options.content = duplicateContent.replace('{0}', item);\n\n      options.close = () => {\n        if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n          const args = {\n            fileDetails: parent.droppedObjects\n          };\n          parent.trigger('fileDropped', args);\n          parent.isDropEnd = parent.isDragDrop = false;\n        }\n\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: () => {\n          parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n          parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            let item = parent.replaceItems[parent.fileLength];\n            const indexval = item.lastIndexOf('/');\n            item = indexval === -1 ? item : item.substring(indexval);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n            const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n            const path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n            const action = parent.isDragDrop ? 'move' : parent.fileAction;\n            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n          }\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: () => {\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            let item = parent.replaceItems[parent.fileLength];\n            const ind = item.lastIndexOf('/');\n            item = ind === -1 ? item : item.substring(ind);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n\n            if (parent.duplicateItems.length !== 0) {\n              const action = parent.isDragDrop ? 'move' : parent.fileAction;\n              const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n              const path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n              paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n            }\n          }\n        }\n      }];\n      break;\n\n    case 'UploadRetry':\n      options.dialogName = 'Retry Upload';\n      options.header = getLocaleText(parent, 'Header-Retry');\n      options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' + getLocaleText(parent, 'Content-Retry') + '</div>';\n      options.open = onRetryOpen.bind(this, parent);\n\n      options.close = () => {\n        parent.isRetryOpened = false;\n        retryDlgClose(parent);\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Keep-Both')\n        },\n        click: () => {\n          retryDlgUpdate(parent, true);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Replace')\n        },\n        click: () => {\n          retryDlgUpdate(parent, false);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Skip')\n        },\n        click: () => {\n          let count = 0;\n\n          if (parent.isApplySame) {\n            count = parent.retryFiles.length;\n            parent.retryFiles = [];\n            retryDlgClose(parent);\n          } else {\n            count = 1;\n            parent.retryFiles.splice(0, 1);\n\n            if (parent.retryFiles.length !== 0) {\n              createExtDialog(parent, 'UploadRetry');\n            } else {\n              retryDlgClose(parent);\n            }\n          }\n\n          parent.notify(skipUpload, {\n            count: count\n          });\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgUpdate(parent, isKeepBoth) {\n  if (parent.isApplySame) {\n    if (isKeepBoth) {\n      onKeepBothAll(parent);\n    } else {\n      onReplaceAll(parent);\n    }\n\n    retryDlgClose(parent);\n  } else {\n    parent.retryArgs.push({\n      action: isKeepBoth ? 'keepboth' : 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n\n    if (parent.retryFiles.length !== 0) {\n      createExtDialog(parent, 'UploadRetry');\n    } else {\n      retryDlgClose(parent);\n    }\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgClose(parent) {\n  let flag = true;\n\n  if (parent.isRetryOpened) {\n    parent.isRetryOpened = false;\n  } else {\n    flag = false;\n  }\n\n  const ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n\n  if (ele) {\n    remove(ele);\n  }\n\n  if (flag) {\n    parent.extDialogObj.hide();\n  } else {\n    parent.retryFiles = [];\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction onRetryOpen(parent, args) {\n  parent.isRetryOpened = true;\n  const dialogEle = getValue('element', args);\n  const container = select('.e-dlg-content', dialogEle);\n  const checkContainer = parent.createElement('div', {\n    className: 'e-dlg-checkbox'\n  });\n  const checkbox = parent.createElement('input', {\n    id: parent.element.id + '_applyall'\n  });\n  checkContainer.appendChild(checkbox);\n  container.appendChild(checkContainer);\n  const checkBoxObj = new CheckBox({\n    label: getLocaleText(parent, 'ApplyAll-Label'),\n    change: args => {\n      parent.isApplySame = args.checked;\n    }\n  });\n  checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n  triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onKeepBothAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'keepboth',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReplaceAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction focusInput(parent) {\n  const ele = select('#newname', parent.dialogObj.element);\n  ele.focus();\n  ele.value = '';\n  const len = ele.value.length;\n  ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFolderDialogOpen(parent) {\n  const ele = select('#newname', parent.dialogObj.element);\n\n  if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n  }\n\n  ele.parentElement.nextElementSibling.innerHTML = '';\n\n  ele.oninput = () => {\n    onValidate(parent, ele);\n  };\n\n  ele.onkeyup = e => {\n    const code = getKeyCode(e);\n\n    if (code === 13) {\n      onSubmit(parent);\n    }\n  };\n\n  focusInput(parent);\n  triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onRenameDialogOpen(parent) {\n  const inputEle = select('#rename', parent.dialogObj.element);\n\n  if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n  }\n\n  inputEle.parentElement.nextElementSibling.innerHTML = '';\n\n  inputEle.oninput = () => {\n    onValidate(parent, inputEle);\n  };\n\n  inputEle.onkeyup = e => {\n    const code = getKeyCode(e);\n\n    if (code === 13) {\n      onReSubmit(parent);\n    }\n  };\n\n  onFocusRenameInput(parent, inputEle);\n  triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFocusRenameInput(parent, inputEle) {\n  inputEle.focus();\n  let txt = '';\n\n  if (parent.isFile && !parent.showFileExtension) {\n    const index = parent.currentItemText.lastIndexOf('.');\n    txt = index === -1 ? parent.currentItemText : parent.currentItemText.substring(0, index);\n  } else {\n    txt = parent.currentItemText;\n  }\n\n  inputEle.value = txt;\n\n  if (parent.isFile && parent.showFileExtension && inputEle.value.indexOf('.') !== -1) {\n    inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n  } else {\n    inputEle.setSelectionRange(0, inputEle.value.length);\n  }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\n\n\nfunction createInput(ele, placeholder) {\n  Input.createInput({\n    element: ele,\n    properties: {\n      placeholder: placeholder\n    }\n  });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\n\n\nfunction getOptions(parent, text, e, details, replaceItems) {\n  const options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  let permission;\n  let formattedString;\n  let intl;\n  let strArr;\n  let fileType$$1;\n  let location;\n\n  options.open = () => {\n    triggerPopupOpen(parent, parent.dialogObj, options.dialogName);\n  };\n\n  options.close = () => {\n    triggerPopupClose(parent, parent.dialogObj, options.dialogName);\n  };\n\n  text = details && details.multipleFiles === true ? 'MultipleFileDetails' : text;\n\n  switch (text) {\n    case 'NewFolder':\n      options.dialogName = 'Create Folder';\n      options.header = getLocaleText(parent, 'Header-NewFolder');\n      options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Create')\n        },\n        click: e => {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onSubmit(parent);\n        }\n      }];\n      options.open = onFolderDialogOpen.bind(this, parent);\n      break;\n\n    case 'Delete':\n      options.dialogName = 'Delete';\n\n      if (parent.selectedItems.length > 1) {\n        options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>').replace('{0}', parent.selectedItems.length.toString());\n        options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n      } else {\n        options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n        options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n      }\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: e => {\n          onDeleteSubmit(parent);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: () => {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Rename':\n      options.dialogName = 'Rename';\n      options.header = getLocaleText(parent, 'Header-Rename');\n      options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Save')\n        },\n        click: e => {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onReSubmit(parent);\n        }\n      }];\n      options.open = onRenameDialogOpen.bind(this, parent);\n      break;\n\n    case 'details':\n      options.dialogName = 'File Details';\n      intl = new Internationalization(parent.locale);\n      formattedString = intl.formatDate(new Date(details.modified), {\n        format: 'MMMM dd, yyyy HH:mm:ss'\n      });\n      permission = '';\n\n      if (!isNullOrUndefined(details.permission)) {\n        permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + VALUE + '\" >' + objectToString(details.permission) + '</td></tr>';\n      }\n\n      options.header = details.name;\n      options.content = '<table>' + '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + VALUE + '\" title=\"' + (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + VALUE + '\" title =\"' + details.size + '\">' + details.size + '</span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + VALUE + '\" title=\"' + details.location + '\">' + details.location + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + VALUE + '\" >' + formattedString + '</td></tr>' + permission + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: e => {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'MultipleFileDetails':\n      options.dialogName = 'File Details';\n      strArr = details.name.split(',').map(val => {\n        const index = val.indexOf('.') + 1;\n        return index === 0 ? 'Folder' : val.substr(index).replace(' ', '');\n      });\n      fileType$$1 = strArr.every((val, i, arr) => val === arr[0]) ? strArr[0] === 'Folder' ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type' : 'Multiple Types';\n      location = details.location;\n      options.header = details.name;\n      options.content = '<table><tr><td>' + getLocaleText(parent, 'Type') + ':</td><td class=\"' + VALUE + '\">' + fileType$$1 + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' + details.size + '<span class=\"' + VALUE + '\" title =\"' + details.size + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + ':</td><td class=\"' + VALUE + '\" title=\"' + location + '\">' + location + '</td></tr>' + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: e => {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Error':\n      parent.notify(actionFailure, {});\n      options.dialogName = 'Error';\n\n      if (e.error.code === '401') {\n        options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' + getLocaleText(parent, 'Access-Denied') + '</div>';\n      } else {\n        options.header = getLocaleText(parent, 'Error');\n      }\n\n      options.content = '<div class=\"' + ERROR_CONTENT + '\">' + e.error.message + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: e => {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction keydownAction(parent, dialogName, args) {\n  const btnElement = selectAll('.e-btn', parent.dialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction beforeExtOpen(parent, dlgName, args) {\n  const btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\n\n\nfunction preventKeydown(btnElement) {\n  for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n    btnElement[btnCount].onkeydown = e => {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n      }\n    };\n\n    btnElement[btnCount].onkeyup = e => {\n      if (e.keyCode === 13) {\n        btnElement[btnCount].click();\n      }\n    };\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\n\n\nfunction changeOptions(parent, options) {\n  parent.dialogObj.header = options.header;\n  parent.dialogObj.content = options.content;\n  parent.dialogObj.buttons = options.buttons;\n  parent.dialogObj.enableRtl = parent.enableRtl;\n  parent.dialogObj.open = options.open;\n  parent.dialogObj.close = options.close;\n  parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n\n  parent.dialogObj.beforeClose = args => {\n    triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n  };\n\n  parent.dialogObj.dataBind();\n  parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmit(parent) {\n  const ele = select('#newname', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReSubmit(parent) {\n  const ele = select('#rename', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  let text = ele.value;\n  const oIndex = parent.currentItemText.lastIndexOf('.');\n\n  if (parent.isFile && !parent.showFileExtension) {\n    const extn = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    text += extn;\n  }\n\n  parent.renameText = text;\n\n  if (parent.currentItemText === text) {\n    parent.dialogObj.hide();\n    return;\n  }\n\n  const newPath = parent.activeModule === 'navigationpane' ? getParentPath(parent.path) : parent.path;\n  parent.renamedId = getValue('id', parent.itemData[0]);\n\n  if (parent.isFile) {\n    const oldExtension = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    const nIndex = text.lastIndexOf('.');\n    const newExtension = nIndex === -1 ? '' : text.substr(nIndex);\n\n    if (parent.showFileExtension && oldExtension !== newExtension) {\n      createExtDialog(parent, 'Extension', null, newPath);\n    } else {\n      rename(parent, newPath, text);\n    }\n  } else {\n    rename(parent, newPath, text);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onDeleteSubmit(parent) {\n  parent.dialogObj.hide();\n  parent.notify(deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onValidate(parent, ele) {\n  if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n    addInvalid(parent, ele);\n  } else if (ele.value === '') {\n    ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = '';\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmitValidate(parent, ele) {\n  onValidate(parent, ele);\n  const len = ele.value.length - 1;\n\n  if (ele.value !== '' && (ele.value.lastIndexOf('.') === len || ele.value.lastIndexOf(' ') === len) && (parent.showFileExtension || parent.currentItemText.lastIndexOf('.') === -1)) {\n    addInvalid(parent, ele);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction addInvalid(parent, ele) {\n  const error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n\n  if (parent.enableHtmlSanitizer) {\n    ele.parentElement.nextElementSibling.textContent = error;\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = error;\n  }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\n\n\nfunction getKeyCode(e) {\n  let code;\n\n  if (e.keyCode) {\n    code = e.keyCode;\n  } else if (e.which) {\n    code = e.which;\n  } else {\n    code = e.charCode;\n  }\n\n  return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\n\n\nfunction createImageDialog(parent, header, imageUrl) {\n  const content = createElement('div', {\n    className: 'e-image-wrap'\n  });\n  const image = createElement('img', {\n    className: 'e-image',\n    attrs: {\n      src: imageUrl,\n      alt: header\n    }\n  });\n  content.appendChild(image);\n\n  if (isNullOrUndefined(parent.viewerObj)) {\n    parent.viewerObj = new Dialog({\n      header: header,\n      content: content,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      isModal: true,\n      width: '350px',\n      height: '350px',\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      locale: parent.locale,\n      enableResize: true,\n      allowDragging: true,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: parent.enableRtl,\n      open: openImage.bind(this, parent),\n      close: () => {\n        triggerPopupClose(parent, parent.viewerObj, 'Image Preview');\n      },\n      beforeOpen: args => {\n        triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      beforeClose: args => {\n        triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      resizing: updateImage.bind(this, parent),\n      resizeStop: updateImage.bind(this, parent)\n    });\n    parent.viewerObj.isStringTemplate = true;\n    parent.viewerObj.appendTo('#' + parent.element.id + IMG_DIALOG_ID);\n  } else {\n    parent.viewerObj.refresh();\n    parent.viewerObj.header = header;\n    parent.viewerObj.content = content;\n    parent.viewerObj.enableRtl = parent.enableRtl;\n    parent.viewerObj.dataBind();\n    parent.viewerObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction openImage(parent) {\n  setTimeout(() => {\n    if (parent.viewerObj) {\n      parent.viewerObj.element.focus();\n    }\n  });\n  updateImage(parent);\n  triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction updateImage(parent) {\n  const content = select('.e-dlg-content', parent.viewerObj.element);\n  const imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n  const cssObj = window.getComputedStyle(content, null);\n  const paddingWidth = cssObj ? 2 * parseFloat(cssObj.paddingRight) : 36;\n  const paddingHeight = cssObj ? 2 * parseFloat(cssObj.paddingBottom) : 20;\n  imgWrap.style.width = content.offsetWidth - paddingWidth + 'px';\n  imgWrap.style.height = content.offsetHeight - paddingHeight + 'px';\n}\n/**\n * File Manager common operations\n */\n\n/**\n * LargeIconsView module\n */\n\n\nclass LargeIconsView {\n  /**\n   * Constructor for the LargeIcons module.\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  constructor(parent) {\n    this.isInteraction = true;\n    this.uploadOperation = false;\n    this.count = 0;\n    this.isRendered = true;\n    this.tapCount = 0;\n    this.isPasteOperation = false;\n    this.isInteracted = true;\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n    addClass([this.element], LARGE_ICONS);\n    this.addEventListener();\n    this.keyConfigs = {\n      end: 'end',\n      home: 'home',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      ctrlUp: 'ctrl+uparrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftLeft: 'shift+leftarrow',\n      shiftRight: 'shift+rightarrow',\n      shiftUp: 'shift+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csLeft: 'ctrl+shift+leftarrow',\n      csRight: 'ctrl+shift+rightarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      f2: 'f2',\n      shiftdel: 'shift+delete',\n      back: 'backspace',\n      ctrlD: 'ctrl+d'\n    };\n  }\n\n  render(args) {\n    this.parent.visitedItem = null;\n    this.startItem = null;\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'LargeIcons') {\n      this.resetMultiSelect();\n      this.element.setAttribute('tabindex', '0');\n\n      if (this.listObj) {\n        this.unWireEvents();\n        this.removeEventListener();\n      }\n\n      this.parent.notify(hideLayout, {});\n      const iconsView = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n      const ul = select('ul', iconsView);\n\n      if (ul) {\n        remove(ul);\n      }\n\n      this.listObj = {\n        ariaAttributes: {\n          itemRole: 'option',\n          listRole: 'listbox',\n          itemText: '',\n          groupItemRole: 'group',\n          wrapperRole: ''\n        },\n        showIcon: true,\n        fields: {\n          text: 'name',\n          iconCss: '_fm_icon',\n          imageUrl: '_fm_imageUrl',\n          htmlAttributes: '_fm_htmlAttr'\n        },\n        sortOrder: this.parent.sortOrder,\n        itemCreated: this.onItemCreated.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n      };\n      this.items = [];\n      this.items = this.renderList(args);\n      this.items = getSortedData(this.parent, this.items); // eslint-disable-next-line\n\n      this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n      this.itemList = Array.prototype.slice.call(selectAll('.' + LIST_ITEM, this.listElements));\n      this.element.appendChild(this.listElements);\n      this.preventImgDrag();\n      this.createDragObj();\n      iconsView.classList.remove(DISPLAY_NONE);\n\n      if (this.itemList.length === 0) {\n        const emptyList = this.element.querySelector('.' + LIST_PARENT);\n        this.element.removeChild(emptyList);\n        createEmptyElement(this.parent, this.element, args);\n      } else if (this.itemList.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n        this.element.removeChild(this.element.querySelector('.' + EMPTY));\n      }\n\n      if (this.isPasteOperation === true) {\n        this.selectItems(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.uploadOperation === true) {\n        this.selectItems(this.parent.uploadItem);\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n        this.count++;\n\n        if (this.count === this.parent.uploadItem.length) {\n          this.uploadOperation = false;\n          this.parent.uploadItem = [];\n        }\n      }\n\n      const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.parent.activeModule = 'largeiconsview';\n      }\n\n      for (let i = 0; i < activeEle.length; i++) {\n        activeEle[i].setAttribute('aria-selected', 'true');\n      }\n\n      this.adjustHeight();\n      this.element.style.maxHeight = '100%';\n      this.getItemCount();\n      this.addEventListener();\n      this.wireEvents();\n      this.isRendered = true;\n      hideSpinner(this.parent.element);\n\n      if (this.parent.selectedItems.length) {\n        this.checkItem();\n      }\n    }\n  }\n\n  preventImgDrag() {\n    let i = 0;\n\n    while (i < this.itemList.length) {\n      if (this.itemList[i].querySelector('img')) {\n        /* istanbul ignore next */\n        this.itemList[i].ondragstart = () => {\n          return false;\n        };\n      }\n\n      i++;\n    }\n  }\n\n  createDragObj() {\n    if (!this.parent.isMobile && this.listObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.listElements, {\n          enableTailMode: true,\n          distance: 5,\n          enableAutoScroll: true,\n          dragTarget: '.' + LARGE_ICON,\n          helper: this.dragHelper.bind(this),\n          cursorAt: this.parent.dragCursorPosition,\n          dragArea: this.parent.element,\n          dragStop: dragStopHandler.bind(this, this.parent),\n          drag: draggingHandler.bind(this, this.parent),\n          clone: true,\n          dragStart: args => {\n            dragStartHandler(this.parent, args, this.dragObj);\n          }\n        });\n      } else if (this.dragObj && !this.parent.allowDragAndDrop) {\n        this.dragObj.destroy();\n      }\n    }\n  }\n\n  dragHelper(args) {\n    const dragTarget = args.sender.target;\n    const dragLi = closest(dragTarget, '.e-list-item');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    if (dragLi && !dragLi.classList.contains('e-active')) {\n      this.setFocus(dragLi);\n    }\n\n    const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n\n    for (let i = 0; i < activeEle.length; i++) {\n      // eslint-disable-next-line\n      this.parent.dragData.push(this.getItemObject(activeEle[i]));\n      this.parent.activeElements.push(activeEle[i]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.dragPath = this.parent.path;\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  }\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      const dropLi = closest(args.target, '.e-list-item'); // eslint-disable-next-line\n\n      const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (dropLi) {\n        // eslint-disable-next-line\n        const info = this.getItemObject(dropLi);\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      } else {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      }\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'largeiconsview';\n  }\n\n  adjustHeight() {\n    const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n    const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n    this.element.style.height = pane.offsetHeight - bar.offsetHeight + 'px';\n  }\n\n  onItemCreated(args) {\n    args.item.removeAttribute('aria-level');\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n      const textEle = args.item.querySelector('.' + LIST_TEXT);\n      const txt = getValue('name', args.curData);\n      const type = getValue('type', args.curData);\n      textEle.innerHTML = txt.substr(0, txt.length - type.length);\n    }\n\n    this.renderCheckbox(args);\n    const eventArgs = {\n      element: args.item,\n      fileDetails: args.curData,\n      module: 'LargeIconsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  }\n\n  renderCheckbox(args) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    const checkElement = createCheckBox(createElement, false, {\n      checked: false,\n      cssClass: 'e-small'\n    });\n    checkElement.setAttribute('role', 'checkbox');\n    checkElement.setAttribute('aria-checked', 'false');\n    args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n  }\n\n  onLayoutChange(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.destroy();\n      this.render(args);\n      /* istanbul ignore next */\n\n      if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' && this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n        const indexes = this.getIndexes(this.parent.selectedNodes);\n        let length = 0;\n\n        while (length < indexes.length) {\n          addBlur(this.itemList[indexes[length]]);\n          length++;\n        }\n      }\n\n      const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.element.focus();\n      }\n\n      this.checkItem();\n      this.parent.isLayoutChange = false;\n    } else {\n      this.element.setAttribute('tabindex', '-1');\n    }\n  }\n\n  checkItem() {\n    const checkEle = this.element.querySelectorAll('.' + ACTIVE);\n\n    if (checkEle) {\n      let checkLength = 0;\n\n      while (checkLength < checkEle.length) {\n        this.checkState(checkEle[checkLength], true);\n        checkLength++;\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  renderList(args) {\n    let i = 0; // eslint-disable-next-line\n\n    const items = JSON.parse(JSON.stringify(args.files));\n\n    while (i < items.length) {\n      const icon = fileType(items[i]);\n      const name = getValue('name', items[i]);\n      const selected = getItemName(this.parent, items[i]);\n      let className = this.parent.selectedItems && this.parent.selectedItems.indexOf(selected) !== -1 ? LARGE_ICON + ' e-active' : LARGE_ICON;\n\n      if (!hasEditAccess(items[i])) {\n        className += ' ' + getAccessClass(items[i]);\n      }\n\n      if (icon === ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n        const imgUrl = getImageUrl(this.parent, items[i]);\n        setValue('_fm_imageUrl', imgUrl, items[i]);\n        setValue('_fm_imageAttr', {\n          alt: name\n        }, items[i]);\n      } else {\n        setValue('_fm_icon', icon, items[i]);\n      }\n\n      setValue('_fm_htmlAttr', {\n        class: className,\n        title: name\n      }, items[i]);\n      i++;\n    }\n\n    return items;\n  }\n\n  onFinalizeEnd(args) {\n    this.render(args);\n  }\n\n  onCreateEnd(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.clearSelect();\n    this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n    this.parent.createdItem = null;\n    this.parent.largeiconsviewModule.element.focus();\n  }\n\n  onSelectedData() {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.updateSelectedData();\n    }\n  }\n\n  onDeleteInit() {\n    if (this.parent.activeModule === 'largeiconsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.clearSelect();\n  }\n\n  onRefreshEnd(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n  }\n\n  onRenameInit() {\n    if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  }\n\n  onPathChanged(args) {\n    this.parent.isCut = false;\n    /* istanbul ignore next */\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n      this.parent.searchedItems = [];\n    }\n\n    if (this.parent.view === 'LargeIcons') {\n      removeBlur(this.parent);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.onLayoutChange(args);\n\n      if (this.parent.renamedItem) {\n        this.clearSelect();\n        this.addSelection(this.parent.renamedItem);\n        this.parent.renamedItem = null;\n      }\n    }\n  }\n\n  onOpenInit(args) {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.doOpenAction(args.target);\n    }\n  }\n\n  onHideLayout() {\n    if (this.parent.view !== 'LargeIcons' && this.element) {\n      this.element.classList.add(DISPLAY_NONE);\n    }\n  }\n\n  onSelectAllInit() {\n    if (this.parent.view === 'LargeIcons') {\n      this.startItem = this.getFirstItem();\n      const lastItem = this.getLastItem();\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      this.doSelection(lastItem, eveArgs);\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  }\n\n  onClearAllInit() {\n    if (this.parent.view === 'LargeIcons') {\n      this.clearSelection();\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  }\n\n  onBeforeRequest() {\n    this.isRendered = false;\n  }\n\n  onAfterRequest() {\n    this.isRendered = true;\n  }\n  /* istanbul ignore next */\n\n\n  onSearch(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(selectionChanged, {});\n      this.parent.searchedItems = args.files;\n      this.onLayoutChange(args);\n    }\n  }\n\n  onLayoutRefresh() {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.adjustHeight();\n  }\n\n  onUpdateSelectionData() {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.updateSelectedData();\n  }\n\n  onPathColumn() {\n    if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(this.listObj) && this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered && this.parent.sortBy === 'filterPath') {\n      this.parent.sortBy = 'name';\n      this.parent.notify(sortByChange, {});\n    }\n  }\n\n  removeEventListener() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(pathColumn, this.onPathColumn);\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(search, this.onSearch);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(openEnd, this.onPathChanged);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(methodCall, this.onMethodCall);\n    this.parent.off(actionFailure, this.onActionFailure);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onPathChanged);\n    this.parent.off(hideLayout, this.onHideLayout);\n    this.parent.off(selectAllInit, this.onSelectAllInit);\n    this.parent.off(clearAllInit, this.onClearAllInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(beforeRequest, this.onBeforeRequest);\n    this.parent.off(afterRequest, this.onAfterRequest);\n    this.parent.off(splitterResize, this.splitterResizeHandler);\n    this.parent.off(resizeEnd, this.resizeHandler);\n    this.parent.off(pasteInit, this.onpasteInit);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n    this.parent.off(filterEnd, this.onPathChanged);\n  }\n\n  addEventListener() {\n    this.parent.on(pathColumn, this.onPathColumn, this);\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(pasteInit, this.onpasteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(search, this.onSearch, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onPathChanged, this);\n    this.parent.on(openEnd, this.onPathChanged, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(methodCall, this.onMethodCall, this);\n    this.parent.on(actionFailure, this.onActionFailure, this);\n    this.parent.on(hideLayout, this.onHideLayout, this);\n    this.parent.on(selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(clearAllInit, this.onClearAllInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(afterRequest, this.onAfterRequest, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(splitterResize, this.splitterResizeHandler, this);\n    this.parent.on(resizeEnd, this.resizeHandler, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n    this.parent.on(filterEnd, this.onPathChanged, this);\n  }\n\n  onActionFailure() {\n    this.isInteraction = true;\n    this.isInteracted = true;\n  } // eslint-disable-next-line\n\n\n  onMenuItemData(args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      const ele = closest(args.target, 'li');\n      this.parent.itemData = [this.getItemObject(ele)];\n    }\n  }\n\n  onDetailsInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.updateSelectedData();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  }\n\n  onpasteInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath === '' ? [getPathObject(this.parent)] : [this.getItemObject(select('.e-active', this.element))];\n    }\n  }\n\n  oncutCopyInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n      this.parent.activeRecords = [];\n      this.parent.activeElements = [];\n\n      for (let i = 0; i < activeEle.length; i++) {\n        this.parent.activeElements.push(activeEle[i]);\n        this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n      }\n    }\n  }\n\n  onpasteEnd(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  }\n\n  onDropPath(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  }\n\n  onPropertyChanged(e) {\n    let currentSelected;\n\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'selectedItems':\n          this.isInteraction = false;\n          this.isInteracted = false;\n          currentSelected = isNullOrUndefined(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n          currentSelected = this.parent.allowMultiSelection ? currentSelected : currentSelected.slice(currentSelected.length - 1);\n          this.parent.setProperties({\n            selectedItems: []\n          }, true);\n          this.onClearAllInit();\n\n          if (currentSelected.length) {\n            this.selectItems(currentSelected);\n          }\n\n          this.parent.setProperties({\n            selectedItems: this.parent.selectedItems\n          }, true);\n          this.isInteraction = true;\n          this.isInteracted = true;\n          break;\n\n        case 'showThumbnail':\n          refresh(this.parent);\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (this.parent.view !== 'LargeIcons') {\n            break;\n          }\n\n          refresh(this.parent);\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'LargeIcons');\n          break;\n      }\n    }\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.listObj) {\n      this.unWireEvents();\n    }\n  }\n\n  wireEvents() {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n  }\n\n  unWireEvents() {\n    this.wireClickEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n  }\n  /* istanbul ignore next */\n\n\n  onMouseOver(e) {\n    const targetEle = closest(e.target, '.e-list-item');\n    removeBlur(this.parent, 'hover');\n\n    if (targetEle !== null) {\n      targetEle.classList.add(HOVER);\n    }\n  }\n\n  wireClickEvent(toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      const proxy = this;\n      this.clickObj = new Touch(this.element, {\n        tap: eve => {\n          eve.originalEvent.preventDefault();\n\n          if (proxy.parent.isDevice) {\n            proxy.tapCount = eve.tapCount;\n            proxy.tapEvent = eve;\n            setTimeout(() => {\n              if (proxy.tapCount > 0) {\n                proxy.doTapAction(proxy.tapEvent);\n              }\n\n              proxy.tapCount = 0;\n            }, 350);\n          } else {\n            if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n              proxy.dblClickHandler(eve);\n            } else {\n              proxy.clickHandler(eve);\n            }\n          }\n        },\n        tapHold: e => {\n          if (proxy.parent.isDevice) {\n            proxy.multiSelect = proxy.parent.allowMultiSelection ? true : false;\n\n            if (proxy.parent.allowMultiSelection) {\n              addClass([proxy.parent.element], MULTI_SELECT);\n            }\n\n            proxy.clickHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  }\n\n  doTapAction(eve) {\n    const target = eve.originalEvent.target;\n    const item = closest(target, '.' + LIST_ITEM);\n\n    if (this.multiSelect || target.classList.contains(LIST_PARENT) || isNullOrUndefined(item)) {\n      this.clickHandler(eve);\n    } else {\n      this.parent.isFile = false;\n      this.updateType(item);\n\n      if (!this.parent.isFile) {\n        this.dblClickHandler(eve);\n      } else if (eve.tapCount === 2) {\n        this.clickHandler(eve);\n        this.dblClickHandler(eve);\n      } else {\n        this.clickHandler(eve);\n      }\n    }\n  }\n\n  clickHandler(e) {\n    const target = e.originalEvent.target;\n    removeBlur(this.parent, 'hover');\n    this.doSelection(target, e.originalEvent);\n    this.parent.activeModule = 'largeiconsview';\n  }\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  doSelection(target, e) {\n    const item = closest(target, '.' + LIST_ITEM);\n    const cList = target.classList;\n    this.parent.isFile = false;\n    let action = 'select';\n\n    if (e.which === 3 && !isNullOrUndefined(item) && item.classList.contains(ACTIVE)) {\n      this.updateType(item);\n      return;\n    } else if (!isNullOrUndefined(item)) {\n      if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE) && (e.ctrlKey || target.classList.contains(CHECK))) {\n        action = 'unselect';\n      }\n\n      const fileSelectionArgs = this.triggerSelection(action, item);\n\n      if (fileSelectionArgs.cancel !== true) {\n        if ((!this.parent.allowMultiSelection || !this.multiSelect && e && !e.ctrlKey) && !cList.contains(FRAME)) {\n          this.updateType(item);\n          this.clearSelect();\n        }\n\n        if (this.parent.allowMultiSelection && e.shiftKey) {\n          if (!(e && e.ctrlKey)) {\n            this.clearSelect();\n          }\n\n          if (!this.startItem) {\n            this.startItem = item;\n          }\n\n          const startIndex = this.itemList.indexOf(this.startItem);\n          const endIndex = this.itemList.indexOf(item);\n\n          if (startIndex > endIndex) {\n            for (let i = startIndex; i >= endIndex; i--) {\n              this.addActive(this.itemList[i]);\n            }\n          } else {\n            for (let i = startIndex; i <= endIndex; i++) {\n              this.addActive(this.itemList[i]);\n            }\n          }\n\n          this.addFocus(this.itemList[endIndex]);\n        } else {\n          this.startItem = item;\n\n          if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)) {\n            this.removeActive(item);\n          } else {\n            this.addActive(item);\n          }\n\n          this.addFocus(item);\n        }\n\n        if (this.parent.selectedItems.length === 0) {\n          this.resetMultiSelect();\n        }\n\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect(action, item);\n      }\n    } else {\n      this.clearSelection();\n    }\n\n    if (!isNullOrUndefined(item)) {\n      this.updateType(item);\n    }\n  }\n\n  dblClickHandler(e) {\n    this.parent.activeModule = 'largeiconsview';\n    const target = e.originalEvent.target;\n    this.doOpenAction(target);\n  }\n\n  clearSelection() {\n    this.clearSelect();\n    this.resetMultiSelect();\n    this.parent.notify(selectionChanged, {});\n  }\n\n  resetMultiSelect() {\n    this.multiSelect = false;\n    removeClass([this.parent.element], MULTI_SELECT);\n  }\n\n  doOpenAction(target) {\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    const item = closest(target, '.' + LIST_ITEM);\n    this.parent.isFile = false;\n\n    if (!isNullOrUndefined(item)) {\n      this.updateType(item); // eslint-disable-next-line\n\n      const details = this.getItemObject(item);\n\n      if (!hasReadAccess(details)) {\n        createDeniedDialog(this.parent, details, permissionRead);\n        return;\n      }\n\n      const eventArgs = {\n        cancel: false,\n        fileDetails: details,\n        module: 'LargeIconsView'\n      };\n      this.parent.trigger('fileOpen', eventArgs, fileOpenArgs => {\n        if (!fileOpenArgs.cancel) {\n          const text = getValue('name', details);\n\n          if (!this.parent.isFile) {\n            const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n\n            if (val === '' && !this.parent.isFiltered) {\n              const id = getValue('id', details);\n              const newPath = this.parent.path + (isNullOrUndefined(id) ? text : id) + '/';\n              this.parent.setProperties({\n                path: newPath\n              }, true);\n              this.parent.pathNames.push(text);\n              this.parent.pathId.push(getValue('_fm_id', details));\n              this.parent.itemData = [details];\n              openAction(this.parent);\n            } else {\n              openSearchFolder(this.parent, details);\n            }\n\n            this.parent.isFiltered = false;\n            this.parent.setProperties({\n              selectedItems: []\n            }, true);\n          } else {\n            const icon = fileType(details);\n\n            if (icon === ICON_IMAGE) {\n              const imgUrl = getImageUrl(this.parent, details);\n              createImageDialog(this.parent, text, imgUrl);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  updateType(item) {\n    const folder = select('.' + FOLDER, item);\n    this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keydownActionHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'moveDown':\n      case 'moveLeft':\n      case 'moveRight':\n      case 'moveUp':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keyActionHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    const fItem = this.getFocusedItem();\n    const firstItem = this.getFirstItem();\n    const lastItem = this.getLastItem();\n\n    switch (e.action) {\n      case 'end':\n        this.navigateItem(lastItem);\n        break;\n\n      case 'home':\n        this.navigateItem(firstItem);\n        break;\n\n      case 'tab':\n        if (!isNullOrUndefined(fItem)) {\n          this.addFocus(fItem);\n        } else if (!isNullOrUndefined(firstItem)) {\n          this.addFocus(firstItem);\n        }\n\n        break;\n\n      case 'moveDown':\n        this.navigateDown(fItem, true);\n        break;\n\n      case 'moveLeft':\n        this.navigateRight(fItem, false);\n        break;\n\n      case 'moveRight':\n        this.navigateRight(fItem, true);\n        break;\n\n      case 'moveUp':\n        this.navigateDown(fItem, false);\n        break;\n\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n        this.csEndKey(lastItem, e);\n        break;\n\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n        this.csHomeKey(firstItem, e);\n        break;\n\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n        this.csDownKey(fItem, e);\n        break;\n\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n        this.csLeftKey(fItem, e);\n        break;\n\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n        this.csRightKey(fItem, e);\n        break;\n\n      case 'ctrlUp':\n      case 'shiftUp':\n      case 'csUp':\n        this.csUpKey(fItem, e);\n        break;\n\n      case 'space':\n        this.spaceKey(fItem);\n        break;\n\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n        if (!isNullOrUndefined(fItem)) {\n          this.doSelection(fItem, e);\n        }\n\n        break;\n\n      case 'ctrlA':\n        this.ctrlAKey(firstItem, lastItem);\n        break;\n\n      case 'enter':\n        this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n        break;\n\n      case 'altEnter':\n        this.parent.notify(detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n    }\n  }\n\n  doDownload() {\n    this.updateSelectedData();\n    doDownload(this.parent);\n  }\n\n  performDelete() {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.updateSelectedData(); // eslint-disable-next-line\n\n      const data = this.parent.itemData;\n\n      for (let i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n          createDeniedDialog(this.parent, data[i], permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  }\n\n  performRename() {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  }\n\n  updateRenameData() {\n    const item = select('.' + LIST_ITEM + '.' + ACTIVE, this.element); // eslint-disable-next-line\n\n    const data = this.getItemObject(item);\n    updateRenamingData(this.parent, data);\n  }\n\n  getVisitedItem() {\n    const item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n    const indexes = this.getIndexes([item], this.parent.hasId);\n    return this.itemList[indexes[0]];\n  }\n\n  getFocusedItem() {\n    return select('.' + LIST_ITEM + '.' + FOCUS, this.element);\n  }\n\n  getActiveItem() {\n    return select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n  }\n\n  getFirstItem() {\n    return this.itemList[0];\n  }\n\n  getLastItem() {\n    return this.itemList[this.itemList.length - 1];\n  }\n\n  navigateItem(item) {\n    this.setFocus(item);\n  }\n\n  navigateDown(fItem, isTowards) {\n    const nItem = this.getNextItem(fItem, isTowards, this.perRow);\n    this.setFocus(nItem);\n  }\n\n  navigateRight(fItem, isTowards) {\n    const nItem = this.getNextItem(fItem, isTowards);\n    this.setFocus(nItem);\n  }\n\n  getNextItem(li, isTowards, perRow) {\n    if (isNullOrUndefined(li)) {\n      return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n    }\n\n    let index = this.itemList.indexOf(li);\n    let nextItem;\n\n    do {\n      if (isTowards) {\n        index = perRow ? index + perRow : index + 1;\n      } else {\n        index = perRow ? index - perRow : index - 1;\n      }\n\n      nextItem = this.itemList[index];\n\n      if (isNullOrUndefined(nextItem)) {\n        return li;\n      }\n    } while (!isVisible(nextItem));\n\n    return nextItem;\n  }\n\n  setFocus(nextItem) {\n    if (!isNullOrUndefined(nextItem)) {\n      const fileSelectionArgs = this.triggerSelection('select', nextItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.startItem = nextItem;\n        this.clearSelect();\n        this.addActive(nextItem);\n        this.addFocus(nextItem);\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('select', nextItem);\n      }\n    }\n  }\n\n  spaceKey(fItem) {\n    if (!isNullOrUndefined(fItem) && !fItem.classList.contains(ACTIVE)) {\n      const fileSelectionArgs = this.triggerSelection('select', fItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.addActive(fItem);\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('select', fItem);\n      }\n    }\n  }\n\n  ctrlAKey(firstItem, lastItem) {\n    if (this.parent.allowMultiSelection && !isNullOrUndefined(firstItem)) {\n      this.startItem = firstItem;\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      const liParent = this.element.querySelector('.' + LIST_PARENT);\n      const liScrPos = liParent.scrollTop;\n      const getCurFocusedItem = this.getFocusedItem();\n      this.doSelection(lastItem, eveArgs);\n      liParent.scrollTop = liScrPos;\n\n      if (!isNullOrUndefined(getCurFocusedItem)) {\n        this.addFocus(getCurFocusedItem);\n      }\n    }\n  }\n\n  csEndKey(lastItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(lastItem);\n    } else if (!isNullOrUndefined(lastItem)) {\n      if (e.action === 'ctrlEnd') {\n        this.addFocus(lastItem);\n      } else {\n        this.doSelection(lastItem, e);\n      }\n    }\n  }\n\n  csHomeKey(firstItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(firstItem);\n    } else if (!isNullOrUndefined(firstItem)) {\n      if (e.action === 'ctrlHome') {\n        this.addFocus(firstItem);\n      } else {\n        this.doSelection(firstItem, e);\n      }\n    }\n  }\n\n  csDownKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, true);\n    } else {\n      const dItem = this.getNextItem(fItem, true, this.perRow);\n\n      if (!isNullOrUndefined(dItem)) {\n        if (e.action === 'ctrlDown') {\n          this.addFocus(dItem);\n        } else {\n          this.doSelection(dItem, e);\n        }\n      }\n    }\n  }\n\n  csLeftKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, false);\n    } else {\n      const lItem = this.getNextItem(fItem, false);\n\n      if (!isNullOrUndefined(lItem)) {\n        if (e.action === 'ctrlLeft') {\n          this.addFocus(lItem);\n        } else {\n          this.doSelection(lItem, e);\n        }\n      }\n    }\n  }\n\n  csRightKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, true);\n    } else {\n      const rItem = this.getNextItem(fItem, true);\n\n      if (!isNullOrUndefined(rItem)) {\n        if (e.action === 'ctrlRight') {\n          this.addFocus(rItem);\n        } else {\n          this.doSelection(rItem, e);\n        }\n      }\n    }\n  }\n\n  csUpKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, false);\n    } else {\n      const uItem = this.getNextItem(fItem, false, this.perRow);\n\n      if (!isNullOrUndefined(uItem)) {\n        if (e.action === 'ctrlUp') {\n          this.addFocus(uItem);\n        } else {\n          this.doSelection(uItem, e);\n        }\n      }\n    }\n  }\n\n  addActive(nextItem) {\n    if (!isNullOrUndefined(nextItem)) {\n      if (!nextItem.classList.contains(ACTIVE)) {\n        this.parent.selectedItems.push(this.getDataName(nextItem));\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n        addClass([nextItem], [ACTIVE]);\n        nextItem.setAttribute('aria-selected', 'true');\n        this.checkState(nextItem, true);\n      }\n\n      this.parent.visitedItem = nextItem;\n    }\n  }\n\n  removeActive(preItem) {\n    if (!isNullOrUndefined(preItem)) {\n      removeClass([preItem], [ACTIVE]);\n\n      if (this.parent.allowMultiSelection) {\n        preItem.setAttribute('aria-selected', 'false');\n      } else {\n        preItem.removeAttribute('aria-selected');\n      }\n\n      this.checkState(preItem, false);\n      const index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n\n      if (index > -1) {\n        this.parent.selectedItems.splice(index, 1);\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n      }\n\n      this.parent.visitedItem = null;\n    }\n  }\n\n  getDataName(item) {\n    // eslint-disable-next-line\n    const data = this.getItemObject(item);\n    return getItemName(this.parent, data);\n  }\n\n  addFocus(item) {\n    this.element.setAttribute('tabindex', '-1');\n    const fItem = this.getFocusedItem();\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [FOCUS]);\n    }\n\n    addClass([item], [FOCUS]);\n    item.setAttribute('tabindex', '0');\n    item.focus();\n  }\n\n  checkState(item, toCheck) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    const checkEle = select('.' + FRAME, item);\n\n    if (isNullOrUndefined(checkEle)) {\n      return;\n    }\n\n    if (toCheck) {\n      if (!checkEle.classList.contains(CHECK)) {\n        addClass([checkEle], CHECK);\n        closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'true');\n      }\n    } else {\n      if (checkEle.classList.contains(CHECK)) {\n        removeClass([checkEle], CHECK);\n        closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'false');\n      }\n    }\n  }\n\n  clearSelect() {\n    const eles = Array.prototype.slice.call(selectAll('.' + ACTIVE, this.listElements));\n    let fileSelectionArgs;\n\n    if (eles.length !== 0) {\n      fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n\n      if (fileSelectionArgs.cancel !== true) {\n        for (let i = 0, len = eles.length; i < len; i++) {\n          this.removeActive(eles[i]);\n        }\n      }\n\n      this.triggerSelect('unselect', eles[0]);\n    }\n  }\n\n  resizeHandler() {\n    this.getItemCount();\n\n    if (!isNullOrUndefined(this.listObj)) {\n      this.adjustHeight();\n    }\n  }\n\n  splitterResizeHandler() {\n    this.getItemCount();\n  }\n\n  getItemCount() {\n    let perRow = 1;\n\n    if (this.itemList) {\n      for (let i = 0, len = this.itemList.length - 1; i < len; i++) {\n        if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n          perRow++;\n        } else {\n          break;\n        }\n      }\n    }\n\n    this.perRow = perRow;\n  }\n\n  triggerSelection(action, item) {\n    // eslint-disable-next-line\n    const data = this.getItemObject(item);\n    const eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteraction,\n      cancel: false,\n      target: item\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    this.isInteraction = true;\n    return eventArgs;\n  }\n\n  triggerSelect(action, item) {\n    // eslint-disable-next-line\n    const data = this.getItemObject(item);\n    this.parent.visitedData = data;\n    const eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteracted\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.isInteracted = true;\n  }\n\n  selectItems(items) {\n    const indexes = this.getIndexes(items, this.parent.hasId);\n\n    for (let j = 0, len = indexes.length; j < len; j++) {\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[indexes[j]], eveArgs);\n    }\n  }\n\n  getIndexes(items, byId) {\n    const indexes = [];\n    const filter$$1 = byId ? 'id' : 'name';\n\n    for (let i = 0, len = this.items.length; i < len; i++) {\n      if (items.indexOf(getValue(filter$$1, this.items[i])) !== -1) {\n        indexes.push(i);\n      }\n    }\n\n    return indexes;\n  } // eslint-disable-next-line\n\n\n  getItemObject(item) {\n    const index = this.itemList.indexOf(item);\n    return this.items[index];\n  } // eslint-disable-next-line\n\n\n  addSelection(data) {\n    // eslint-disable-next-line\n    let resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      const newData = new DataManager(this.items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (newData.length > 0) {\n        resultData = new DataManager(newData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      const index = this.items.indexOf(resultData[0]);\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[index], eveArgs);\n    }\n  }\n\n  updateSelectedData() {\n    // eslint-disable-next-line\n    const data = [];\n    const items = selectAll('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n\n    for (let i = 0; i < items.length; i++) {\n      data[i] = this.getItemObject(items[i]);\n    }\n\n    this.parent.itemData = data;\n  } // eslint-disable-next-line\n\n\n  onMethodCall(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    const action = getValue('action', args);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', args));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', args));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', args));\n        break;\n\n      case 'renameFile':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.renameFile(getValue('id', args), getValue('newName', args));\n        break;\n\n      case 'createFolder':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        break;\n\n      case 'clearSelection':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onClearAllInit();\n        break;\n\n      case 'selectAll':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onSelectAllInit();\n        break;\n    }\n  }\n\n  getItemsIndex(items) {\n    const indexes = [];\n    const isFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    const filterName = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !isFilter) {\n      for (let i = 0, len = this.items.length; i < len; i++) {\n        if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (let i = 0, len = this.items.length; i < len; i++) {\n        const name = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n\n        if (items.indexOf(name) !== -1 || items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    }\n\n    return indexes;\n  }\n\n  deleteFiles(ids) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNullOrUndefined(ids)) {\n      this.performDelete();\n      return;\n    }\n\n    const indexes = this.getItemsIndex(ids);\n\n    if (indexes.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < indexes.length; i++) {\n      data[i] = this.items[indexes[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  }\n\n  downloadFiles(ids) {\n    if (isNullOrUndefined(ids)) {\n      this.doDownload();\n      return;\n    }\n\n    const index = this.getItemsIndex(ids);\n\n    if (index.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < index.length; i++) {\n      data[i] = this.items[index[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  }\n\n  openFile(id) {\n    if (isNullOrUndefined(id)) {\n      return;\n    }\n\n    const indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      this.doOpenAction(this.itemList[indexes[0]]);\n    }\n  }\n\n  renameFile(id, name) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNullOrUndefined(id)) {\n      this.performRename();\n      return;\n    }\n\n    const indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      updateRenamingData(this.parent, this.items[indexes[0]]);\n\n      if (isNullOrUndefined(name)) {\n        doRename(this.parent);\n      } else {\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        } else {\n          rename(this.parent, this.parent.path, name);\n        }\n      }\n    }\n  }\n\n}\n/**\n * BreadCrumbBar module\n */\n\n\nclass BreadCrumbBar {\n  /**\n   * constructor for addressbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies parent element.\n   * @private\n   *\n   */\n  constructor(parent) {\n    this.addressPath = '';\n    this.addressBarLink = '';\n    this.searchTimer = null;\n    this.searchWrapWidth = null;\n    this.parent = parent;\n    this.keyConfigs = {\n      enter: 'enter'\n    };\n    this.render();\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      const value = e.newProp.searchSettings;\n\n      switch (prop) {\n        case 'searchSettings':\n          if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n            this.searchEventBind(value.allowSearchOnTyping);\n          }\n\n          if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' && !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) && isNullOrUndefined(value.ignoreCase))) {\n            searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n          }\n\n          break;\n      }\n    }\n  }\n\n  render() {\n    this.addEventListener();\n  }\n\n  onPathChange() {\n    const pathNames = this.parent.pathNames;\n    const paths = this.parent.path.split('/');\n    const addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    let addressbarLI = null;\n    const pathNamesLen = pathNames.length;\n\n    if (pathNames.length > 0) {\n      let id = '';\n\n      for (let i = 0; i < pathNamesLen; i++) {\n        let addressATag = null;\n        addressbarLI = this.parent.createElement('li', {\n          className: 'e-address-list-item'\n        });\n\n        for (let j = 0; j <= i; j++) {\n          id = id + paths[j] + '/';\n        }\n\n        addressbarLI.setAttribute('data-utext', id);\n\n        if (i !== 0) {\n          const icon = createElement('span', {\n            className: ICONS\n          });\n          addressbarLI.appendChild(icon);\n        }\n\n        if (pathNamesLen - i !== 1) {\n          addressATag = createElement('a', {\n            className: LIST_TEXT\n          });\n          addressbarLI.setAttribute('tabindex', '0');\n        } else {\n          addressATag = createElement('span', {\n            className: LIST_TEXT\n          });\n        }\n\n        id = '';\n        addressATag.innerText = pathNames[i];\n        addressbarLI.appendChild(addressATag);\n        addressbarUL.appendChild(addressbarLI);\n      }\n\n      const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n\n      if (!isNullOrUndefined(ulElement)) {\n        if (!isNullOrUndefined(this.subMenuObj)) {\n          this.subMenuObj.destroy();\n        }\n\n        remove(ulElement);\n      }\n\n      const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n\n      if (!searchWrap) {\n        this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n      } else {\n        this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n      }\n\n      this.updateBreadCrumbBar(addressbarUL);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  updateBreadCrumbBar(addresBarUL) {\n    const liElements = addresBarUL.querySelectorAll('li');\n    const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n    const style = window.getComputedStyle(ulElement, null);\n    const pRight = parseFloat(style.getPropertyValue('padding-right'));\n    const pLeft = parseFloat(style.getPropertyValue('padding-left'));\n    let breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n    const addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    let liElementsWidth = 0;\n    const liElementsWidths = [];\n\n    for (let i = 0; i < liElements.length; i++) {\n      const width = liElements[i].clientWidth;\n      liElementsWidths.push(width);\n      liElementsWidth = liElementsWidth + width;\n    }\n\n    if (!isNullOrUndefined(ulElement)) {\n      remove(ulElement);\n    }\n\n    const searchContainer = this.parent.createElement('div');\n    searchContainer.setAttribute('class', 'e-search-wrap');\n    const id = this.parent.element.id + SEARCH_ID;\n    const searchInput = createElement('input', {\n      id: id,\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': getLocaleText(this.parent, 'Search')\n      }\n    });\n    searchContainer.appendChild(searchInput);\n    const searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n\n    if (isNullOrUndefined(searchEle)) {\n      this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n      const span = createElement('span', {\n        className: 'e-icons e-fe-search'\n      });\n      EventHandler.add(span, 'click', this.onShowInput, this);\n      searchInput.parentElement.insertBefore(span, searchInput);\n      this.searchObj = new TextBox({\n        value: '',\n        showClearButton: true,\n        placeholder: getLocaleText(this.parent, 'Search'),\n        focus: this.onFocus.bind(this),\n        blur: this.onBlur.bind(this)\n      });\n      this.searchObj.appendTo('#' + this.parent.element.id + SEARCH_ID);\n      this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n      const search$$1 = this.searchObj.element.nextElementSibling;\n      EventHandler.add(search$$1, 'mousedown', this.searchChangeHandler.bind(this), this);\n      EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n    }\n\n    const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n    breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n\n    if (liElementsWidth > breadCrumbBarWidth) {\n      let i = liElements.length;\n\n      while (i--) {\n        const diff = breadCrumbBarWidth - liElementsWidths[i];\n\n        if (diff > 40) {\n          addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n          breadCrumbBarWidth = diff;\n        } else {\n          // eslint-disable-next-line\n          const items = [];\n\n          for (let j = 0; j <= i; j++) {\n            const liElement = liElements[j];\n            items.push({\n              text: liElement.innerText,\n              utext: liElement.getAttribute('data-utext')\n            });\n          }\n\n          const subMenuLi = this.parent.createElement('li', {\n            className: 'e-breadcrumb-menu'\n          }); // eslint-disable-next-line\n\n          const attributes = {\n            className: 'e-breadcrumb-submenu'\n          };\n          const subMenuSpan = this.parent.createElement('button', attributes);\n          subMenuLi.appendChild(subMenuSpan);\n          addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n          this.subMenuObj = new DropDownButton({\n            items: items,\n            cssClass: 'e-caret-hide e-submenu',\n            iconCss: ICON_BREADCRUMB,\n            iconPosition: 'Top',\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.addSubMenuAttributes.bind(this),\n            select: this.subMenuSelectOperations.bind(this)\n          });\n          this.subMenuObj.isStringTemplate = true;\n          this.subMenuObj.appendTo(subMenuSpan);\n          break;\n        }\n      }\n\n      this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n    } else {\n      this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onFocus() {\n    const wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.add('e-focus');\n  }\n  /* istanbul ignore next */\n\n\n  onKeyUp() {\n    this.parent.notify(pathColumn, {\n      args: this.parent\n    });\n  }\n  /* istanbul ignore next */\n\n\n  onBlur() {\n    const wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.remove('e-focus');\n  }\n  /* istanbul ignore next */\n\n\n  subMenuSelectOperations(event) {\n    // eslint-disable-next-line\n    const args = {\n      target: event.element\n    };\n    this.addressPathClickHandler(args);\n  }\n  /* istanbul ignore next */\n\n\n  addSubMenuAttributes(args) {\n    args.element.setAttribute('data-utext', getValue('utext', args.item));\n    const anchor = this.parent.createElement('a', {\n      className: 'e-list-text'\n    });\n    args.element.appendChild(anchor);\n  }\n\n  searchEventBind(allow) {\n    if (allow) {\n      this.searchObj.input = this.searchChangeHandler.bind(this);\n      this.searchObj.change = null;\n    } else {\n      this.searchObj.change = this.searchChangeHandler.bind(this);\n      this.searchObj.input = null;\n    }\n  }\n\n  searchChangeHandler(args) {\n    if (!isNullOrUndefined(args.value)) {\n      this.parent.isFiltered = false;\n\n      if (this.parent.searchSettings.allowSearchOnTyping) {\n        window.clearTimeout(this.searchTimer);\n        this.searchTimer = window.setTimeout(() => {\n          searchWordHandler(this.parent, args.value, false);\n        }, 300);\n      } else {\n        searchWordHandler(this.parent, args.value, false);\n      }\n    }\n  }\n\n  addressPathClickHandler(e) {\n    const li = e.target;\n\n    if (li.nodeName === 'LI' || li.nodeName === 'A') {\n      const node = li.nodeName === 'LI' ? li.children[0] : li;\n\n      if (!isNullOrUndefined(node)) {\n        this.parent.isFiltered = false;\n        const currentPath = this.updatePath(node);\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n        this.triggerFileOpen(this.parent.itemData[0]);\n        read(this.parent, pathChanged, currentPath);\n        const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.parent.notify(updateTreeSelection, {\n          module: 'treeview',\n          selectedNode: treeNodeId\n        });\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  triggerFileOpen(data) {\n    const eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'BreadCrumbBar'\n    };\n    delete eventArgs.cancel;\n    this.parent.trigger('fileOpen', eventArgs);\n  }\n  /* istanbul ignore next */\n\n\n  onShowInput() {\n    if (this.parent.isMobile) {\n      if (this.parent.element.classList.contains(FILTER)) {\n        removeClass([this.parent.element], FILTER);\n        this.searchWrapWidth = null;\n      } else {\n        const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        this.searchWrapWidth = searchWrap.offsetWidth;\n        addClass([this.parent.element], FILTER);\n        this.searchObj.element.focus();\n      }\n    }\n  }\n\n  updatePath(list) {\n    const li = closest(list, 'li');\n    const liElementId = li.getAttribute('data-utext');\n    this.addressBarLink = liElementId;\n    const link = this.addressBarLink.split('/');\n    const ids = this.parent.pathId;\n    const names = this.parent.pathNames;\n    this.parent.pathId = [];\n    this.parent.pathNames = [];\n    let newpath = '';\n\n    for (let i = 0, len = link.length - 1; i < len; i++) {\n      this.parent.pathId.push(ids[i]);\n      this.parent.pathNames.push(names[i]);\n      newpath += link[i] + '/';\n    }\n\n    this.parent.setProperties({\n      path: newpath\n    }, true);\n    return newpath;\n  }\n\n  onUpdatePath() {\n    this.onPathChange();\n    this.removeSearchValue();\n  }\n\n  onCreateEnd() {\n    this.onPathChange();\n  }\n\n  onRenameEnd() {\n    this.onPathChange();\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd() {\n    this.onUpdatePath();\n  }\n  /* istanbul ignore next */\n\n\n  removeSearchValue() {\n    this.parent.isFiltered = false;\n\n    if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n      this.searchObj.value = '';\n      this.searchObj.element.value = '';\n      this.searchObj.dataBind();\n    }\n  }\n\n  onResize() {\n    this.onPathChange();\n  }\n\n  onPasteEnd() {\n    this.onPathChange();\n  }\n\n  addEventListener() {\n    this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(pathChanged, this.onUpdatePath, this);\n    this.parent.on(finalizeEnd, this.onUpdatePath, this);\n    this.parent.on(refreshEnd, this.onUpdatePath, this);\n    this.parent.on(openEnd, this.onUpdatePath, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(renameEnd, this.onRenameEnd, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(splitterResize, this.onResize, this);\n    this.parent.on(pasteEnd, this.onPasteEnd, this);\n    this.parent.on(resizeEnd, this.onResize, this);\n    this.parent.on(searchTextChange, this.onSearchTextChange, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(layoutRefresh, this.onResize, this);\n    this.parent.on(dropPath, this.onPathChange, this);\n  }\n\n  keyActionHandler(e) {\n    switch (e.action) {\n      case 'enter':\n        this.addressPathClickHandler(e);\n        break;\n    }\n  }\n\n  removeEventListener() {\n    this.keyboardModule.destroy();\n    this.parent.off(pathChanged, this.onUpdatePath);\n    this.parent.off(finalizeEnd, this.onUpdatePath);\n    this.parent.off(refreshEnd, this.onUpdatePath);\n    this.parent.off(openEnd, this.onUpdatePath);\n    this.parent.off(pasteEnd, this.onPasteEnd);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(renameEnd, this.onRenameEnd);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(splitterResize, this.onResize);\n    this.parent.off(resizeEnd, this.onResize);\n    this.parent.off(searchTextChange, this.onSearchTextChange);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(layoutRefresh, this.onResize);\n    this.parent.off(dropPath, this.onPathChange);\n  }\n  /* istanbul ignore next */\n\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      const liEle = args.target.closest('li');\n      this.parent.dropPath = this.updatePath(liEle.children[0]);\n      this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      this.triggerFileOpen(this.parent.dropData);\n      const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n      this.parent.notify(updateTreeSelection, {\n        module: 'treeview',\n        selectedNode: treeNodeId\n      });\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'breadcrumbbar';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    /* istanbul ignore next */\n\n    if (!isNullOrUndefined(this.subMenuObj)) {\n      this.subMenuObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.searchObj)) {\n      this.searchObj.destroy();\n    }\n  }\n\n  onSearchTextChange(args) {\n    this.searchObj.element.placeholder = this.parent.searchSettings.placeholder != null ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n  }\n\n}\n/**\n * ContextMenu module\n */\n\n\nclass ContextMenu$2 {\n  /**\n   * Constructor for the ContextMenu module\n   *\n   * @param {IFileManager} parent - Specifies the parent element.\n   * @hidden\n   */\n  constructor(parent) {\n    this.currentItems = [];\n    this.currentElement = null;\n    this.disabledItems = [];\n    this.parent = parent;\n    this.render();\n  }\n\n  render() {\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      uparrow: 'uparrown'\n    };\n    this.contextMenu = new ContextMenu({\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      target: '#' + this.parent.element.id,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      beforeItemRender: this.onBeforeItemRender.bind(this),\n      select: this.onSelect.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this),\n      cssClass: getCssClass(this.parent, ROOT_POPUP)\n    });\n    this.contextMenu.isStringTemplate = true;\n    this.contextMenu.appendTo('#' + this.parent.element.id + CONTEXT_MENU_ID);\n    this.addEventListener();\n  }\n  /* istanbul ignore next */\n\n\n  onBeforeItemRender(args) {\n    if (args.item.id === this.getMenuId('largeiconsview')) {\n      const iconSpan = createElement('span');\n      const element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', ICON_LARGE + ' ' + MENU_ICON);\n    }\n\n    if (args.item.id === this.getMenuId('detailsview')) {\n      const iconSpan = createElement('span');\n      const element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', ICON_GRID + ' ' + MENU_ICON);\n    }\n  }\n\n  onBeforeClose() {\n    this.menuTarget = null;\n  }\n  /* istanbul ignore next */\n\n\n  onBeforeOpen(args) {\n    this.disabledItems = [];\n    let selected = false;\n    let uid; // eslint-disable-next-line\n\n    let data;\n    let treeFolder = false;\n    let target = args.event.target;\n    this.menuTarget = this.targetNodeElement = target;\n    this.currentElement = args.element;\n\n    if (target.classList.contains('e-spinner-pane')) {\n      target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(FULLROW)[0];\n      this.menuTarget = this.targetNodeElement = target;\n    }\n\n    this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n    const view = this.getTargetView(target);\n    this.updateActiveModule();\n    /* istanbul ignore next */\n\n    if (target.classList.contains(TREE_VIEW) || closest(target, 'th') || closest(target, '#' + this.parent.element.id + BREADCRUMBBAR_ID) || closest(target, '#' + this.parent.element.id + TOOLBAR_ID)) {\n      args.cancel = true; // eslint:disable-next-line\n    } else if (!(this.parent.view === 'LargeIcons') && this.targetElement && this.targetElement.classList.contains('e-emptyrow')) {\n      this.setLayoutItem(target);\n      /* istanbul ignore next */\n    } else if (closest(target, '.' + EMPTY)) {\n      this.setLayoutItem(target); // eslint:disable-next-line\n    } else if (!target.classList.contains(MENU_ITEM) && !target.classList.contains(MENU_ICON) && !target.classList.contains(SUBMENU_ICON)) {\n      /* istanbul ignore next */\n      // eslint:disable-next-line\n      if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + TREE_ID)) {\n        const eveArgs = {\n          ctrlKey: true,\n          shiftKey: true\n        };\n\n        if (!closest(target, 'li').classList.contains('e-active')) {\n          this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n        } // eslint-disable-next-line\n\n\n        data = this.parent.visitedData;\n        selected = true;\n      } else if (!isNullOrUndefined(closest(target, 'tr.e-row'))) {\n        uid = this.targetElement.getAttribute('data-uid'); // eslint-disable-next-line\n\n        data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n\n        if (isNullOrUndefined(this.targetElement.getAttribute('aria-selected'))) {\n          /* istanbul ignore next */\n          this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('aria-rowindex'), 10)]);\n        }\n\n        selected = true;\n        /* istanbul ignore next */\n      } else if (closest(target, '#' + this.parent.element.id + TREE_ID)) {\n        uid = closest(target, 'li').getAttribute('data-uid');\n        treeFolder = true;\n      }\n      /* istanbul ignore next */\n\n\n      if (selected) {\n        if (getValue('isFile', data) === true) {\n          this.setFileItem();\n        } else {\n          this.setFolderItem(false);\n        }\n        /* istanbul ignore next */\n\n      } else if (treeFolder) {\n        this.setFolderItem(true);\n\n        if (uid === this.parent.pathId[0]) {\n          this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n        }\n        /* istanbul ignore next */\n        // eslint:disable-next-line\n\n      } else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n        this.setLayoutItem(target);\n        /* istanbul ignore next */\n      } else {\n        args.cancel = true;\n      }\n    }\n\n    const pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n\n    if (!args.cancel && !this.parent.enablePaste && pasteEle && !pasteEle.classList.contains('e-disabled')) {\n      this.disabledItems.push('Paste');\n    }\n\n    if (args.cancel) {\n      this.menuTarget = this.currentElement = null;\n      return;\n    }\n\n    this.contextMenu.dataBind();\n    let isSubMenu = false;\n\n    if (target.classList.contains(MENU_ITEM) || target.classList.contains(MENU_ICON) || target.classList.contains(SUBMENU_ICON)) {\n      isSubMenu = true;\n    }\n\n    this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n    const eventArgs = {\n      fileDetails: [this.menuItemData],\n      element: args.element,\n      target: target,\n      items: isSubMenu ? args.items : this.contextMenu.items,\n      menuModule: this.contextMenu,\n      cancel: false,\n      menuType: this.menuType,\n      isSubMenu: isSubMenu\n    };\n    this.currentItems = eventArgs.items;\n    this.parent.trigger('menuOpen', eventArgs, menuOpenArgs => {\n      if (!isSubMenu) {\n        this.contextMenu.dataBind();\n        this.contextMenu.items = menuOpenArgs.items;\n        this.contextMenu.dataBind();\n      }\n\n      this.enableItems(this.disabledItems, false, true);\n      args.cancel = menuOpenArgs.cancel;\n\n      if (menuOpenArgs.cancel) {\n        this.menuTarget = this.targetNodeElement = this.currentElement = null;\n      }\n    });\n  }\n\n  updateActiveModule() {\n    this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + TREE_ID) ? 'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + GRID_ID) ? 'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + LARGEICON_ID) ? 'largeiconsview' : this.parent.activeModule;\n  }\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @returns {string} -returns the target view.\n   * @hidden\n   */\n\n\n  getTargetView(target) {\n    return target.classList.contains(TREE_VIEW) ? 'TreeView' : target.classList.contains(GRID_VIEW) ? 'GridView' : target.classList.contains(ICON_VIEW) ? 'LargeIcon' : target.classList.contains(LARGE_ICONS) ? 'LargeIcon' : '';\n  }\n\n  getItemIndex(item) {\n    const itemId = this.getMenuId(item);\n\n    for (let i = 0; i < this.currentItems.length; i++) {\n      if (this.currentItems[i].id === itemId || this.currentItems[i].id === item) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  disableItem(items) {\n    if (items.length !== 0) {\n      this.disabledItems = this.disabledItems.concat(items);\n    }\n  }\n\n  enableItems(items, enable, isUniqueId) {\n    for (let i = 0; i < items.length; i++) {\n      if (this.checkValidItem(items[i]) === 1) {\n        this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n      } else if (this.checkValidItem(items[i]) === 2) {\n        this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n      }\n    }\n  }\n\n  setFolderItem(isTree) {\n    this.menuType = 'folder';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(item => item.trim()));\n    this.contextMenu.dataBind();\n\n    if (isTree) {\n      this.disabledItems.push('Open');\n    } else if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename', 'Paste');\n    }\n  }\n\n  setFileItem() {\n    this.menuType = 'file';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(item => item.trim()));\n    this.contextMenu.dataBind();\n\n    if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename');\n    }\n  }\n\n  setLayoutItem(target) {\n    this.menuType = 'layout';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(item => item.trim()));\n    this.contextMenu.dataBind();\n\n    if (!this.parent.allowMultiSelection || this.parent.view === 'LargeIcons' && closest(target, '#' + this.parent.element.id + LARGEICON_ID).getElementsByClassName(EMPTY).length !== 0 || this.parent.view === 'Details' && closest(target, '#' + this.parent.element.id + GRID_ID).getElementsByClassName(EMPTY).length !== 0) {\n      this.disabledItems.push('SelectAll');\n    }\n\n    if (this.parent.selectedNodes.length === 0) {\n      this.disabledItems.push('Paste');\n    }\n\n    this.contextMenu.dataBind();\n  }\n\n  checkValidItem(nameEle) {\n    if (!isNullOrUndefined(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n      return 1;\n    } else if (!isNullOrUndefined(select('#' + nameEle, this.currentElement))) {\n      return 2;\n    } else {\n      return -1;\n    }\n  } // eslint-disable-next-line\n\n\n  getMenuItemData() {\n    if (this.menuType === 'layout') {\n      return getPathObject(this.parent);\n    } else {\n      // eslint-disable-next-line\n      const args = {\n        target: this.menuTarget\n      };\n      this.parent.notify(menuItemData, args);\n      return this.parent.itemData[0];\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSelect(args) {\n    if (isNullOrUndefined(args.item) || !args.item.id) {\n      return;\n    }\n\n    const itemText = args.item.id.substr((this.parent.element.id + '_cm_').length); // eslint-disable-next-line\n\n    let details;\n\n    if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(selectedData, {});\n\n      if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n        details = [this.menuItemData];\n      } else {\n        details = this.parent.itemData;\n      }\n    }\n\n    const eventArgs = {\n      cancel: false,\n      element: args.element,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('menuClick', eventArgs, menuClickArgs => {\n      let sItems;\n\n      if (!menuClickArgs.cancel) {\n        // eslint:disable-next-line\n        switch (itemText) {\n          case 'cut':\n            cutFiles(this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(this.parent);\n            break;\n\n          case 'paste':\n            if (this.menuType === 'folder') {\n              if (this.parent.activeModule === 'largeiconsview' || this.parent.activeModule === 'detailsview') {\n                this.parent.folderPath = getFullPath(this.parent, this.menuItemData, this.parent.path);\n              } else {\n                this.parent.folderPath = '';\n              }\n            } else {\n              this.parent.folderPath = '';\n            }\n\n            pasteHandler(this.parent);\n            break;\n\n          case 'delete':\n            for (let j = 0; j < details.length; j++) {\n              if (!hasEditAccess(details[j])) {\n                createDeniedDialog(this.parent, details[j], permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(this.parent, 'Delete');\n            break;\n\n          /* istanbul ignore next */\n\n          case 'download':\n            for (let i = 0; i < details.length; i++) {\n              if (!hasDownloadAccess(details[i])) {\n                createDeniedDialog(this.parent, details[i], permissionDownload);\n                return;\n              }\n            }\n\n            if (this.parent.activeModule === 'navigationpane') {\n              this.parent.notify(downloadInit, {});\n            } else if (this.parent.selectedItems.length > 0) {\n              Download(this.parent, this.parent.path, this.parent.selectedItems);\n            }\n\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(this.parent, details[0], permissionEdit);\n            } else {\n              this.parent.notify(renameInit, {});\n              createDialog(this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'selectall':\n            /* istanbul ignore next */\n            this.parent.notify(selectAllInit, {});\n            break;\n\n          case 'refresh':\n            refresh(this.parent);\n            break;\n\n          case 'open':\n            if (this.parent.visitedItem) {\n              this.parent.notify(openInit, {\n                target: this.parent.visitedItem\n              });\n            } else if (this.parent.activeModule === 'navigationpane') {\n              this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(this.targetNodeElement, 'li'));\n            }\n\n            break;\n\n          case 'details':\n            this.parent.notify(detailsInit, {});\n            sItems = this.parent.selectedItems;\n\n            if (this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(this.parent, sItems, this.parent.path, 'details');\n            break;\n\n          case 'newfolder':\n            createNewFolder(this.parent);\n            break;\n\n          case 'upload':\n            uploadItem(this.parent);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'name':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'size':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'date':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'ascending':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'descending':\n            /* istanbul ignore next */\n            sortbyClickHandler(this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'none':\n            /* istanbul ignore next */\n            sortbyClickHandler(this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'largeiconsview':\n            updateLayout(this.parent, 'LargeIcons');\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'detailsview':\n            updateLayout(this.parent, 'Details');\n            break;\n        }\n      }\n    });\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'cssClass':\n          this.contextMenu.cssClass = getCssClass(this.parent, ROOT_POPUP);\n          break;\n      }\n    }\n  }\n\n  addEventListener() {\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  }\n\n  removeEventListener() {\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.keyboardModule.destroy();\n  }\n\n  keyActionHandler(e) {\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n        e.preventDefault();\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'contextmenu';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    this.contextMenu.destroy();\n  }\n  /* istanbul ignore next */\n\n\n  getItemData(data) {\n    const items = [];\n\n    for (let i = 0; i < data.length; i++) {\n      let item;\n      const itemId = this.getMenuId(data[i]);\n      const itemText = getLocaleText(this.parent, data[i]);\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            separator: true\n          };\n          break;\n\n        case 'Open':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_OPEN\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_UPLOAD\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_CUT\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_COPY\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_PASTE\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DELETE\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_RENAME\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_NEWFOLDER\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DETAILS\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_SHORTBY,\n            items: [{\n              id: this.getMenuId('Name'),\n              text: getLocaleText(this.parent, 'Name'),\n              iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Size'),\n              text: getLocaleText(this.parent, 'Size'),\n              iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Date'),\n              text: getLocaleText(this.parent, 'DateModified'),\n              iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : null\n            }, {\n              separator: true\n            }, {\n              id: this.getMenuId('Ascending'),\n              text: getLocaleText(this.parent, 'Ascending'),\n              iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('Descending'),\n              text: getLocaleText(this.parent, 'Descending'),\n              iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('None'),\n              text: getLocaleText(this.parent, 'None'),\n              iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'View':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n            items: [{\n              id: this.getMenuId('largeiconsview'),\n              text: getLocaleText(this.parent, 'View-LargeIcons'),\n              iconCss: this.parent.view === 'Details' ? null : TB_OPTION_TICK\n            }, {\n              id: this.getMenuId('detailsview'),\n              text: getLocaleText(this.parent, 'View-Details'),\n              iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_REFRESH\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_SELECTALL\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DOWNLOAD\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  }\n\n  getMenuId(id) {\n    return this.parent.element.id + '_cm_' + id.toLowerCase();\n  }\n\n}\n/**\n * Specifies the default locale of FileManager component\n */\n// eslint-disable-next-line\n\n\nconst defaultLocale = {\n  'NewFolder': 'New folder',\n  'Upload': 'Upload',\n  'Delete': 'Delete',\n  'Rename': 'Rename',\n  'Download': 'Download',\n  'Cut': 'Cut',\n  'Copy': 'Copy',\n  'Paste': 'Paste',\n  'SortBy': 'Sort by',\n  'Refresh': 'Refresh',\n  'Item-Selection': 'item selected',\n  'Items-Selection': 'items selected',\n  'View': 'View',\n  'Details': 'Details',\n  'SelectAll': 'Select all',\n  'Open': 'Open',\n  'Tooltip-NewFolder': 'New folder',\n  'Tooltip-Upload': 'Upload',\n  'Tooltip-Delete': 'Delete',\n  'Tooltip-Rename': 'Rename',\n  'Tooltip-Download': 'Download',\n  'Tooltip-Cut': 'Cut',\n  'Tooltip-Copy': 'Copy',\n  'Tooltip-Paste': 'Paste',\n  'Tooltip-SortBy': 'Sort by',\n  'Tooltip-Refresh': 'Refresh',\n  'Tooltip-Selection': 'Clear selection',\n  'Tooltip-View': 'View',\n  'Tooltip-Details': 'Details',\n  'Tooltip-SelectAll': 'Select all',\n  'Name': 'Name',\n  'Size': 'Size',\n  'DateModified': 'Modified',\n  'DateCreated': 'Date created',\n  'Path': 'Path',\n  'Modified': 'Modified',\n  'Created': 'Created',\n  'Location': 'Location',\n  'Type': 'Type',\n  'Permission': 'Permission',\n  'Ascending': 'Ascending',\n  'Descending': 'Descending',\n  'None': 'None',\n  'View-LargeIcons': 'Large icons',\n  'View-Details': 'Details',\n  'Search': 'Search',\n  'Button-Ok': 'OK',\n  'Button-Cancel': 'Cancel',\n  'Button-Yes': 'Yes',\n  'Button-No': 'No',\n  'Button-Create': 'Create',\n  'Button-Save': 'Save',\n  'Header-NewFolder': 'Folder',\n  'Content-NewFolder': 'Enter your folder name',\n  'Header-Rename': 'Rename',\n  'Content-Rename': 'Enter your new name',\n  'Header-Rename-Confirmation': 'Rename Confirmation',\n  'Content-Rename-Confirmation': 'If you change a file name extension, the file might become unstable. ' + 'Are you sure you want to change it?',\n  'Header-Delete': 'Delete File',\n  'Content-Delete': 'Are you sure you want to delete this file?',\n  'Header-Folder-Delete': 'Delete Folder',\n  'Content-Folder-Delete': 'Are you sure you want to delete this folder?',\n  'Header-Multiple-Delete': 'Delete Multiple Items',\n  'Content-Multiple-Delete': 'Are you sure you want to delete these {0} items?',\n  'Header-Duplicate': 'File/Folder exists',\n  'Content-Duplicate': '{0} already exists. Do you want to rename and paste?',\n  'Header-Upload': 'Upload Files',\n  'Error': 'Error',\n  'Validation-Empty': 'The file or folder name cannot be empty.',\n  'Validation-Invalid': 'The file or folder name {0} contains invalid characters. Please use a different name. ' + // eslint-disable-next-line no-useless-escape\n  'Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\\\/:*?\\\"<>|',\n  'Validation-NewFolder-Exists': 'A file or folder with the name {0} already exists.',\n  'Validation-Rename-Exists': 'Cannot rename {0} to {1}: destination already exists.',\n  'Folder-Empty': 'This folder is empty',\n  'File-Upload': 'Drag files here to upload',\n  'Search-Empty': 'No results found',\n  'Search-Key': 'Try with different keywords',\n  'Filter-Empty': 'No results found',\n  'Filter-Key': 'Try with different filter',\n  'Sub-Folder-Error': 'The destination folder is the subfolder of the source folder.',\n  'Same-Folder-Error': 'The destination folder is the same as the source folder.',\n  'Access-Denied': 'Access Denied',\n  'Access-Details': 'You don\"t have permission to access this folder.',\n  'Header-Retry': 'File Already Exists',\n  'Content-Retry': 'A file with this name already exists in this folder. What would you like to do?',\n  'Button-Keep-Both': 'Keep both',\n  'Button-Replace': 'Replace',\n  'Button-Skip': 'Skip',\n  'ApplyAll-Label': 'Do this for all current items',\n  'KB': 'KB',\n  'Access-Message': '{0} is not accessible. You need permission to perform the {1} action.',\n  'Network-Error': 'NetworkError: Failed to send on XMLHTTPRequest: Failed to load',\n  'Server-Error': 'ServerError: Invalid response from'\n};\n\nvar __decorate$8 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar FileManager_1;\n/**\n * The FileManager component allows users to access and manage the file system through the web  browser. It can performs the\n * functionalities like add, rename, search, sort, upload and delete files or folders. And also it\n * provides an easy way of  dynamic injectable modules like toolbar, navigationpane, detailsview, largeiconsview.\n * ```html\n *  <div id=\"file\"></div>\n * ```\n * ```typescript,\n *  let feObj: FileManager = new FileManager();\n *  feObj.appendTo('#file');\n * ```\n */\n\nlet FileManager = FileManager_1 = class FileManager extends Component {\n  constructor(options, element) {\n    super(options, element); // eslint-disable-next-line\n\n    this.filterData = null;\n    this.selectedNodes = [];\n    this.duplicateItems = []; // eslint-disable-next-line\n\n    this.duplicateRecords = [];\n    this.previousPath = [];\n    this.nextPath = [];\n    this.isLayoutChange = false;\n    this.layoutSelectedItems = [];\n    this.renamedId = null;\n    this.uploadItem = [];\n    this.deleteRecords = [];\n    this.isFile = false;\n    this.isCut = false;\n    this.isSearchCut = false;\n    this.isSearchDrag = false;\n    this.isPasteError = false;\n    this.folderPath = '';\n    this.isSameAction = false;\n    this.isFiltered = false; // Specifies whether the sort by option is clicked or not.\n\n    this.isSortByClicked = false;\n    this.enablePaste = false;\n    this.persistData = false;\n    this.retryArgs = [];\n    this.isOpened = false;\n    this.isRetryOpened = false;\n    this.isPathDrag = false; // eslint-disable-next-line\n\n    this.searchedItems = [];\n    this.retryFiles = [];\n    this.isApplySame = false; // eslint-disable-next-line\n\n    this.dragData = [];\n    this.dragNodes = [];\n    this.dragPath = '';\n    this.dropPath = '';\n    this.isDragDrop = false;\n    this.treeExpandTimer = null;\n    this.dragCursorPosition = {\n      left: 44,\n      top: 18\n    };\n    this.isDropEnd = false;\n    this.dragCount = 0; // eslint-disable-next-line\n\n    this.droppedObjects = [];\n    this.uploadingCount = 0;\n    this.uploadedCount = 0; //Specifies whether the operating system is MAC or not\n\n    this.isMac = false;\n    FileManager_1.Inject(BreadCrumbBar, LargeIconsView, ContextMenu$2);\n  }\n  /**\n   * Get component name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'filemanager';\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   */\n\n\n  preRender() {\n    if (isNullOrUndefined(this.element.id) || this.element.id === '') {\n      this.element.setAttribute('id', getUniqueID('filemanager'));\n    }\n\n    this.ensurePath();\n    this.feParent = [];\n    this.feFiles = [];\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.isDevice = Browser.isDevice;\n    this.isMobile = this.checkMobile();\n\n    if (this.isMobile) {\n      this.setProperties({\n        navigationPaneSettings: {\n          visible: false\n        }\n      }, true);\n    }\n\n    const ele = closest(this.element, '.e-bigger');\n    this.isBigger = ele ? true : false;\n    this.activeModule = this.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n    createSpinner({\n      target: this.element\n    }, createElement);\n    this.addWrapper();\n    this.keyConfigs = {\n      altN: 'alt+n',\n      f5: 'f5',\n      ctrlShift1: 'ctrl+shift+1',\n      ctrlShift2: 'ctrl+shift+2',\n      ctrlU: 'ctrl+u'\n    };\n    this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n  }\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string} - returns the persisted data.\n   * @hidden\n   */\n\n\n  getPersistData() {\n    const keyEntity = ['view', 'path', 'selectedItems'];\n    return this.addOnPersist(keyEntity);\n  }\n  /**\n   * To provide the array of modules needed for component rendering\n   *\n   * @returns {ModuleDeclaration[]} - returns module declaration.\n   * @hidden\n   */\n\n\n  requiredModules() {\n    const modules = [];\n    modules.push({\n      member: 'breadcrumbbar',\n      args: [this]\n    });\n    modules.push({\n      member: 'largeiconsview',\n      args: [this]\n    });\n\n    if (this.toolbarSettings.visible) {\n      modules.push({\n        member: 'toolbar',\n        args: [this]\n      });\n    }\n\n    if (this.navigationPaneSettings.visible) {\n      modules.push({\n        member: 'navigationpane',\n        args: [this]\n      });\n    }\n\n    if (this.view) {\n      modules.push({\n        member: 'detailsview',\n        args: [this]\n      });\n    }\n\n    if (this.contextMenuSettings.visible && !this.isDevice) {\n      modules.push({\n        member: 'contextmenu',\n        args: [this]\n      });\n    }\n\n    return modules;\n  }\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  render() {\n    this.initialize();\n    const slItems = isNullOrUndefined(this.selectedItems) ? [] : this.allowMultiSelection ? this.selectedItems : this.selectedItems.slice(this.selectedItems.length - 1);\n    this.setProperties({\n      selectedItems: slItems\n    }, true);\n    this.fileView = this.view;\n    this.isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n    this.setRtl(this.enableRtl);\n    this.addEventListeners();\n    read(this, this.path !== this.originalPath ? initialEnd : finalizeEnd, this.path);\n    this.adjustHeight();\n\n    if (isNullOrUndefined(this.navigationpaneModule)) {\n      this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n      const bar = select('.' + SPLIT_BAR, this.element);\n      bar.classList.add(DISPLAY_NONE);\n    }\n\n    this.wireEvents();\n    this.renderComplete();\n  }\n\n  ensurePath() {\n    let currentPath = this.path;\n\n    if (isNullOrUndefined(currentPath)) {\n      currentPath = '/';\n    }\n\n    if (currentPath.lastIndexOf('/') !== currentPath.length - 1) {\n      currentPath = currentPath + '/';\n    }\n\n    this.originalPath = currentPath;\n    const paths = currentPath.split('/');\n    this.setProperties({\n      path: paths[0] + '/'\n    }, true);\n    this.pathNames = [];\n    this.pathId = ['fe_tree'];\n    this.itemData = [];\n  }\n\n  initialize() {\n    if (this.isMobile) {\n      addClass([this.element], MOBILE);\n    }\n\n    if (this.allowMultiSelection) {\n      addClass([this.element], CHECK_SELECT);\n    }\n\n    this.addCssClass(null, this.cssClass);\n    this.renderFileUpload();\n  }\n\n  addWrapper() {\n    const headerWrap = this.createElement('div', {\n      id: this.element.id + TOOLBAR_ID\n    });\n    this.element.appendChild(headerWrap);\n    const layoutWrap = this.createElement('div', {\n      id: this.element.id + LAYOUT_ID,\n      className: LAYOUT\n    });\n    this.element.appendChild(layoutWrap);\n    const navigationWrap = this.createElement('div', {\n      id: this.element.id + NAVIGATION_ID,\n      className: NAVIGATION\n    });\n    const treeWrap = this.createElement('div', {\n      id: this.element.id + TREE_ID\n    });\n    navigationWrap.appendChild(treeWrap);\n    const contentWrap = this.createElement('div', {\n      id: this.element.id + CONTENT_ID,\n      className: LAYOUT_CONTENT\n    });\n    this.breadCrumbBarNavigation = this.createElement('div', {\n      id: this.element.id + BREADCRUMBBAR_ID,\n      className: BREADCRUMBS\n    });\n    contentWrap.appendChild(this.breadCrumbBarNavigation);\n    const gridWrap = this.createElement('div', {\n      id: this.element.id + GRID_ID\n    });\n    contentWrap.appendChild(gridWrap);\n    const largeiconWrap = this.createElement('div', {\n      id: this.element.id + LARGEICON_ID,\n      className: LARGE_ICONS,\n      attrs: {\n        'role': 'group'\n      }\n    });\n    contentWrap.appendChild(largeiconWrap);\n    const overlay = this.createElement('span', {\n      className: OVERLAY\n    });\n    contentWrap.appendChild(overlay);\n    let paneSettings;\n\n    if (!this.enableRtl) {\n      layoutWrap.appendChild(navigationWrap);\n      layoutWrap.appendChild(contentWrap);\n      paneSettings = [{\n        size: '25%',\n        min: this.navigationPaneSettings.minWidth.toString(),\n        max: this.navigationPaneSettings.maxWidth.toString()\n      }, {\n        size: '75%',\n        min: '270px'\n      }];\n    } else {\n      layoutWrap.appendChild(contentWrap);\n      layoutWrap.appendChild(navigationWrap);\n      paneSettings = [{\n        size: '75%',\n        min: '270px'\n      }, {\n        size: '25%',\n        min: this.navigationPaneSettings.minWidth.toString(),\n        max: this.navigationPaneSettings.maxWidth.toString()\n      }];\n    }\n\n    this.splitterObj = new Splitter({\n      paneSettings: paneSettings,\n      width: '100%',\n      enableRtl: false,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      resizing: this.splitterResize.bind(this)\n    });\n    this.splitterObj.isStringTemplate = true;\n    this.splitterObj.appendTo(layoutWrap);\n    const dialogWrap = this.createElement('div', {\n      id: this.element.id + DIALOG_ID\n    });\n    this.element.appendChild(dialogWrap);\n    const menuWrap = this.createElement('ul', {\n      id: this.element.id + CONTEXT_MENU_ID\n    });\n    this.element.appendChild(menuWrap);\n    const dialogImgWrap = this.createElement('div', {\n      id: this.element.id + IMG_DIALOG_ID\n    });\n    this.element.appendChild(dialogImgWrap);\n    const extnDialogWrap = this.createElement('div', {\n      id: this.element.id + EXTN_DIALOG_ID\n    });\n    this.element.appendChild(extnDialogWrap);\n    const uploadDialogWrap = this.createElement('div', {\n      id: this.element.id + UPLOAD_DIALOG_ID\n    });\n    this.element.appendChild(uploadDialogWrap);\n  }\n\n  adjustHeight() {\n    const toolbar = select('#' + this.element.id + TOOLBAR_ID, this.element);\n    const toolBarHeight = toolbar ? toolbar.offsetHeight : 0;\n\n    if (this.splitterObj) {\n      this.splitterObj.height = (this.element.clientHeight - toolBarHeight).toString();\n      this.splitterObj.dataBind();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  splitterResize() {\n    this.notify(splitterResize, {});\n  }\n\n  splitterAdjust() {\n    const bar = select('.' + SPLIT_BAR, this.element);\n\n    if (this.navigationPaneSettings.visible) {\n      this.splitterObj.expand(this.enableRtl ? 1 : 0);\n      bar.classList.remove(DISPLAY_NONE);\n    } else {\n      this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n      bar.classList.add(DISPLAY_NONE);\n    }\n  }\n\n  addCssClass(oldOne, newOne) {\n    if (!isNullOrUndefined(oldOne) && oldOne !== '') {\n      removeClass([this.element], oldOne.split(' '));\n    }\n\n    if (!isNullOrUndefined(newOne) && newOne !== '') {\n      addClass([this.element], newOne.split(' '));\n    }\n  }\n\n  showSpinner() {\n    showSpinner(this.element);\n  }\n\n  hideSpinner() {\n    hideSpinner(this.element);\n  }\n\n  onContextMenu(e) {\n    e.preventDefault();\n  }\n\n  checkMobile() {\n    return /iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(Browser.userAgent.toLowerCase()) && /mobile/i.test(Browser.userAgent.toLowerCase());\n  }\n\n  renderFileUpload() {\n    const id = this.element.id + UPLOAD_ID;\n    const uploadEle = this.createElement('input', {\n      id: id,\n      attrs: {\n        name: 'uploadFiles',\n        type: 'file'\n      }\n    });\n    this.element.appendChild(uploadEle);\n    this.uploadDialogObj = new Dialog({\n      header: getLocaleText(this, 'Header-Upload'),\n      content: uploadEle,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: false,\n      isModal: true,\n      width: '350px',\n      target: this.popupTarget ? this.popupTarget : '#' + this.element.id,\n      cssClass: getCssClass(this, this.isMobile ? MOB_POPUP : ROOT_POPUP),\n      locale: this.locale,\n      allowDragging: true,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: this.enableRtl,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      open: this.onOpen.bind(this),\n      close: this.onClose.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this)\n    });\n    this.uploadDialogObj.appendTo('#' + this.element.id + UPLOAD_DIALOG_ID);\n    this.renderUploadBox();\n  }\n\n  renderUploadBox() {\n    const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n    this.uploadObj = new Uploader({\n      dropArea: select('#' + this.element.id + CONTENT_ID, this.element),\n      asyncSettings: {\n        saveUrl: uploadUrl,\n        removeUrl: uploadUrl\n      },\n      locale: this.locale,\n      enableRtl: this.enableRtl,\n      uploading: this.onUploading.bind(this),\n      removing: this.onRemoving.bind(this),\n      canceling: this.onCancel.bind(this),\n      clearing: this.onClearing.bind(this),\n      selected: this.onSelected.bind(this),\n      success: this.onUploadSuccess.bind(this),\n      failure: this.onUploadFailure.bind(this),\n      autoUpload: this.uploadSettings.autoUpload,\n      minFileSize: this.uploadSettings.minFileSize,\n      maxFileSize: this.uploadSettings.maxFileSize,\n      allowedExtensions: this.uploadSettings.allowedExtensions,\n      fileListRendering: this.onFileListRender.bind(this)\n    });\n    this.uploadObj.appendTo('#' + this.element.id + UPLOAD_ID);\n  }\n\n  onFileListRender(args) {\n    this.trigger('uploadListCreate', args);\n  }\n\n  updateUploader() {\n    this.uploadObj.autoUpload = this.uploadSettings.autoUpload;\n    this.uploadObj.minFileSize = this.uploadSettings.minFileSize;\n    this.uploadObj.maxFileSize = this.uploadSettings.maxFileSize;\n    this.uploadObj.allowedExtensions = this.uploadSettings.allowedExtensions;\n    this.uploadObj.dataBind();\n  }\n\n  onBeforeOpen(args) {\n    const eventArgs = {\n      cancel: args.cancel,\n      popupName: 'Upload',\n      popupModule: this.uploadDialogObj\n    };\n    this.trigger('beforePopupOpen', eventArgs, eventargs => {\n      args.cancel = eventargs.cancel;\n    });\n  }\n\n  onBeforeClose(args) {\n    const eventArgs = {\n      cancel: args.cancel,\n      popupName: 'Upload',\n      popupModule: this.uploadDialogObj\n    };\n    this.trigger('beforePopupClose', eventArgs, eventargs => {\n      args.cancel = eventargs.cancel;\n    });\n  }\n\n  onOpen() {\n    this.isOpened = true;\n    this.uploadDialogObj.element.focus();\n    const args = {\n      popupModule: this.uploadDialogObj,\n      popupName: 'Upload',\n      element: this.uploadDialogObj.element\n    };\n    this.trigger('popupOpen', args);\n  }\n\n  onClose() {\n    this.isOpened = false;\n    this.uploadObj.clearAll();\n    const args = {\n      popupModule: this.uploadDialogObj,\n      popupName: 'Upload',\n      element: this.uploadDialogObj.element\n    };\n    this.trigger('popupClose', args);\n  }\n  /* istanbul ignore next */\n\n\n  onUploading(args) {\n    let action = 'save';\n\n    if (this.retryArgs.length !== 0) {\n      for (let i = 0; i < this.retryArgs.length; i++) {\n        if (args.fileData.name === this.retryArgs[i].file.name) {\n          action = this.retryArgs[i].action;\n          this.retryArgs.splice(i, 1);\n          i = this.retryArgs.length;\n        }\n      }\n    }\n\n    const data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n    args.customFormData = [{\n      'path': this.path\n    }, {\n      'action': action\n    }, {\n      'data': data\n    }];\n    const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url; // eslint-disable-next-line\n\n    const ajaxSettings = {\n      url: uploadUrl,\n      type: 'POST',\n      mode: true,\n      dataType: null,\n      contentType: null,\n      data: JSON.stringify(args.customFormData),\n      onSuccess: null,\n      onFailure: null,\n      beforeSend: null\n    };\n    this.uploadEventArgs = {\n      action: 'Upload',\n      ajaxSettings: ajaxSettings,\n      cancel: false\n    };\n    this.trigger('beforeSend', this.uploadEventArgs, uploadEventArgs => {\n      args.customFormData = JSON.parse(getValue('data', uploadEventArgs.ajaxSettings));\n      args.cancel = uploadEventArgs.cancel; // eslint-disable-next-line\n\n      const eventArgs = {\n        cancel: false,\n        httpRequest: args.currentRequest\n      };\n\n      if (typeof getValue('beforeSend', uploadEventArgs.ajaxSettings) === 'function') {\n        getValue('beforeSend', uploadEventArgs.ajaxSettings)(eventArgs);\n\n        if (getValue('cancel', eventArgs)) {\n          args.cancel = getValue('cancel', eventArgs);\n        }\n      }\n    });\n  }\n\n  onRemoving() {\n    this.onFileUploadSuccess({\n      count: 1\n    });\n\n    if (this.uploadObj.getFilesData().length === 1) {\n      this.uploadDialogObj.hide();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onCancel(args) {\n    const data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n    args.customFormData = [{\n      'path': this.path\n    }, {\n      'action': 'remove'\n    }, {\n      'data': data\n    }];\n  }\n  /* istanbul ignore next */\n\n\n  onClearing() {\n    if (this.isOpened) {\n      this.uploadDialogObj.hide();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSelected(args) {\n    if (args.filesData.length === 0) {\n      return;\n    }\n\n    this.uploadingCount = args.filesData.length;\n    this.uploadedCount = 0; // eslint-disable-next-line\n\n    const details = getPathObject(this);\n\n    if (!hasUploadAccess(details)) {\n      args.cancel = true;\n      createDeniedDialog(this, details, permissionUpload);\n      return;\n    }\n\n    this.uploadDialogObj.show();\n  } // eslint-disable-next-line\n\n\n  onFileUploadSuccess(args) {\n    this.uploadedCount = this.uploadedCount + args.count;\n\n    if (this.uploadSettings.autoClose && this.uploadingCount === this.uploadedCount) {\n      this.uploadDialogObj.hide();\n    }\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  onUploadSuccess(files) {\n    const args = {\n      action: 'Upload',\n      result: files\n    };\n    this.trigger('success', args);\n    this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n    read(this, pathChanged, this.path);\n    this.onFileUploadSuccess({\n      count: 1\n    });\n\n    if (typeof getValue('onSuccess', this.uploadEventArgs.ajaxSettings) === 'function') {\n      getValue('onSuccess', this.uploadEventArgs.ajaxSettings)();\n    }\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  onUploadFailure(files) {\n    // eslint-disable-next-line\n    const response = getValue('response', files);\n    const statusText = getValue('statusText', response);\n\n    if (statusText !== '') {\n      setValue('statusText', statusText, files);\n    }\n\n    const args = {\n      action: 'Upload',\n      error: files\n    };\n    this.trigger('failure', args);\n\n    if (getValue('statusCode', response) === 400) {\n      this.retryFiles.push(getValue('file', files));\n\n      if (!this.isRetryOpened) {\n        createExtDialog(this, 'UploadRetry');\n      }\n    }\n\n    if (typeof getValue('onFailure', this.uploadEventArgs.ajaxSettings) === 'function') {\n      getValue('onFailure', this.uploadEventArgs.ajaxSettings)();\n    }\n  }\n\n  onInitialEnd() {\n    setNextPath(this, this.path);\n  }\n\n  addEventListeners() {\n    this.on(beforeRequest, this.showSpinner, this);\n    this.on(afterRequest, this.hideSpinner, this);\n    this.on(initialEnd, this.onInitialEnd, this);\n    this.on(detailsInit, this.onDetailsInit, this);\n    this.on(skipUpload, this.onFileUploadSuccess, this);\n    EventHandler.add(this.element, 'contextmenu', this.onContextMenu, this);\n  }\n\n  removeEventListeners() {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    this.off(beforeRequest, this.showSpinner);\n    this.off(afterRequest, this.hideSpinner);\n    this.off(initialEnd, this.onInitialEnd);\n    this.off(detailsInit, this.onDetailsInit);\n    this.off(skipUpload, this.onFileUploadSuccess);\n    EventHandler.remove(this.element, 'contextmenu', this.onContextMenu);\n  }\n\n  onDetailsInit() {\n    if (isNullOrUndefined(this.activeModule)) {\n      this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n    }\n  }\n\n  resizeHandler() {\n    this.adjustHeight();\n    this.notify(resizeEnd, {});\n  }\n\n  keyActionHandler(e) {\n    let uploadEle;\n\n    switch (e.action) {\n      case 'altN':\n        e.preventDefault();\n        this.itemData = [getPathObject(this)];\n\n        if (!hasContentAccess(this.itemData[0])) {\n          createDeniedDialog(this, this.itemData[0], permissionEditContents);\n        } else {\n          createDialog(this, 'NewFolder');\n        }\n\n        break;\n\n      case 'f5':\n        e.preventDefault();\n        refresh(this);\n        break;\n\n      /* istanbul ignore next */\n\n      case 'ctrlShift1':\n        e.preventDefault();\n        this.fileView = 'Details';\n        this.setProperties({\n          view: 'Details'\n        }, true);\n        showSpinner(this.element);\n        updateLayout(this, 'Details');\n        break;\n\n      /* istanbul ignore next */\n\n      case 'ctrlShift2':\n        e.preventDefault();\n        this.fileView = 'LargeIcons';\n        this.setProperties({\n          view: 'LargeIcons'\n        }, true);\n        showSpinner(this.element);\n        updateLayout(this, 'LargeIcons');\n        break;\n\n      case 'ctrlU':\n        e.preventDefault();\n        uploadEle = select('#' + this.element.id + UPLOAD_ID, this.element);\n        uploadEle.click();\n        break;\n    }\n  }\n\n  wireEvents() {\n    EventHandler.add(window, 'resize', this.resizeHandler, this);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  }\n\n  unWireEvents() {\n    EventHandler.remove(window, 'resize', this.resizeHandler);\n    this.keyboardModule.destroy();\n  }\n\n  setPath() {\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    this.ensurePath();\n    this.notify(clearPathInit, {\n      selectedNode: this.pathId[0]\n    });\n    read(this, this.path !== this.originalPath ? initialEnd : finalizeEnd, this.path);\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {FileManager} newProp\n   * @param  {FileManager} oldProp\n   * @returns void\n   * @private\n   */\n\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  onPropertyChanged(newProp, oldProp) {\n    let height;\n\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'ajaxSettings':\n          this.ajaxSettingSetModel(newProp);\n          break;\n\n        case 'allowDragAndDrop':\n          this.allowDragAndDrop = newProp.allowDragAndDrop;\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'allowMultiSelection':\n          if (this.allowMultiSelection) {\n            addClass([this.element], CHECK_SELECT);\n          } else {\n            if (this.selectedItems.length > 1) {\n              this.setProperties({\n                selectedItems: this.selectedItems.slice(this.selectedItems.length - 1)\n              }, true);\n            }\n\n            removeClass([this.element], CHECK_SELECT);\n          }\n\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'cssClass':\n          this.addCssClass(oldProp.cssClass, newProp.cssClass);\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'detailsViewSettings':\n          this.notify(modelChanged, {\n            module: 'detailsview',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'enableRtl':\n          this.enableRtl = newProp.enableRtl;\n          this.refresh();\n          break;\n\n        case 'rootAliasName':\n          this.rootAliasName = newProp.rootAliasName;\n          this.refresh();\n          break;\n\n        case 'height':\n          height = !isNullOrUndefined(newProp.height) ? formatUnit(newProp.height) : newProp.height;\n          setStyleAttribute(this.element, {\n            'height': height\n          });\n          this.adjustHeight();\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'locale':\n          if (!isNullOrUndefined(newProp.enableRtl)) {\n            this.setProperties({\n              enableRtl: newProp.enableRtl\n            }, true);\n          }\n\n          this.localeSetModelOption(newProp);\n          break;\n\n        case 'navigationPaneSettings':\n          this.splitterAdjust();\n          this.notify(modelChanged, {\n            module: 'navigationpane',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'path':\n          this.setPath();\n          break;\n\n        case 'searchSettings':\n          if (!isNullOrUndefined(newProp.searchSettings.allowSearchOnTyping)) {\n            this.setProperties({\n              searchSettings: {\n                allowSearchOnTyping: newProp.searchSettings.allowSearchOnTyping\n              }\n            }, true);\n          }\n\n          if (isNullOrUndefined(newProp.searchSettings.ignoreCase)) {\n            this.setProperties({\n              searchSettings: {\n                ignoreCase: newProp.searchSettings.ignoreCase\n              }\n            }, true);\n          }\n\n          if (isNullOrUndefined(newProp.searchSettings.filterType)) {\n            this.setProperties({\n              searchSettings: {\n                filterType: newProp.searchSettings.filterType\n              }\n            }, true);\n          }\n\n          this.notify(modelChanged, {\n            module: 'breadcrumbbar',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'selectedItems':\n          if (this.view === 'Details') {\n            this.notify(modelChanged, {\n              module: 'detailsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          } else if (this.view === 'LargeIcons') {\n            this.notify(modelChanged, {\n              module: 'largeiconsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          }\n\n          break;\n\n        case 'showFileExtension':\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'showHiddenItems':\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'showThumbnail':\n          this.notify(modelChanged, {\n            module: 'largeiconsview',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'toolbarSettings':\n          this.adjustHeight();\n          this.notify(modelChanged, {\n            module: 'toolbar',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'uploadSettings':\n          this.updateUploader();\n          break;\n\n        case 'view':\n          if (newProp.view === 'Details') {\n            this.notify(modelChanged, {\n              module: 'detailsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          } else if (newProp.view === 'LargeIcons') {\n            this.notify(modelChanged, {\n              module: 'largeiconsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': !isNullOrUndefined(newProp.width) ? formatUnit(newProp.width) : newProp.width\n          });\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'sortOrder':\n          refresh(this);\n          this.notify(sortByChange, {});\n          break;\n\n        case 'sortBy':\n          refresh(this);\n          this.notify(sortByChange, {});\n\n          if (this.view === 'Details') {\n            this.notify(sortColumn, {});\n          }\n\n          break;\n\n        case 'popupTarget':\n          if (this.uploadDialogObj) {\n            this.uploadDialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.dialogObj) {\n            this.dialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.extDialogObj) {\n            this.extDialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.viewerObj) {\n            this.viewerObj.target = newProp.popupTarget;\n          }\n\n          break;\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  ajaxSettingSetModel(newProp) {\n    if (!isNullOrUndefined(newProp.ajaxSettings.url)) {\n      this.setProperties({\n        ajaxSettings: {\n          url: newProp.ajaxSettings.url\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.uploadUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          uploadUrl: newProp.ajaxSettings.uploadUrl\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.downloadUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          downloadUrl: newProp.ajaxSettings.downloadUrl\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.getImageUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          getImageUrl: newProp.ajaxSettings.getImageUrl\n        }\n      }, true);\n    }\n\n    this.setProperties({\n      path: '/'\n    }, true);\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    super.refresh();\n  }\n  /* istanbul ignore next */\n\n\n  localeSetModelOption(newProp) {\n    this.uploadObj.locale = newProp.locale;\n    super.refresh();\n  }\n  /**\n   * Triggers when the component is destroyed.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    if (!this.refreshing) {\n      this.notify(destroy, {});\n    }\n\n    this.uploadObj.destroy();\n    this.uploadObj = null;\n    this.uploadDialogObj.destroy();\n    this.uploadDialogObj = null;\n    this.splitterObj.destroy();\n    this.splitterObj = null;\n\n    if (this.dialogObj) {\n      this.dialogObj.destroy();\n      this.dialogObj = null;\n    }\n\n    if (this.viewerObj) {\n      this.viewerObj.destroy();\n      this.viewerObj = null;\n    }\n\n    if (this.extDialogObj) {\n      this.extDialogObj.destroy();\n      this.extDialogObj = null;\n    }\n\n    this.element.removeAttribute('style');\n    this.element.removeAttribute('tabindex');\n    this.removeEventListeners();\n    this.unWireEvents();\n    this.addCssClass(this.cssClass, null);\n    removeClass([this.element], [RTL, MOBILE, CHECK_SELECT]);\n    this.element.innerHTML = '';\n    super.destroy();\n  }\n  /**\n   * Creates a new folder in file manager.\n   *\n   * @param {string} name – Specifies the name of new folder in current path.\n   * If it is not specified, then the default new folder dialog will be opened.\n   * @returns {void}\n   */\n\n\n  createFolder(name) {\n    this.notify(methodCall, {\n      action: 'createFolder'\n    }); // eslint-disable-next-line\n\n    const details = [getPathObject(this)];\n    this.itemData = details;\n\n    if (name) {\n      if (/[/\\\\|*?\"<>:]/.test(name)) {\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(this, 'Validation-Invalid').replace('{0}', '\"' + name + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(this, 'Error', result);\n      } else {\n        if (!hasContentAccess(details[0])) {\n          createDeniedDialog(this, details[0], permissionEditContents);\n        } else {\n          createFolder(this, name);\n        }\n      }\n    } else {\n      createNewFolder(this);\n    }\n  }\n  /**\n   * Deletes the folders or files from the given unique identifiers.\n   *\n   * @param {string} ids - Specifies the name of folders or files in current path. If you want to delete the nested level folders or\n   * files, then specify the filter path along with name of the folders or files when performing the search or custom filtering.\n   * For ID based file provider, specify the unique identifier of folders or files.\n   * If it is not specified, then delete confirmation dialog will be opened for selected item.\n   *\n   * @returns {void}\n   */\n\n\n  deleteFiles(ids) {\n    this.notify(methodCall, {\n      action: 'deleteFiles',\n      ids: ids\n    });\n  }\n  /**\n   * Disables the specified toolbar items of the file manager.\n   *\n   * @param {string[]} items - Specifies an array of items to be disabled.\n   * @returns {void}\n   */\n\n\n  disableToolbarItems(items) {\n    if (!isNullOrUndefined(items)) {\n      this.toolbarModule.enableItems(items, false);\n    }\n  }\n  /**\n   * Downloads the folders or files from the given unique identifiers.\n   *\n   * @param {string} ids - Specifies the name of folders or files in current path. If you want to download the nested level folders\n   * or files, then specify the filter path along with name of the folders or files when performing search or custom filtering.\n   * For ID based file provider, specify the unique identifier of folders or files.\n   * If it is not specified, then the selected items will be downloaded.\n   *\n   * @returns {void}\n   */\n\n\n  downloadFiles(ids) {\n    this.notify(methodCall, {\n      action: 'downloadFiles',\n      ids: ids\n    });\n  }\n  /**\n   * Enables the specified toolbar items of the file manager.\n   *\n   * @param {string[]} items - Specifies an array of items to be enabled.\n   * @returns {void}\n   */\n\n\n  enableToolbarItems(items) {\n    if (!isNullOrUndefined(items)) {\n      this.toolbarModule.enableItems(items, true);\n    }\n  }\n  /**\n   * Disables the specified context menu items in file manager. This method is used only in the menuOpen event.\n   *\n   * @param {string[]} items - Specifies an array of items to be disabled.\n   * @returns {void}\n   */\n\n\n  disableMenuItems(items) {\n    if (!isNullOrUndefined(items) && !isNullOrUndefined(this.contextmenuModule.contextMenu)) {\n      this.contextmenuModule.disableItem(items);\n    }\n  }\n  /**\n   * Returns the index position of given current context menu item in file manager.\n   *\n   * @param {string} item - Specifies an item to get the index position.\n   * @returns {number} - returns menu item index.\n   */\n\n\n  getMenuItemIndex(item) {\n    if (this.contextmenuModule) {\n      return this.contextmenuModule.getItemIndex(item);\n    } else {\n      return -1;\n    }\n  }\n  /**\n   * Returns the index position of given toolbar item in file manager.\n   *\n   * @param {string} item - Specifies an item to get the index position.\n   * @returns {number} - returns toolbar item index.\n   */\n\n\n  getToolbarItemIndex(item) {\n    if (this.toolbarModule) {\n      return this.toolbarModule.getItemIndex(item);\n    } else {\n      return -1;\n    }\n  }\n  /**\n   * Display the custom filtering files in file manager.\n   *\n   * @param {Object} filterData - Specifies the custom filter details along with custom file action name,\n   * which needs to be sent to the server side. If you do not specify the details, then default action name will be `filter`.\n   *\n   * @returns {void}\n   */\n  // eslint-disable-next-line\n\n\n  filterFiles(filterData) {\n    this.filterData = filterData ? filterData : null;\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    this.notify(selectionChanged, {});\n    this.isFiltered = true;\n\n    if (this.breadcrumbbarModule.searchObj.element.value !== '') {\n      this.breadcrumbbarModule.searchObj.element.value = '';\n    }\n\n    filter(this, filterEnd);\n  }\n  /**\n   * Gets the details of the selected files in the file manager.\n   *\n   * @returns {Object[]} - returns selected files.\n   */\n  // eslint-disable-next-line\n\n\n  getSelectedFiles() {\n    this.notify(updateSelectionData, {});\n    return this.itemData;\n  }\n  /**\n   * Opens the corresponding file or folder from the given unique identifier.\n   *\n   * @param {string} id - Specifies the name of folder or file in current path. If you want to open the nested level folder or\n   * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n   * file provider, specify the unique identifier of folder or file.\n   *\n   * @returns {void}\n   */\n\n\n  openFile(id) {\n    this.notify(methodCall, {\n      action: 'openFile',\n      id: id\n    });\n  }\n  /**\n   * Refreshes the folder files of the file manager.\n   *\n   * @returns {void}\n   */\n\n\n  refreshFiles() {\n    refresh(this);\n  }\n  /**\n   * Refreshes the layout of the file manager.\n   *\n   * @returns {void}\n   */\n\n\n  refreshLayout() {\n    this.adjustHeight();\n    this.notify(layoutRefresh, {});\n  }\n  /**\n   * Selects the entire folders and files in current path.\n   *\n   * @returns {void}\n   */\n\n\n  selectAll() {\n    this.notify(methodCall, {\n      action: 'selectAll'\n    });\n  }\n  /**\n   * Deselects the currently selected folders and files in current path.\n   *\n   * @returns {void}\n   */\n\n\n  clearSelection() {\n    this.notify(methodCall, {\n      action: 'clearSelection'\n    });\n  }\n  /**\n   * Renames the file or folder with given new name in file manager.\n   *\n   * @param {string} id - Specifies the name of folder or file in current path. If you want to rename the nested level folder or\n   * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n   * file provider, specify the unique identifier of folder or file.\n   * If it is not specified, then rename dialog will be opened for selected item.\n   *\n   * @param {string} name – Specifies the new name of the file or folder in current path. If it is not specified, then rename dialog\n   * will be opened for given identifier.\n   *\n   * @returns {void}\n   */\n\n\n  renameFile(id, name) {\n    this.notify(methodCall, {\n      action: 'renameFile',\n      id: id,\n      newName: name\n    });\n  }\n  /**\n   * Opens the upload dialog in file manager.\n   *\n   * @returns {void}\n   */\n\n\n  uploadFiles() {\n    // eslint-disable-next-line\n    const details = [getPathObject(this)];\n    this.itemData = details;\n    uploadItem(this);\n  }\n  /**\n   * Specifies the direction of FileManager\n   *\n   * @param {boolean} rtl - specifies rtl parameter.\n   * @returns {void}\n   */\n\n\n  setRtl(rtl) {\n    if (rtl) {\n      this.addCssClass(null, RTL);\n    } else {\n      this.addCssClass(RTL, null);\n    }\n\n    if (this.uploadObj) {\n      this.uploadDialogObj.enableRtl = rtl;\n      this.uploadObj.enableRtl = rtl;\n    }\n  }\n\n};\n\n__decorate$8([Complex({}, AjaxSettings)], FileManager.prototype, \"ajaxSettings\", void 0);\n\n__decorate$8([Property(false)], FileManager.prototype, \"allowDragAndDrop\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"allowMultiSelection\", void 0);\n\n__decorate$8([Complex({}, ContextMenuSettings)], FileManager.prototype, \"contextMenuSettings\", void 0);\n\n__decorate$8([Property('')], FileManager.prototype, \"cssClass\", void 0);\n\n__decorate$8([Complex({}, DetailsViewSettings)], FileManager.prototype, \"detailsViewSettings\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$8([Property(false)], FileManager.prototype, \"enablePersistence\", void 0);\n\n__decorate$8([Property('400px')], FileManager.prototype, \"height\", void 0);\n\n__decorate$8([Property('LargeIcons')], FileManager.prototype, \"view\", void 0);\n\n__decorate$8([Complex({}, NavigationPaneSettings)], FileManager.prototype, \"navigationPaneSettings\", void 0);\n\n__decorate$8([Property('/')], FileManager.prototype, \"path\", void 0);\n\n__decorate$8([Property(null)], FileManager.prototype, \"popupTarget\", void 0);\n\n__decorate$8([Complex({}, SearchSettings)], FileManager.prototype, \"searchSettings\", void 0);\n\n__decorate$8([Property()], FileManager.prototype, \"selectedItems\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"showFileExtension\", void 0);\n\n__decorate$8([Property(null)], FileManager.prototype, \"rootAliasName\", void 0);\n\n__decorate$8([Property(false)], FileManager.prototype, \"showHiddenItems\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"showThumbnail\", void 0);\n\n__decorate$8([Property('Ascending')], FileManager.prototype, \"sortOrder\", void 0);\n\n__decorate$8([Property('name')], FileManager.prototype, \"sortBy\", void 0);\n\n__decorate$8([Complex({}, ToolbarSettings)], FileManager.prototype, \"toolbarSettings\", void 0);\n\n__decorate$8([Complex({}, UploadSettings)], FileManager.prototype, \"uploadSettings\", void 0);\n\n__decorate$8([Property('100%')], FileManager.prototype, \"width\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileLoad\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforeDownload\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforeImageLoad\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforePopupClose\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforePopupOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforeSend\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"created\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"destroyed\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDragStart\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDragging\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDragStop\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDropped\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileSelection\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileSelect\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"menuClick\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"menuOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"failure\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"popupClose\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"popupOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"success\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"toolbarClick\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"toolbarCreate\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"uploadListCreate\", void 0);\n\nFileManager = FileManager_1 = __decorate$8([NotifyPropertyChanges], FileManager);\n/**\n * File Manager base modules\n */\n\n/**\n * Toolbar module\n */\n\nclass Toolbar$1 {\n  /**\n   * Constructor for the Toolbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies the parent element.\n   * @private\n   */\n  constructor(parent) {\n    this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n    this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n    this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n    this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n    this.parent = parent;\n    this.render();\n    this.addEventListener();\n  }\n\n  render() {\n    this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map(item => item.trim())));\n    const eventArgs = {\n      items: this.items\n    };\n    this.parent.trigger('toolbarCreate', eventArgs, toolbarCreateArgs => {\n      this.items = toolbarCreateArgs.items;\n      this.toolbarObj = new Toolbar({\n        items: this.items,\n        created: this.toolbarCreateHandler.bind(this),\n        overflowMode: 'Popup',\n        clicked: this.onClicked.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        enableRtl: this.parent.enableRtl\n      });\n      this.toolbarObj.isStringTemplate = true;\n      this.toolbarObj.appendTo('#' + this.parent.element.id + TOOLBAR_ID);\n    });\n  }\n\n  getItemIndex(item) {\n    const itemId = this.getId(item);\n\n    for (let i = 0; i < this.items.length; i++) {\n      if (this.items[i].id === itemId) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  getItems(items) {\n    const currItems = items.slice();\n\n    if (this.parent.isDevice && this.parent.allowMultiSelection) {\n      currItems.push('SelectAll');\n    }\n\n    return currItems;\n  }\n  /* istanbul ignore next */\n\n\n  onClicked(args) {\n    if (isNullOrUndefined(args.item) || !args.item.id) {\n      return;\n    }\n\n    const tool = args.item.id.substr((this.parent.element.id + '_tb_').length); // eslint-disable-next-line\n\n    let details;\n\n    if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(selectedData, {});\n      details = this.parent.itemData;\n    }\n\n    const eventArgs = {\n      cancel: false,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('toolbarClick', eventArgs, toolbarClickArgs => {\n      let sItems;\n      let target;\n\n      if (!toolbarClickArgs.cancel) {\n        switch (tool) {\n          case 'sortby':\n            target = closest(args.originalEvent.target, '.' + TB_ITEM);\n\n            if (target && target.classList.contains('e-toolbar-popup')) {\n              args.cancel = true;\n            }\n\n            break;\n\n          case 'newfolder':\n            createNewFolder(this.parent);\n            break;\n\n          case 'cut':\n            cutFiles(this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(this.parent);\n            break;\n\n          case 'delete':\n            for (let i = 0; i < details.length; i++) {\n              if (!hasEditAccess(details[i])) {\n                createDeniedDialog(this.parent, details[i], permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(this.parent, 'Delete');\n            break;\n\n          case 'details':\n            this.parent.notify(detailsInit, {});\n            sItems = this.parent.selectedItems;\n\n            if (this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(this.parent, sItems, this.parent.path, 'details');\n            break;\n\n          case 'paste':\n            this.parent.folderPath = '';\n            pasteHandler(this.parent);\n            break;\n\n          case 'refresh':\n            refresh(this.parent);\n            break;\n\n          case 'download':\n            doDownload(this.parent);\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(this.parent, details[0], permissionEdit);\n            } else {\n              this.parent.notify(renameInit, {});\n              createDialog(this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'upload':\n            uploadItem(this.parent);\n            break;\n\n          case 'selectall':\n            this.parent.notify(selectAllInit, {});\n            break;\n\n          case 'selection':\n            this.parent.notify(clearAllInit, {});\n            break;\n        }\n      }\n    });\n  }\n\n  toolbarCreateHandler() {\n    if (!isNullOrUndefined(select('#' + this.getId('SortBy'), this.parent.element))) {\n      const items = [{\n        id: this.getPupupId('name'),\n        text: getLocaleText(this.parent, 'Name'),\n        iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : ''\n      }, {\n        id: this.getPupupId('size'),\n        text: getLocaleText(this.parent, 'Size'),\n        iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : ''\n      }, {\n        id: this.getPupupId('date'),\n        text: getLocaleText(this.parent, 'DateModified'),\n        iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : ''\n      }, {\n        separator: true\n      }, {\n        id: this.getPupupId('ascending'),\n        text: getLocaleText(this.parent, 'Ascending'),\n        iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('descending'),\n        text: getLocaleText(this.parent, 'Descending'),\n        iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('none'),\n        text: getLocaleText(this.parent, 'None'),\n        iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : ''\n      }];\n      this.buttonObj = new DropDownButton({\n        items: items,\n        cssClass: getCssClass(this.parent, ROOT_POPUP),\n        select: sortbyClickHandler.bind(this, this.parent),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        enableRtl: this.parent.enableRtl,\n        iconCss: ICON_SHORTBY\n      });\n      this.buttonObj.isStringTemplate = true;\n      this.buttonObj.appendTo('#' + this.getId('SortBy'));\n    }\n\n    if (!isNullOrUndefined(select('#' + this.getId('View'), this.parent.element))) {\n      const gridSpan = '<span class=\"' + ICON_GRID + ' ' + MENU_ICON + '\"></span>';\n      const largeIconSpan = '<span class=\"' + ICON_LARGE + ' ' + MENU_ICON + '\"></span>';\n      const layoutItems = [{\n        id: this.getPupupId('large'),\n        text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n        iconCss: this.parent.view === 'Details' ? '' : TB_OPTION_TICK\n      }, {\n        id: this.getPupupId('details'),\n        text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n        iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : ''\n      }];\n      this.layoutBtnObj = new DropDownButton({\n        iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n        cssClass: getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP),\n        items: layoutItems,\n        select: this.layoutChange.bind(this),\n        enableRtl: this.parent.enableRtl,\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n      });\n      this.layoutBtnObj.isStringTemplate = true;\n      this.layoutBtnObj.appendTo('#' + this.getId('View'));\n    }\n\n    this.hideItems(this.default, true);\n    this.hideStatus();\n    const btnElement = selectAll('.e-btn', this.toolbarObj.element);\n\n    for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n      /* istanbul ignore next */\n      btnElement[btnCount].onkeydown = e => {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          e.preventDefault();\n        }\n      };\n\n      btnElement[btnCount].onkeyup = e => {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          btnElement[btnCount].click();\n        }\n      };\n    }\n\n    this.parent.refreshLayout();\n  }\n\n  updateSortByButton() {\n    if (this.buttonObj) {\n      const items = this.buttonObj.items;\n\n      for (let itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('name')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'name' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('size')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'size' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('date')) {\n          if (this.parent.sortBy === 'dateModified' || this.parent.sortBy === 'dateCreated') {\n            items[itemCount].iconCss = this.parent.sortBy === this.parent.sortBy ? TB_OPTION_DOT : '';\n          } else {\n            items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '';\n          }\n        } else if (items[itemCount].id === this.getPupupId('ascending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('descending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('none')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '';\n        }\n      }\n    }\n  }\n\n  getPupupId(id) {\n    return this.parent.element.id + '_ddl_' + id.toLowerCase();\n  }\n\n  layoutChange(args) {\n    if (this.parent.view === 'Details') {\n      if (args.item.id === this.getPupupId('large')) {\n        updateLayout(this.parent, 'LargeIcons');\n      }\n    } else {\n      if (args.item.id === this.getPupupId('details')) {\n        updateLayout(this.parent, 'Details');\n      }\n    }\n  }\n\n  toolbarItemData(data) {\n    const items = [];\n    let mode = 'Both';\n\n    if (this.parent.isMobile) {\n      mode = 'Overflow';\n    }\n\n    for (let i = 0; i < data.length; i++) {\n      let item;\n      const itemId = this.getId(data[i]);\n      const itemText = getLocaleText(this.parent, data[i]);\n      const itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n      const spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            type: 'Separator'\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_UPLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_REFRESH,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Selection':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            suffixIcon: ICON_CLEAR,\n            overflow: 'Show',\n            align: 'Right'\n          };\n          break;\n\n        case 'View':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow',\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' + getLocaleText(this.parent, 'View') + '></button>'\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DETAILS,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow'\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_NEWFOLDER,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_CUT,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_COPY,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_PASTE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DELETE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_RENAME,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DOWNLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_SELECTALL,\n            showTextOn: mode\n          };\n          break;\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  }\n\n  getId(id) {\n    return this.parent.element.id + '_tb_' + id.toLowerCase();\n  }\n\n  addEventListener() {\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(showPaste, this.showPaste, this);\n    this.parent.on(hidePaste, this.hidePaste, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(sortByChange, this.updateSortByButton, this);\n  }\n\n  reRenderToolbar(e) {\n    if (e.newProp.toolbarSettings.items !== undefined) {\n      this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map(item => item.trim())));\n      const eventArgs = {\n        items: this.items\n      };\n      this.parent.trigger('toolbarCreate', eventArgs, toolbarCreateArgs => {\n        if (this.buttonObj) {\n          this.buttonObj.destroy();\n        }\n\n        if (this.layoutBtnObj) {\n          this.layoutBtnObj.destroy();\n        }\n\n        this.items = toolbarCreateArgs.items;\n        this.toolbarObj.items = this.items;\n        this.toolbarObj.dataBind();\n        this.toolbarCreateHandler();\n      });\n    }\n  }\n\n  onSelectionChanged() {\n    this.hideStatus();\n    this.hideItems(this.single, true);\n    this.hideItems(this.selection, false);\n\n    if (this.parent.selectedItems.length === 1) {\n      this.hideItems(this.single, false);\n      this.hideItems(this.selection, true);\n    } else if (this.parent.selectedItems.length > 1) {\n      this.hideItems(this.multiple, false);\n      this.hideItems(this.selection, true);\n    }\n\n    const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (this.parent.selectedItems.length > 0 && ele) {\n      let txt;\n\n      if (this.parent.selectedItems.length === 1) {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n      } else {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n      }\n\n      select('.e-tbar-btn-text', ele).textContent = txt;\n      this.toolbarObj.hideItem(ele.parentElement, false);\n    }\n  }\n\n  hideItems(tools, toHide) {\n    for (let i = 0; i < tools.length; i++) {\n      const ele = select('#' + this.getId(tools[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.hideItem(ele.parentElement, toHide);\n      }\n    }\n  }\n\n  hideStatus() {\n    const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (ele) {\n      this.toolbarObj.hideItem(ele.parentElement, true);\n    }\n  }\n\n  showPaste() {\n    this.hideItems(['Paste'], false);\n  }\n\n  hidePaste() {\n    this.hideItems(['Paste'], true);\n  }\n\n  onLayoutChange() {\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE;\n      const items = this.layoutBtnObj.items;\n\n      for (let itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('large')) {\n          items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('details')) {\n          items[itemCount].iconCss = this.parent.view === 'Details' ? TB_OPTION_TICK : '';\n        }\n      }\n    }\n  }\n\n  removeEventListener() {\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(selectionChanged, this.onSelectionChanged);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(showPaste, this.showPaste);\n    this.parent.off(hidePaste, this.hidePaste);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(sortByChange, this.updateSortByButton);\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'toolbar';\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'cssClass':\n          if (this.buttonObj) {\n            this.buttonObj.cssClass = getCssClass(this.parent, ROOT_POPUP);\n          }\n\n          if (this.layoutBtnObj) {\n            this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP);\n          }\n\n          break;\n\n        case 'height':\n        case 'width':\n          this.toolbarObj.refreshOverflow();\n          break;\n\n        case 'toolbarSettings':\n          this.reRenderToolbar(e);\n          break;\n      }\n    }\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.buttonObj) {\n      this.buttonObj.destroy();\n    }\n\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.destroy();\n    }\n\n    this.toolbarObj.destroy();\n    this.parent.refreshLayout();\n  }\n\n  enableItems(items, isEnable) {\n    for (let i = 0; i < items.length; i++) {\n      const ele = select('#' + this.getId(items[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.enableItems(ele.parentElement, isEnable);\n      }\n    }\n  }\n\n}\n/**\n * File Manager actions modules\n */\n\n/**\n * NavigationPane module\n */\n\n\nclass NavigationPane {\n  /**\n   * Constructor for the TreeView module\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n\n  /* istanbul ignore next */\n  constructor(parent) {\n    this.removeNodes = [];\n    this.moveNames = [];\n    this.expandTree = false;\n    this.isDrag = false;\n    this.isPathDragged = false;\n    this.isRenameParent = false;\n    this.isRightClick = false;\n    this.renameParent = null; // Specifies the previously selected nodes in the treeview control.\n\n    this.previousSelected = null; // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n\n    this.isNodeClickCalled = false; // Specifies whether to restrict node selection in the treeview control.\n\n    this.restrictSelecting = false;\n    this.parent = parent;\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftF10: 'shift+F10',\n      f2: 'f2'\n    };\n  }\n\n  onInit() {\n    if (!isNullOrUndefined(this.treeObj)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n    setValue('_fm_icon', 'e-fe-folder', rootData); // eslint-disable-next-line\n\n    const attr = {};\n    const id = getValue('id', rootData);\n\n    if (!isNullOrUndefined(id)) {\n      setValue('data-id', id, attr);\n    }\n\n    if (!hasEditAccess(rootData)) {\n      setValue('class', getAccessClass(rootData), attr);\n    }\n\n    if (!isNullOrUndefined(attr)) {\n      setValue('_fm_htmlAttr', attr, rootData);\n    }\n\n    this.treeObj = new TreeView({\n      fields: {\n        dataSource: [rootData],\n        id: '_fm_id',\n        parentID: '_fm_pId',\n        expanded: '_fm_expanded',\n        selected: '_fm_selected',\n        text: 'name',\n        hasChildren: 'hasChild',\n        iconCss: '_fm_icon',\n        htmlAttributes: '_fm_htmlAttr',\n        tooltip: 'name'\n      },\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      sortOrder: this.parent.navigationPaneSettings.sortOrder,\n      nodeSelecting: this.onNodeSelecting.bind(this),\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeExpanding: this.onNodeExpand.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      allowEditing: true,\n      nodeEditing: this.onNodeEditing.bind(this),\n      drawNode: this.onDrowNode.bind(this),\n      enableRtl: this.parent.enableRtl,\n      dataBound: this.addDragDrop.bind(this)\n    });\n    this.treeObj.isStringTemplate = true;\n    this.treeObj.appendTo('#' + this.parent.element.id + TREE_ID);\n    this.wireEvents();\n  }\n\n  addDragDrop() {\n    if (!this.parent.isMobile && this.treeObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.treeObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          dragTarget: '.' + FULLROW,\n          distance: 5,\n          dragArea: this.parent.element,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: args => {\n            dragStartHandler(this.parent, args, this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableTailMode: true,\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  }\n\n  dragHelper(args) {\n    const dragTarget = args.sender.target;\n\n    if (!dragTarget.classList.contains(FULLROW)) {\n      return null;\n    }\n\n    const dragLi = closest(dragTarget, 'li');\n    this.parent.dragPath = '';\n    this.parent.dragData = [];\n    this.parent.activeElements = [];\n    this.parent.activeElements = [dragLi];\n    this.parent.dragNodes = [];\n    getModule(this.parent, dragLi); // eslint-disable-next-line\n\n    this.parent.dragData = this.getTreeData(dragLi);\n    this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n    this.parent.dragNodes.push(this.parent.dragData[0].name);\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  }\n\n  getDragPath(dragLi, text) {\n    const path = this.getDropPath(dragLi, text);\n    return getParentPath(path);\n  }\n\n  getDropPath(node, text) {\n    const id = node.getAttribute('data-id');\n    const newText = this.parent.hasId ? id : text;\n    return getPath(node, newText, this.parent.hasId);\n  }\n\n  onDrowNode(args) {\n    const eventArgs = {\n      element: args.node,\n      fileDetails: args.nodeData,\n      module: 'NavigationPane'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  } // eslint-disable-next-line\n\n\n  addChild(files, target, prevent) {\n    // eslint-disable-next-line\n    const directories = getDirectories(files);\n\n    if (directories.length > 0) {\n      let length = 0; // eslint-disable-next-line\n\n      const folders = directories;\n\n      while (length < directories.length) {\n        // eslint-disable-next-line\n        folders[length]._fm_icon = 'e-fe-folder'; // eslint-disable-next-line\n\n        const attr = {};\n        const id = getValue('id', folders[length]);\n\n        if (!isNullOrUndefined(id)) {\n          setValue('data-id', id, attr);\n        }\n\n        if (!hasEditAccess(folders[length])) {\n          setValue('class', getAccessClass(folders[length]), attr);\n        }\n\n        if (!isNullOrUndefined(attr)) {\n          setValue('_fm_htmlAttr', attr, folders[length]);\n        }\n\n        length++;\n      } // eslint-disable-next-line\n\n\n      this.treeObj.addNodes(directories, target, null, prevent);\n    }\n  } // Node Selecting event handler\n\n\n  onNodeSelecting(args) {\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n      this.restrictSelecting = false;\n      this.isNodeClickCalled = false;\n      return;\n    }\n\n    if (!this.renameParent) {\n      this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n      const nodeData = this.getTreeData(getValue('id', args.nodeData));\n      const eventArgs = {\n        cancel: false,\n        fileDetails: nodeData[0],\n        module: 'NavigationPane'\n      };\n      this.parent.trigger('fileOpen', eventArgs);\n      args.cancel = eventArgs.cancel;\n\n      if (args.cancel) {\n        this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] !== args.node.getAttribute('data-uid') : false;\n        this.treeObj.selectedNodes = this.isNodeClickCalled ? this.previousSelected : this.treeObj.selectedNodes;\n        this.previousSelected = this.treeObj.selectedNodes;\n\n        if (!isNullOrUndefined(this.parent) && !isNullOrUndefined(this.parent.contextmenuModule)) {\n          this.parent.contextmenuModule.contextMenu.enableItems(['Open'], true);\n        }\n      }\n    }\n  } // Opens the folder while clicking open context menu item in the treeview.\n\n\n  openFileOnContextMenuClick(node) {\n    const data = this.treeObj.getTreeData(node); // eslint-disable-next-line\n\n    this.parent.selectedItems = [];\n    this.parent.itemData = data;\n    this.activeNode = node;\n    this.parent.activeModule = 'navigationpane';\n    updatePath(node, this.parent.itemData[0], this.parent);\n    read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n    this.parent.visitedItem = node;\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    this.treeObj.selectedNodes = [node.getAttribute('data-uid')];\n  }\n\n  onNodeSelected(args) {\n    if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n      this.parent.breadcrumbbarModule.searchObj.element.value = '';\n      this.parent.isFiltered = false;\n    }\n\n    this.parent.searchedItems = [];\n\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n      return;\n    }\n\n    this.activeNode = args.node;\n    this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n    const nodeData = this.getTreeData(getValue('id', args.nodeData));\n    this.parent.selectedItems = [];\n    this.parent.itemData = nodeData;\n    const previousPath = this.parent.path;\n    updatePath(args.node, this.parent.itemData[0], this.parent);\n\n    if (previousPath !== this.parent.path) {\n      this.expandNodeTarget = null;\n\n      if (args.node.querySelector('.' + ICONS) && args.node.querySelector('.' + LIST_ITEM) === null) {\n        this.expandNodeTarget = 'add';\n      }\n\n      read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n      this.parent.visitedItem = args.node;\n    }\n\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  onPathDrag(args) {\n    this.isPathDragged = true;\n    this.selectResultNode(args[0]);\n  }\n  /* istanbul ignore next */\n\n\n  onNodeExpand(args) {\n    if (!args.isInteracted && !this.isDrag) {\n      return;\n    }\n\n    if (args.node.querySelector('.' + LIST_ITEM) === null) {\n      const text = getValue('text', args.nodeData);\n      const id = args.node.getAttribute('data-id');\n      const isId = isNullOrUndefined(id) ? false : true;\n      const newText = isNullOrUndefined(id) ? text : id;\n      const path = getPath(args.node, newText, isId);\n      this.expandNodeTarget = args.node.getAttribute('data-uid');\n      this.parent.expandedId = this.expandNodeTarget;\n      this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n      read(this.parent, nodeExpand, path);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onNodeExpanded(args) {\n    this.addChild(args.files, this.expandNodeTarget, false);\n    this.parent.expandedId = null;\n  }\n\n  onNodeClicked(args) {\n    this.parent.activeModule = 'navigationpane';\n    this.previousSelected = this.treeObj.selectedNodes;\n    this.activeNode = args.node;\n\n    if (args.event.which === 3 && args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0]) {\n      this.isRightClick = true;\n      this.isNodeClickCalled = true;\n      this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n    } else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      const layout = this.parent.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n      this.parent.notify(modelChanged, {\n        module: layout,\n        newProp: {\n          selectedItems: []\n        }\n      });\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onNodeEditing(args) {\n    if (!isNullOrUndefined(args.innerHtml)) {\n      args.cancel = true;\n    }\n  }\n\n  onPathChanged(args) {\n    this.parent.isCut = false; // eslint-disable-next-line\n\n    const currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n\n    if (this.expandNodeTarget === 'add') {\n      const sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n      const ul = select('.' + LIST_PARENT, sNode);\n\n      if (isNullOrUndefined(ul)) {\n        this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n      }\n\n      this.expandNodeTarget = '';\n    }\n\n    this.expandTree = false;\n\n    if (isNullOrUndefined(currFiles)) {\n      setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n    }\n  }\n\n  updateTree(args) {\n    if (this.treeObj) {\n      const id = this.treeObj.selectedNodes[0];\n      this.updateTreeNode(args, id);\n    }\n  }\n\n  updateTreeNode(args, id) {\n    const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, !toExpand);\n  }\n\n  removeChildNodes(id) {\n    const sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n    const parent = select('.' + LIST_PARENT, sNode);\n    const childs = parent ? Array.prototype.slice.call(parent.children) : null;\n\n    if (childs) {\n      this.treeObj.removeNodes(childs);\n    }\n  }\n\n  onOpenEnd(args) {\n    const sleId = this.parent.pathId[this.parent.pathId.length - 1];\n    this.treeObj.expandAll(this.treeObj.selectedNodes);\n    this.treeObj.selectedNodes = [sleId];\n    this.expandNodeTarget = 'add';\n    this.onPathChanged(args);\n  }\n\n  onOpenInit(args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      if (args.target.querySelector('.' + ICONS)) {\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n      }\n    }\n  }\n\n  onInitialEnd(args) {\n    this.onInit();\n    this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n  }\n\n  onFinalizeEnd(args) {\n    this.onInit();\n    const id = getValue('_fm_id', args.cwd);\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, false);\n    this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n  }\n\n  onCreateEnd(args) {\n    this.updateTree(args);\n  }\n\n  onSelectedData() {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateItemData();\n    }\n  }\n\n  onDeleteInit() {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateActionData();\n      const name = getValue('name', this.parent.itemData[0]);\n      Delete(this.parent, [name], this.parent.path, 'delete');\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd(args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      const selectedNode = this.treeObj.selectedNodes[0];\n      const selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n      const selectedNodeEle = closest(selcetedEle, '.' + LIST_PARENT).parentElement;\n      this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n      this.treeObj.dataBind();\n    }\n\n    this.updateTree(args);\n  }\n\n  onRefreshEnd(args) {\n    this.updateTree(args);\n  }\n\n  onRenameInit() {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateRenameData();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onRenameEndParent(args) {\n    const id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n    this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n    this.updateTreeNode(args, id);\n    this.parent.expandedId = null;\n\n    if (this.renameParent) {\n      this.renameParent = null;\n    } else {\n      // eslint-disable-next-line\n      let resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        const nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.isRenameParent = true;\n        const id = getValue(this.treeObj.fields.id, resultData[0]);\n        this.treeObj.selectedNodes = [id];\n        this.treeObj.dataBind();\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onRenameEnd(args) {\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n      this.updateTree(args);\n    } else {\n      // eslint-disable-next-line\n      const data = this.treeObj.getTreeData(); // eslint-disable-next-line\n\n      let resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(data).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        const nData = new DataManager(data).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n        this.parent.expandedId = this.renameParent;\n        this.parent.itemData = this.getTreeData(this.renameParent);\n        read(this.parent, renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n      }\n    }\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.addDragDrop();\n          break;\n\n        case 'navigationPaneSettings':\n          read(this.parent, finalizeEnd, '/');\n\n          if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n            this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n          }\n\n          break;\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDownLoadInit() {\n    this.doDownload();\n  }\n\n  onSelectionChanged(e) {\n    this.treeObj.selectedNodes = [e.selectedNode];\n  }\n\n  onClearPathInit(e) {\n    this.removeChildNodes(e.selectedNode);\n  }\n\n  onDragEnd(args) {\n    let moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchDrag) {\n      moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  } // eslint-disable-next-line\n\n\n  getMoveNames(files, flag, path) {\n    const moveNames = [];\n\n    for (let i = 0; i < files.length; i++) {\n      if (!files[i].isFile) {\n        if (!this.parent.hasId) {\n          let name = files[i].previousName;\n\n          if (flag) {\n            path = path + files[i].previousName;\n            const index = path.lastIndexOf('/');\n            name = path.substring(index + 1);\n            path = path.substring(0, index + 1);\n          } // eslint-disable-next-line\n\n\n          const resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name, false));\n\n          for (let j = 0; j < resultData.length; j++) {\n            let fPath = getValue('filterPath', resultData[j]);\n            fPath = fPath.replace(/\\\\/g, '/');\n\n            if (fPath === path) {\n              moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return moveNames;\n  }\n\n  onCutEnd(args) {\n    let moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchCut) {\n      this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  selectResultNode(resultObj) {\n    if (!this.parent.hasId) {\n      const path = getValue('filterPath', resultObj);\n      const itemname = getValue('name', resultObj); // eslint-disable-next-line\n\n      const data = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n\n      if (data.length > 0) {\n        // eslint-disable-next-line\n        const resultData = new DataManager(data).executeLocal(new Query().where('filterPath', 'equal', path, false));\n\n        if (resultData.length > 0) {\n          const id = getValue(this.treeObj.fields.id, resultData[0]);\n          this.treeObj.selectedNodes = [id];\n          this.treeObj.dataBind();\n        }\n      }\n    } else {\n      this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n      this.treeObj.dataBind();\n    }\n  }\n\n  onDropPath(args) {\n    this.onpasteEnd(args);\n    this.selectResultNode(this.parent.dropData);\n    this.parent.isDropEnd = !this.parent.isPasteError;\n  }\n\n  onpasteEnd(args) {\n    // eslint-disable-next-line\n    let resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n    } else {\n      // eslint-disable-next-line\n      const nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n\n      if (nData.length > 0) {\n        resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      const id = getValue(this.treeObj.fields.id, resultData[0]);\n      const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n      this.removeChildNodes(id);\n      this.addChild(args.files, id, toExpand);\n    }\n\n    this.parent.expandedId = null;\n    this.onPathChanged(args);\n\n    if (this.parent.isDragDrop) {\n      this.checkDropPath(args);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  checkDropPath(args) {\n    if (this.parent.hasId) {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n      readDropPath(this.parent);\n      return;\n    }\n\n    if (this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1) {\n      this.parent.isDropEnd = false;\n      readDropPath(this.parent);\n    } else {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n  }\n\n  onpasteInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.updateItemData();\n    }\n\n    this.moveNames = []; // eslint-disable-next-line\n\n    const obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n\n    for (let i = 0; i < obj.length; i++) {\n      if (getValue('isFile', obj[i]) === false) {\n        this.moveNames.push(getValue('_fm_id', obj[i]));\n      }\n    }\n  }\n\n  oncutCopyInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.activeElements = [this.activeNode];\n    }\n  }\n\n  addEventListener() {\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(downloadInit, this.onDownLoadInit, this);\n    this.parent.on(initialEnd, this.onInitialEnd, this);\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutEnd, this.onCutEnd, this);\n    this.parent.on(pasteInit, this.onpasteInit, this);\n    this.parent.on(nodeExpand, this.onNodeExpanded, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(updateTreeSelection, this.onSelectionChanged, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(openEnd, this.onOpenEnd, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onRenameEnd, this);\n    this.parent.on(renameEndParent, this.onRenameEndParent, this);\n    this.parent.on(clearPathInit, this.onClearPathInit, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(dragEnd, this.onDragEnd, this);\n    this.parent.on(dragging, this.onDragging, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(pathDrag, this.onPathDrag, this);\n  }\n\n  removeEventListener() {\n    this.parent.off(initialEnd, this.onInitialEnd);\n    this.parent.off(downloadInit, this.onDownLoadInit);\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutEnd, this.onCutEnd);\n    this.parent.off(pasteInit, this.onpasteInit);\n    this.parent.off(updateTreeSelection, this.onSelectionChanged);\n    this.parent.off(nodeExpand, this.onNodeExpanded);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(openEnd, this.onOpenEnd);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onRenameEnd);\n    this.parent.off(renameEndParent, this.onRenameEndParent);\n    this.parent.off(clearPathInit, this.onClearPathInit);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(dragEnd, this.onDragEnd);\n    this.parent.off(dragging, this.onDragging);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(pathDrag, this.onPathDrag);\n  }\n  /* istanbul ignore next */\n\n\n  onDetailsInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      // eslint-disable-next-line\n      const dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.itemData = dataobj;\n    }\n  } // eslint-disable-next-line\n\n\n  onMenuItemData(args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      const liEle = closest(args.target, 'li');\n      this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDragging(args) {\n    const ele = closest(args.target, 'li');\n\n    if (ele.classList.contains('e-node-collapsed')) {\n      this.isDrag = true;\n      const level = parseInt(ele.getAttribute('aria-level'), 10);\n      this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n      this.isDrag = false;\n    }\n  }\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      const dropLi = closest(args.target, 'li');\n      this.parent.dropData = this.getTreeData(dropLi)[0];\n      this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'navigationpane';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.treeObj) {\n      this.unWireEvents();\n      this.treeObj.destroy();\n    }\n  }\n\n  wireEvents() {\n    this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n      keyAction: this.keyDown.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  }\n\n  unWireEvents() {\n    this.keyboardModule.destroy();\n  }\n  /* istanbul ignore next */\n\n\n  keyDown(e) {\n    const action = e.action;\n\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(detailsInit, {});\n        GetDetails(this.parent, [], this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n        if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n          this.updateItemData();\n\n          if (!hasEditAccess(this.parent.itemData[0])) {\n            createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n          } else {\n            this.removeNodes = [];\n            createDialog(this.parent, 'Delete');\n          }\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'shiftF10':\n        this.updateItemData();\n\n        if (!hasDownloadAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionDownload);\n          return;\n        }\n\n        if (this.parent.selectedItems.length !== 0) {\n          this.doDownload();\n        }\n\n        break;\n\n      case 'f2':\n        if (this.parent.selectedItems.length === 0) {\n          // eslint-disable-next-line\n          const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n\n          if (!hasEditAccess(data)) {\n            createDeniedDialog(this.parent, data, permissionEdit);\n          } else {\n            this.updateRenameData();\n            createDialog(this.parent, 'Rename');\n          }\n        }\n\n        break;\n    }\n  } // eslint-disable-next-line\n\n\n  getTreeData(args) {\n    // eslint-disable-next-line\n    const data = this.treeObj.getTreeData(args);\n\n    for (let i = 0; i < data.length; i++) {\n      if (isNullOrUndefined(getValue('hasChild', data[i]))) {\n        setValue('hasChild', false, data[i]);\n      }\n    }\n\n    return data;\n  }\n\n  updateRenameData() {\n    this.updateItemData();\n    this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n  }\n\n  updateItemData() {\n    // eslint-disable-next-line\n    const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n    this.parent.itemData = [data];\n    this.parent.isFile = false;\n  }\n\n  updateActionData() {\n    this.updateItemData();\n    const newPath = getParentPath(this.parent.path);\n    this.parent.setProperties({\n      path: newPath\n    }, true);\n    this.parent.pathId.pop();\n    this.parent.pathNames.pop();\n  }\n  /* istanbul ignore next */\n\n\n  doDownload() {\n    const newPath = getParentPath(this.parent.path);\n    const itemId = this.treeObj.selectedNodes[0];\n    const name = itemId === this.parent.pathId[0] ? '' : getValue('name', this.parent.itemData[0]);\n    Download(this.parent, newPath, [name]);\n  }\n\n}\n/**\n * DetailsView module\n */\n\n\nclass DetailsView {\n  /**\n   * Constructor for the GridView module\n   *\n   * @param {FileManager} parent - specifies the parent.\n   * @hidden\n   */\n  constructor(parent) {\n    this.isInteracted = true;\n    this.interaction = true;\n    this.isPasteOperation = false;\n    this.isColumnRefresh = false;\n    this.dragObj = null;\n    this.startIndex = null;\n    this.firstItemIndex = null;\n    this.isSelectionUpdate = false;\n    this.currentSelectedItem = [];\n    this.count = 0;\n    this.isRendered = true;\n    this.isLoaded = false;\n    this.isNameWidth = false;\n    this.pasteOperation = false;\n    this.uploadOperation = false;\n    Grid.Inject(Resize, ContextMenu$1, Sort, VirtualScroll);\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + GRID_ID, this.parent.element);\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      ctrlUp: 'ctrl+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      end: 'end',\n      home: 'home',\n      moveUp: 'uparrow',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftdel: 'shift+delete',\n      ctrlD: 'ctrl+d',\n      f2: 'f2',\n      ctrlA: 'ctrl+a',\n      enter: 'enter'\n    };\n  }\n  /* istanbul ignore next */\n\n\n  render(args) {\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'Details') {\n      removeClass([this.parent.element], MULTI_SELECT); // eslint-disable-next-line\n\n      const items = getSortedData(this.parent, args.files);\n      this.checkNameWidth();\n      const columns = this.getColumns();\n      let sortSettings;\n\n      if (this.parent.isMobile) {\n        sortSettings = [];\n      } else {\n        if (this.parent.sortOrder !== 'None') {\n          sortSettings = [{\n            direction: this.parent.sortOrder,\n            field: this.parent.sortBy\n          }];\n        }\n      }\n\n      this.gridObj = new Grid({\n        dataSource: items,\n        allowSorting: true,\n        rowSelecting: this.onSelection.bind(this, 'select'),\n        rowDeselecting: this.onSelection.bind(this, 'unselect'),\n        rowSelected: this.onSelected.bind(this),\n        rowDeselected: this.onDeSelection.bind(this),\n        allowResizing: this.parent.detailsViewSettings.columnResizing,\n        selectionSettings: {\n          type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n          checkboxMode: 'ResetOnRowClick'\n        },\n        enableRtl: this.parent.enableRtl,\n        pageSettings: {\n          pageSize: 20\n        },\n        sortSettings: {\n          allowUnsort: false,\n          columns: sortSettings\n        },\n        columns: columns,\n        recordDoubleClick: this.DblClickEvents.bind(this),\n        beforeDataBound: this.onBeforeDataBound.bind(this),\n        dataBound: this.onDataBound.bind(this),\n        rowDataBound: this.onRowDataBound.bind(this),\n        actionBegin: this.onActionBegin.bind(this),\n        headerCellInfo: this.onHeaderCellInfo.bind(this),\n        width: '100%',\n        beforeCopy: args => {\n          args.cancel = true;\n        },\n        // eslint-disable-next-line\n        load: function (args) {\n          this.focusModule.destroy();\n        },\n        locale: this.parent.locale\n      });\n      this.gridObj.isStringTemplate = true;\n      this.gridObj.appendTo('#' + this.parent.element.id + GRID_ID);\n      this.wireEvents();\n      this.adjustHeight();\n      this.emptyArgs = args;\n    }\n  }\n\n  checkNameWidth() {\n    const initialColumn = this.parent.detailsViewSettings.columns;\n    this.isNameWidth = false;\n\n    for (let i = 0; i < initialColumn.length; i++) {\n      if (initialColumn[i].field === 'name') {\n        this.isNameWidth = !isNullOrUndefined(initialColumn[i].width);\n        return;\n      }\n    }\n  }\n\n  adjustWidth(columns, fieldName) {\n    if (this.isNameWidth && fieldName === 'name') {\n      return;\n    }\n\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].field === fieldName) {\n        let nameWidth;\n\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n          nameWidth = this.element.clientWidth <= 500 ? '120px' : 'auto';\n        } else {\n          nameWidth = this.element.clientWidth <= 680 ? fieldName === 'name' ? '120px' : '180px' : 'auto';\n        }\n\n        columns[i].width = nameWidth;\n      }\n    }\n  }\n\n  getColumns() {\n    let columns;\n\n    if (this.parent.isMobile) {\n      columns = [{\n        field: 'name',\n        headerText: getLocaleText(this.parent, 'Name'),\n        width: 'auto',\n        minWidth: 120,\n        headerTextAlign: 'Left',\n        template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' + '<span class=\"e-fe-size\">${size}</span>'\n      }];\n    } else {\n      columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n      this.adjustWidth(columns, 'name');\n\n      for (let i = 0, len = columns.length; i < len; i++) {\n        columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n      }\n    }\n\n    const iWidth = this.parent.isMobile || this.parent.isBigger ? '54' : '46';\n    const icon = {\n      field: 'type',\n      width: iWidth,\n      minWidth: iWidth,\n      template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n      allowResizing: false,\n      allowSorting: true,\n      customAttributes: {\n        class: 'e-fe-grid-icon'\n      },\n      headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n    };\n    columns.unshift(icon);\n\n    if (this.parent.allowMultiSelection) {\n      const cWidth = this.parent.isBigger ? '36' : '26';\n      const cBox = {\n        type: 'checkbox',\n        width: cWidth,\n        minWidth: cWidth,\n        customAttributes: {\n          class: 'e-fe-checkbox'\n        },\n        allowResizing: false,\n        allowSorting: false\n      };\n\n      if (this.parent.isMobile) {\n        columns.push(cBox);\n      } else {\n        columns.unshift(cBox);\n      }\n    }\n\n    for (let i = 0, len = columns.length; i < len; i++) {\n      columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n    }\n\n    return columns;\n  }\n\n  adjustHeight() {\n    if (!this.gridObj) {\n      return;\n    }\n\n    const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n    const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n    const gridHeader = select('.' + GRID_HEADER, this.parent.element);\n    const height = pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight;\n    this.gridObj.height = height;\n    this.gridObj.dataBind();\n  }\n\n  renderCheckBox() {\n    this.gridObj.columns = this.getColumns();\n    this.isColumnRefresh = true;\n    this.gridObj.refreshColumns();\n  }\n\n  onRowDataBound(args) {\n    let td = select('.e-fe-grid-name', args.row);\n\n    if (!td) {\n      const columns = this.parent.detailsViewSettings.columns;\n\n      for (let i = 0; i < columns.length; i++) {\n        if (columns[i].field === 'name') {\n          td = args.row.children[this.parent.allowMultiSelection ? i + 2 : i + 1];\n          break;\n        }\n      }\n    }\n\n    if (td) {\n      td.setAttribute('title', getValue('name', args.data));\n    }\n\n    if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n      if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n        addBlur(args.row);\n      }\n    }\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n      const textEle = args.row.querySelector('.e-fe-text');\n\n      if (textEle) {\n        const name = getValue('name', args.data);\n        const type = getValue('type', args.data);\n        textEle.innerHTML = name.substr(0, name.length - type.length);\n      }\n    }\n\n    if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n      const sizeEle = args.row.querySelector('.e-fe-size');\n      let modifiedSize;\n\n      if (!getValue('isFile', args.data)) {\n        modifiedSize = '';\n      } else {\n        const sizeValue = getValue('size', args.data);\n        const intl = new Internationalization(this.parent.locale);\n        const value = intl.formatNumber(sizeValue / 1024, {\n          format: 'n'\n        });\n        modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n      }\n\n      sizeEle.innerHTML = modifiedSize;\n    }\n\n    if (this.parent.isMobile) {\n      if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n        const dateEle = args.row.querySelector('.e-fe-date');\n        const intl = new Internationalization(this.parent.locale);\n        const columns = this.parent.detailsViewSettings.columns; // eslint-disable-next-line\n\n        let format;\n\n        for (let i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'dateModified') {\n            format = columns[i].format;\n            break;\n          }\n        }\n\n        const formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n        dateEle.innerHTML = formattedString;\n      }\n    }\n\n    const checkWrap = args.row.querySelector('.' + CB_WRAP);\n\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n\n    if (!hasEditAccess(args.data)) {\n      args.row.className += ' ' + getAccessClass(args.data);\n    }\n\n    const eventArgs = {\n      element: args.row,\n      fileDetails: args.data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  }\n\n  onActionBegin(args) {\n    if (args.requestType === 'sorting') {\n      this.parent.setProperties({\n        sortOrder: args.direction\n      }, true);\n      this.parent.setProperties({\n        sortBy: args.columnName\n      }, true);\n\n      if (this.parent.selectedItems.length !== 0) {\n        this.sortItem = true;\n        const rows = this.gridObj.getSelectedRowIndexes();\n        let len = rows.length;\n        this.sortSelectedNodes = [];\n\n        while (len > 0) {\n          // eslint-disable-next-line\n          const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n          this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n          len--;\n        }\n      }\n\n      this.parent.notify(sortByChange, {});\n    }\n  }\n\n  onHeaderCellInfo(args) {\n    const checkWrap = args.node.querySelector('.' + CB_WRAP);\n\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n  }\n\n  onBeforeDataBound(args) {\n    showSpinner(this.parent.element); // eslint-disable-next-line\n\n    const items = getSortedData(this.parent, this.gridObj.dataSource);\n    args.result = items;\n  }\n  /* istanbul ignore next */\n\n\n  onDataBound() {\n    this.createDragObj();\n\n    if (this.parent.selectedItems.length !== 0) {\n      this.selectRecords(this.parent.selectedItems);\n    }\n\n    if (this.isPasteOperation === true) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n\n    if (this.parent.createdItem) {\n      this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n      this.parent.createdItem = null;\n    }\n\n    if (this.parent.layoutSelectedItems.length) {\n      this.selectRecords(this.parent.layoutSelectedItems);\n    }\n\n    if (this.parent.renamedItem) {\n      this.addSelection(this.parent.renamedItem);\n      this.parent.renamedItem = null;\n    }\n\n    if (this.sortItem === true) {\n      this.selectRecords(this.sortSelectedNodes);\n      this.sortItem = false;\n    }\n\n    if (this.isSelectionUpdate) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.currentSelectedItem);\n        this.isSelectionUpdate = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n\n    if (this.uploadOperation === true) {\n      this.count++;\n      this.selectRecords(this.parent.uploadItem);\n\n      if (this.count === this.parent.uploadItem.length) {\n        this.uploadOperation = false;\n        this.parent.uploadItem = [];\n      }\n    }\n\n    if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n      const hdTable = this.gridObj.getHeaderContent();\n      hdTable.style.paddingRight = '';\n      hdTable.style.paddingLeft = '';\n      const hdContent = select('.e-headercontent', hdTable);\n      hdContent.style.borderRightWidth = '0';\n      const cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.style.overflowY = '';\n      cnTable.classList.add('e-scrollShow');\n    } else {\n      const hdTable = this.gridObj.getHeaderContent();\n\n      if (!this.parent.enableRtl) {\n        hdTable.style.paddingRight = '16px';\n      } else {\n        hdTable.style.paddingLeft = '16px';\n      }\n\n      const cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.classList.remove('e-scrollShow');\n    }\n\n    this.isRendered = true;\n    this.parent.isLayoutChange = false;\n    hideSpinner(this.parent.element);\n    this.checkEmptyDiv(this.emptyArgs);\n    this.isInteracted = this.isLoaded ? true : this.isInteracted;\n    this.isLoaded = false;\n  }\n\n  selectRecords(nodes) {\n    // eslint-disable-next-line\n    const gridRecords = this.gridObj.getCurrentViewRecords();\n    const sRecords = [];\n\n    for (let i = 0, len = gridRecords.length; i < len; i++) {\n      const node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n\n      if (nodes.indexOf(node) !== -1) {\n        sRecords.push(i);\n      }\n    }\n\n    if (sRecords.length !== 0) {\n      this.gridObj.selectRows(sRecords);\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n  } // eslint-disable-next-line\n\n\n  addSelection(data) {\n    // eslint-disable-next-line\n    const items = this.gridObj.getCurrentViewRecords(); // eslint-disable-next-line\n\n    let rData = [];\n\n    if (this.parent.hasId) {\n      rData = new DataManager(items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      const nData = new DataManager(items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (nData.length > 0) {\n        rData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (rData.length > 0) {\n      const index = items.indexOf(rData[0]);\n      this.gridObj.selectRows([index]);\n    }\n  }\n\n  onSortColumn() {\n    if (this.parent.sortOrder !== 'None') {\n      this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n    } else {\n      // eslint-disable-next-line\n      this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n    }\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'detailsViewSettings':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.checkNameWidth();\n            const columns = this.getColumns();\n            this.gridObj.columns = columns;\n            this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n            this.gridObj.dataBind();\n            this.gridObj.refreshColumns();\n          }\n\n          break;\n\n        case 'selectedItems':\n          this.interaction = false;\n\n          if (this.parent.selectedItems.length !== 0) {\n            if (!this.parent.allowMultiSelection) {\n              const slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n              this.parent.setProperties({\n                selectedItems: slItems\n              }, true);\n            }\n\n            this.selectRecords(this.parent.selectedItems);\n            this.parent.setProperties({\n              selectedItems: this.parent.selectedItems\n            }, true);\n          } else if (!isNullOrUndefined(this.gridObj)) {\n            this.gridObj.clearSelection();\n          }\n\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.currentSelectedItem = this.parent.selectedItems;\n            this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n            this.isSelectionUpdate = true;\n            this.renderCheckBox();\n          }\n\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'Details');\n          break;\n\n        case 'width':\n          this.onDetailsResize();\n      }\n    }\n  }\n\n  onPathChanged(args) {\n    this.parent.isCut = false;\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n      this.parent.searchedItems = [];\n\n      if (!this.parent.isFiltered) {\n        this.removePathColumn(false);\n      } else {\n        this.updatePathColumn();\n      }\n    }\n\n    removeBlur(this.parent);\n\n    if (this.parent.view === 'Details') {\n      /* istanbul ignore next */\n      this.isInteracted = false;\n      showSpinner(this.parent.element);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    }\n\n    this.emptyArgs = args;\n  }\n\n  updatePathColumn() {\n    const len = this.gridObj.columns.length;\n    const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n\n    if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n      const pathColumn$$1 = {\n        field: 'filterPath',\n        headerText: getLocaleText(this.parent, 'Path'),\n        minWidth: 180,\n        width: 'auto'\n      };\n      this.gridObj.columns.push(pathColumn$$1);\n      this.adjustWidth(this.gridObj.columns, 'filterPath');\n      this.adjustWidth(this.gridObj.columns, 'name');\n      this.isColumnRefresh = true;\n      this.gridObj.refreshColumns();\n    }\n  }\n\n  checkEmptyDiv(args) {\n    // eslint-disable-next-line\n    const items = getSortedData(this.parent, args.files);\n\n    if (items.length === 0 && !isNullOrUndefined(this.element.querySelector('.' + GRID_VIEW))) {\n      createEmptyElement(this.parent, this.element, args);\n    } else if (items.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n      if (this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY)) {\n        const emptyDiv = this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY);\n        this.element.querySelector('.' + GRID_VIEW).removeChild(emptyDiv);\n      } else {\n        this.element.removeChild(this.element.querySelector('.' + EMPTY));\n      }\n    }\n  }\n\n  onOpenInit() {\n    if (this.parent.activeModule === 'detailsview') {\n      // eslint-disable-next-line\n      const data = this.gridObj.getSelectedRecords()[0];\n      this.openContent(data);\n    }\n  }\n\n  DblClickEvents(args) {\n    this.gridObj.selectRows([args.rowIndex]); // eslint-disable-next-line\n\n    let data;\n\n    if (args.rowData) {\n      data = JSON.parse(JSON.stringify(args.rowData));\n      this.openContent(data);\n    }\n  } // eslint-disable-next-line\n\n\n  openContent(data) {\n    if (!hasReadAccess(data)) {\n      createDeniedDialog(this.parent, data, permissionRead);\n      return;\n    }\n\n    const eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileOpen', eventArgs, fileOpenArgs => {\n      if (!fileOpenArgs.cancel) {\n        const name = getValue('name', data);\n\n        if (getValue('isFile', data)) {\n          const icon = fileType(data);\n\n          if (icon === ICON_IMAGE) {\n            const imgUrl = getImageUrl(this.parent, data);\n            createImageDialog(this.parent, name, imgUrl);\n          }\n        } else {\n          const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n\n          if (val === '' && !this.parent.isFiltered) {\n            const id = getValue('id', data);\n            const newPath = this.parent.path + (isNullOrUndefined(id) ? name : id) + '/';\n            this.parent.setProperties({\n              path: newPath\n            }, true);\n            this.parent.pathNames.push(name);\n            this.parent.pathId.push(getValue('_fm_id', data));\n            this.parent.itemData = [data];\n            openAction(this.parent);\n          } else {\n            openSearchFolder(this.parent, data);\n          }\n\n          this.parent.isFiltered = false;\n        }\n\n        this.element.focus();\n      }\n    });\n  }\n  /* istanbul ignore next */\n\n\n  onLayoutChange(args) {\n    if (this.parent.view === 'Details') {\n      if (!this.gridObj) {\n        this.render(args);\n      } else {\n        this.isLoaded = true;\n      }\n\n      if (this.parent.isFiltered) {\n        this.updatePathColumn();\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.parent.notify(hideLayout, {});\n      this.gridObj.element.classList.remove(DISPLAY_NONE);\n      this.isInteracted = false;\n      this.gridObj.clearSelection();\n\n      if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n        this.onSearchFiles(args);\n      }\n\n      this.adjustHeight();\n\n      if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSearchFiles(args) {\n    if (this.parent.view === 'Details') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(selectionChanged, {});\n\n      if (!this.parent.isLayoutChange) {\n        this.parent.layoutSelectedItems = [];\n      }\n\n      this.updatePathColumn();\n      this.parent.searchedItems = args.files;\n      this.onPathChanged(args);\n    }\n  }\n\n  removePathColumn(isRefresh) {\n    const len = this.gridObj.columns.length;\n    const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n\n    if (columnData[len - 1].field && columnData[len - 1].field === 'filterPath') {\n      /* istanbul ignore next */\n      if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn('name', this.parent.sortOrder);\n        } else {\n          // eslint-disable-next-line\n          this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n\n        this.parent.notify(sortByChange, {});\n      }\n\n      this.gridObj.columns.pop();\n\n      if (!isRefresh) {\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n      }\n    }\n  }\n\n  onFinalizeEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    if (!this.gridObj) {\n      this.render(args);\n    } else {\n      this.onPathChanged(args);\n    }\n  }\n\n  onCreateEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.onPathChanged(args);\n  }\n\n  onRenameInit() {\n    if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  }\n\n  onSelectedData() {\n    if (this.parent.activeModule === 'detailsview') {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n  }\n\n  onDeleteInit() {\n    if (this.parent.activeModule === 'detailsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.onPathChanged(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n  }\n\n  onRefreshEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.isInteracted = false;\n    this.removePathColumn(false);\n    this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    this.emptyArgs = args;\n  }\n\n  onHideLayout() {\n    if (this.parent.view !== 'Details' && this.gridObj) {\n      this.gridObj.element.classList.add(DISPLAY_NONE);\n    }\n  }\n\n  onSelectAllInit() {\n    if (this.parent.view === 'Details') {\n      this.isInteracted = false;\n\n      if (this.parent.allowMultiSelection) {\n        this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n      } else {\n        this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n      }\n\n      this.isInteracted = true;\n      this.interaction = true;\n    }\n  }\n\n  onClearAllInit() {\n    if (this.parent.view === 'Details') {\n      this.removeSelection();\n      this.interaction = true;\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSelectionChanged() {\n    removeClass([this.element], HEADER_CHECK);\n\n    if (this.parent.selectedItems.length > 0) {\n      addClass([this.element], HEADER_CHECK);\n    }\n  }\n\n  onLayoutRefresh() {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.adjustHeight();\n  }\n\n  onBeforeRequest() {\n    this.isRendered = false;\n  }\n\n  onAfterRequest() {\n    this.isRendered = true;\n  }\n\n  onUpdateSelectionData() {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.parent.itemData = this.gridObj.getSelectedRecords();\n  }\n\n  addEventListener() {\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(search, this.onSearchFiles, this);\n    this.parent.on(methodCall, this.onMethodCall, this);\n    this.parent.on(actionFailure, this.onActionFailure, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onPathChanged, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(sortColumn, this.onSortColumn, this);\n    this.parent.on(openEnd, this.onPathChanged, this);\n    this.parent.on(filterEnd, this.onPathChanged, this);\n    this.parent.on(pasteInit, this.onPasteInit, this);\n    this.parent.on(hideLayout, this.onHideLayout, this);\n    this.parent.on(selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(clearAllInit, this.onClearAllInit, this);\n    this.parent.on(pathColumn, this.onPathColumn, this);\n    this.parent.on(selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(afterRequest, this.onAfterRequest, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(resizeEnd, this.onDetailsResizeHandler, this);\n    this.parent.on(splitterResize, this.onDetailsResize, this);\n    this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n  }\n\n  removeEventListener() {\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(pasteInit, this.onPasteInit);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(search, this.onSearchFiles);\n    this.parent.off(methodCall, this.onMethodCall);\n    this.parent.off(actionFailure, this.onActionFailure);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onPathChanged);\n    this.parent.off(filterEnd, this.onPathChanged);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(sortColumn, this.onSortColumn);\n    this.parent.off(openEnd, this.onPathChanged);\n    this.parent.off(hideLayout, this.onHideLayout);\n    this.parent.off(selectAllInit, this.onSelectAllInit);\n    this.parent.off(clearAllInit, this.onClearAllInit);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(pathColumn, this.onPathColumn);\n    this.parent.off(selectionChanged, this.onSelectionChanged);\n    this.parent.off(beforeRequest, this.onBeforeRequest);\n    this.parent.off(afterRequest, this.onAfterRequest);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(resizeEnd, this.onDetailsResizeHandler);\n    this.parent.off(splitterResize, this.onDetailsResize);\n    this.parent.off(layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n  }\n\n  onActionFailure() {\n    this.interaction = true;\n  } // eslint-disable-next-line\n\n\n  onMenuItemData(args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n    }\n  }\n\n  onPasteInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath !== '' ? this.gridObj.getSelectedRecords() : [getPathObject(this.parent)];\n    }\n  }\n\n  onDetailsInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  }\n\n  dragHelper(args) {\n    const dragTarget = args.sender.target;\n    const dragLi = dragTarget.closest('tr.e-row');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    let name;\n\n    if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n      name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n    } else if (dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling) {\n      name = dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling.innerText;\n    }\n\n    if (dragLi && !dragLi.querySelector('.e-active')) {\n      this.selectRecords([name]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.activeElements = [];\n    this.parent.dragData = []; // eslint-disable-next-line\n\n    this.parent.dragData = this.gridObj.getSelectedRecords();\n    let dragRow;\n\n    if (this.parent.dragData.length === 0 && dragLi) {\n      dragRow = this.gridObj.getRowInfo(dragLi);\n    }\n\n    if (dragRow) {\n      this.parent.dragData.push(dragRow.rowData);\n    }\n\n    this.parent.dragPath = this.parent.path;\n    this.parent.activeElements = this.gridObj.getSelectedRows();\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  }\n  /* istanbul ignore next */\n\n\n  onDetailsResize() {\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n      const gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n      const gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n      const gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n      const gridHeaderColNames = this.gridObj.getColumns();\n\n      for (let i = 0; i < gridHeaderColNames.length; i++) {\n        if (!this.isNameWidth && gridHeaderColNames[i].field === 'name' || gridHeaderColNames[i].field === 'filterPath') {\n          if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            if (this.element.clientWidth <= 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n              gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n            } else if (this.element.clientWidth > 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          } else {\n            if (this.element.clientWidth <= 680) {\n              if (gridHeaderColNames[i].field === 'name') {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n              } else {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n              }\n            } else if (this.element.clientWidth > 680) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          }\n        }\n      }\n    }\n  }\n\n  onDetailsResizeHandler() {\n    this.onDetailsResize();\n\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n      this.adjustHeight();\n    }\n  }\n\n  createDragObj() {\n    if (!this.parent.isMobile && this.gridObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.gridObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          distance: 5,\n          enableTailMode: true,\n          dragArea: this.parent.element,\n          dragTarget: '.' + ROW,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: args => {\n            dragStartHandler(this.parent, args, this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  }\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      /* istanbul ignore next */\n      // eslint-disable-next-line\n      const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (!args.target.closest('tr')) {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      } else {\n        // eslint-disable-next-line\n        let info = null; // eslint-disable-next-line\n\n        info = this.gridObj.getRowInfo(args.target).rowData;\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      }\n    }\n  }\n\n  oncutCopyInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.gridObj.getSelectedRecords();\n      this.parent.activeElements = this.gridObj.getSelectedRows();\n    }\n  }\n\n  onpasteEnd(args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  }\n\n  onDropPath(args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns modules name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'detailsview';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.gridObj) {\n      this.unWireEvents();\n      this.gridObj.destroy();\n    }\n  }\n\n  updateType(item) {\n    const folder = select('.' + FOLDER, item);\n    this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n  }\n  /* istanbul ignore next */\n\n\n  onSelection(action, args) {\n    const eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction,\n      cancel: false,\n      target: args.target\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    args.cancel = eventArgs.cancel;\n  }\n  /* istanbul ignore next */\n\n\n  onSelected(args) {\n    this.parent.activeModule = 'detailsview';\n\n    if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n      this.selectedRecords();\n    }\n\n    this.parent.notify(selectionChanged, {});\n\n    if (this.gridObj.getSelectedRowIndexes().length === 1) {\n      this.firstItemIndex = this.gridObj.selectedRowIndex;\n    }\n\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    this.triggerSelect('select', args);\n    const item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n    this.updateType(item);\n\n    if (!isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n      if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n        const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n        const lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n        lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n      }\n\n      item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n    }\n\n    if (!isNullOrUndefined(this.gridObj) && !isNullOrUndefined(this.gridObj.element.querySelector('.e-checkselectall'))) {\n      this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n    }\n\n    const rows = this.gridObj.getSelectedRowIndexes();\n\n    if (!this.parent.allowMultiSelection) {\n      for (let i = 0; i < rows.length; i++) {\n        if (rows[i] === this.gridObj.selectedRowIndex) {\n          this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n        } else {\n          this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n        }\n      }\n    }\n\n    const len = rows.length;\n\n    if (len > 0) {\n      // eslint-disable-next-line\n      const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n      this.parent.currentItemText = getValue('name', data);\n    }\n\n    const indexes = getValue('rowIndexes', args);\n    const multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n\n    if (this.parent.isDevice && isNullOrUndefined(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n      this.parent.isFile = getValue('isFile', args.data);\n\n      if (!this.parent.isFile) {\n        this.openContent(args.data);\n      }\n    }\n\n    this.parent.visitedItem = args.row;\n\n    if (this.parent.allowMultiSelection && !isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n      const checkItem = item.querySelector('.e-checkselect');\n      checkItem.focus();\n    }\n\n    this.addFocus(this.gridObj.selectedRowIndex);\n\n    if (!this.parent.isLayoutChange) {\n      this.isInteracted = true;\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onPathColumn() {\n    if (this.parent.view === 'Details' && !isNullOrUndefined(this.gridObj)) {\n      if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n        this.removePathColumn(false);\n      }\n    }\n  }\n\n  selectedRecords() {\n    this.parent.setProperties({\n      selectedItems: []\n    }, true); // eslint-disable-next-line\n\n    const selectedRecords = this.gridSelectNodes();\n    let selectSize = 0;\n\n    while (selectSize < selectedRecords.length) {\n      const record = selectedRecords[selectSize];\n      const name = getItemName(this.parent, record);\n      this.parent.selectedItems.push(name);\n      selectSize++;\n    }\n\n    this.parent.setProperties({\n      selectedItems: this.parent.selectedItems\n    }, true);\n  }\n\n  onDeSelection(args) {\n    /* istanbul ignore next */\n    if (!this.parent.allowMultiSelection && isNullOrUndefined(args.data)) {\n      this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n    } else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n      const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n      this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n    }\n\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.gridObj.element.setAttribute('tabindex', '0');\n    }\n\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      return;\n    }\n\n    this.selectedRecords();\n\n    if (this.parent.selectedItems.length === 0) {\n      setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n      removeClass([this.parent.element], MULTI_SELECT);\n    }\n\n    this.parent.notify(selectionChanged, {});\n    this.triggerSelect('unselect', args);\n    this.parent.visitedItem = null;\n  }\n\n  triggerSelect(action, args) {\n    const eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.interaction = true;\n  }\n\n  wireEvents() {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n      keyAction: this.keyupHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n  }\n\n  unWireEvents() {\n    this.wireClickEvent(false);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n    EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n  }\n\n  wireClickEvent(toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      const proxy = this;\n      const ele = this.gridObj.getContent();\n      this.clickObj = new Touch(ele, {\n        tap: eve => {\n          if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n            proxy.onClearAllInit();\n          }\n        },\n        tapHold: e => {\n          if (proxy.parent.isDevice) {\n            e.originalEvent.preventDefault();\n\n            if (proxy.parent.allowMultiSelection) {\n              setValue('enableSelectMultiTouch', proxy.parent.allowMultiSelection, proxy.gridObj.selectionModule);\n              addClass([proxy.parent.element], MULTI_SELECT);\n            }\n\n            const target = e.originalEvent.target;\n\n            if (target) {\n              const row = closest(target, '.' + ROW);\n              const index = proxy.gridObj.getRows().indexOf(row);\n              proxy.gridObj.selectRow(index);\n            }\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  removeSelection() {\n    removeClass([this.parent.element], MULTI_SELECT);\n    this.gridObj.clearSelection();\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.parent.notify(selectionChanged, {});\n\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.startIndex = null;\n    }\n\n    this.isInteracted = true;\n  }\n\n  removeFocus() {\n    this.addFocus(null);\n  }\n\n  getFocusedItemIndex() {\n    return !isNullOrUndefined(this.getFocusedItem()) ? parseInt(this.getFocusedItem().getAttribute('aria-rowindex'), 10) : null;\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keydownHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'moveDown':\n      case 'moveUp':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keyupHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    e.preventDefault();\n    const action = e.action; // eslint-disable-next-line\n\n    const gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n    const gridLength = gridItems.length;\n    const focItem = this.getFocusedItem();\n    const focIndex = this.getFocusedItemIndex();\n    const selIndex = this.gridObj.selectedRowIndex;\n    const selRowIndeces = this.gridObj.getSelectedRowIndexes(); // eslint-disable-next-line\n\n    let rowData;\n    let firstItem;\n    let lastItem;\n\n    switch (action) {\n      case 'altEnter':\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'enter':\n        if (this.gridObj.selectedRowIndex === -1) {\n          break;\n        }\n\n        rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n\n        if (rowData) {\n          // eslint-disable-next-line\n          const data = JSON.parse(JSON.stringify(rowData));\n          this.openContent(data);\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlA':\n        if (!isNullOrUndefined(gridItems[0]) && this.parent.allowMultiSelection) {\n          const cnTable = this.gridObj.getContent().querySelector('.e-content');\n          const crtSrlPos = cnTable.scrollTop;\n          const crtFocusIndex = this.gridObj.selectedRowIndex;\n          this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n          cnTable.scrollTop = crtSrlPos;\n\n          if (crtFocusIndex !== -1) {\n            this.addFocus(crtFocusIndex);\n          }\n        }\n\n        break;\n\n      case 'ctrlHome':\n      case 'tab':\n        if (!isNullOrUndefined(gridItems[0])) {\n          if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n            this.gridObj.selectRow(0);\n          } else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n            return;\n          } else {\n            this.addFocus(0);\n          }\n        }\n\n        break;\n\n      case 'ctrlEnd':\n        if (!isNullOrUndefined(gridItems[0])) {\n          if (!this.parent.allowMultiSelection) {\n            this.gridObj.selectRow(gridLength - 1);\n          } else {\n            this.addFocus(gridLength - 1);\n          }\n        }\n\n        break;\n\n      case 'shiftHome':\n      case 'shiftEnd':\n      case 'csHome':\n      case 'csEnd':\n        if (!this.parent.allowMultiSelection) {\n          this.gridObj.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : gridItems.length - 1);\n        } else {\n          if (!isNullOrUndefined(gridItems[0])) {\n            if (!isNullOrUndefined(selIndex) && selIndex !== -1) {\n              this.checkRowsKey(gridItems, selIndex, null, e);\n            } else {\n              if (e.action === 'csHome' || e.action === 'shiftHome') {\n                this.gridObj.selectRow(0);\n              } else {\n                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n              }\n            }\n          }\n        }\n\n        break;\n\n      case 'space':\n      case 'csSpace':\n      case 'shiftSpace':\n      case 'ctrlSpace':\n        this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n        break;\n\n      case 'csUp':\n      case 'csDown':\n      case 'shiftUp':\n      case 'shiftDown':\n        this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n        break;\n\n      case 'ctrlUp':\n      case 'ctrlDown':\n        if (!this.parent.allowMultiSelection) {\n          this.moveFunction(gridItems, e, selIndex);\n        } else {\n          this.ctrlMoveFunction(gridItems, e, selIndex);\n        }\n\n        break;\n\n      case 'home':\n        firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n        this.parent.setProperties({\n          selectedItems: firstItem\n        }, true);\n        this.selectRecords(firstItem);\n        break;\n\n      case 'moveUp':\n      case 'moveDown':\n        this.moveFunction(gridItems, e, selIndex);\n        break;\n\n      case 'end':\n        lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n        this.parent.setProperties({\n          selectedItems: lastItem\n        }, true);\n        this.selectRecords(lastItem);\n        break;\n    }\n  } // eslint-disable-next-line\n\n\n  gridSelectNodes() {\n    return this.gridObj.getSelectedRecords();\n  }\n\n  doDownload() {\n    if (this.parent.selectedItems.length !== 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords(); // eslint-disable-next-line\n\n      const items = this.parent.itemData;\n\n      for (let i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], permissionDownload);\n          return;\n        }\n      }\n\n      Download(this.parent, this.parent.path, this.parent.selectedItems);\n    }\n  }\n\n  performDelete() {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords(); // eslint-disable-next-line\n\n      const items = this.parent.itemData;\n\n      for (let i = 0; i < items.length; i++) {\n        if (!hasEditAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  }\n\n  performRename() {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  }\n\n  updateRenameData() {\n    // eslint-disable-next-line\n    const data = this.gridSelectNodes()[0];\n    updateRenamingData(this.parent, data);\n  } // eslint-disable-next-line\n\n\n  shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.moveFunction(gridItems, e, selIndex);\n    } else {\n      if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n        this.ctrlMoveFunction(gridItems, e, selIndex);\n      } else if (selIndex !== -1 && focIndex !== selIndex && !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n        this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n      } else {\n        this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  moveFunction(selectedItems, e, rowIndex) {\n    if (!isNullOrUndefined(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n      if (e.action === 'moveDown') {\n        this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n      } else {\n        this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n      }\n    } else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n      if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectRow(rowIndex + (rowIndex !== selectedItems.length - 1 ? 1 : 0));\n      } else {\n        this.gridObj.selectRow(rowIndex - (rowIndex !== 0 ? 1 : 0));\n      }\n    } else {\n      if (!isNullOrUndefined(selectedItems[0])) {\n        this.gridObj.selectRow(0);\n      }\n    }\n  }\n\n  spaceSelection(selRowIndeces, focIndex, selIndex, e) {\n    if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n      if (focIndex < selIndex) {\n        this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n      }\n    } else if (!isNullOrUndefined(this.getFocusedItem()) && focIndex !== selIndex) {\n      selRowIndeces.push(this.getFocusedItemIndex());\n      this.gridObj.selectRows(selRowIndeces);\n    } else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n      const lItem = selIndex;\n      selRowIndeces.pop();\n      this.gridObj.selectRows(selRowIndeces);\n      this.addFocus(lItem);\n    } else if (e.action === 'shiftSpace') {\n      this.gridObj.selectRow(selIndex);\n    }\n  } // eslint-disable-next-line\n\n\n  ctrlMoveFunction(items, e, rowIndex) {\n    let nextItem;\n\n    if (!isNullOrUndefined(this.getFocusedItem())) {\n      const nextIndex = this.getFocusedItemIndex();\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? nextIndex + (nextIndex < items.length - 1 ? 1 : 0) : nextIndex - (nextIndex < 1 ? 0 : 1);\n    } else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? rowIndex + (rowIndex < items.length ? 1 : 0) : rowIndex - (rowIndex < 1 ? 0 : 1);\n    } else {\n      if (!isNullOrUndefined(items[0])) {\n        nextItem = 0;\n      }\n    }\n\n    this.addFocus(nextItem);\n  } // eslint-disable-next-line\n\n\n  checkRowsKey(items, indexValue, focIndex, e) {\n    if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n      if (e.action !== 'csHome' && e.action !== 'csEnd') {\n        if (isNullOrUndefined(this.startIndex) && this.firstItemIndex !== indexValue) {\n          this.firstItemIndex = indexValue;\n        }\n\n        if (e.action === 'shiftEnd') {\n          this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n        }\n\n        this.startIndex = indexValue;\n      } else {\n        if (e.action === 'csEnd') {\n          this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(indexValue) ? 0 : indexValue, isNullOrUndefined(focIndex) ? items.length - 1 : focIndex, e));\n        } else {\n          if (isNullOrUndefined(indexValue)) {\n            this.gridObj.selectRow(0);\n          } else {\n            this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(focIndex) ? 0 : focIndex, indexValue, e));\n          }\n        }\n      }\n    } else {\n      this.gridObj.selectionModule.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : items.length - 1);\n    }\n  }\n\n  InnerItems(fItem, lItem, e) {\n    const itemArr = this.gridObj.getSelectedRowIndexes();\n\n    if (e.action === 'csEnd') {\n      for (let i = fItem + 1; i <= lItem; i++) {\n        itemArr.push(i);\n      }\n    } else {\n      for (let i = lItem - 1; fItem <= i; i--) {\n        itemArr.push(i);\n      }\n    }\n\n    return itemArr;\n  }\n\n  shiftSelectFocusItem(selIndex, fIndex, selRowIndexes, e) {\n    const lItem = fIndex + (e.action === 'shiftDown' || e.action === 'csDown' ? 1 : -1);\n    const fItem = isNullOrUndefined(this.startIndex) ? selIndex : selRowIndexes[0];\n\n    if (fItem === lItem) {\n      this.gridObj.selectRow(fItem);\n    } else {\n      if (fItem < lItem) {\n        if (e.action === 'shiftDown' || e.action === 'csDown') {\n          this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n        }\n      } else if (e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n      }\n    }\n\n    this.startIndex = this.gridObj.selectedRowIndex;\n  }\n\n  addFocus(item) {\n    const fItem = this.getFocusedItem();\n    const itemElement = this.gridObj.getRowByIndex(item);\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [FOCUS, FOCUSED]);\n    }\n\n    if (!isNullOrUndefined(itemElement)) {\n      this.gridObj.element.setAttribute('tabindex', '-1');\n      itemElement.setAttribute('tabindex', '0');\n      itemElement.focus();\n      addClass([itemElement], [FOCUS, FOCUSED]);\n    }\n  }\n\n  getFocusedItem() {\n    return select('.' + FOCUSED, this.element);\n  }\n\n  isSelected(selRowIndexes, focIndex) {\n    let check = false;\n\n    for (let i = 0; i <= selRowIndexes.length - 1; i++) {\n      if (selRowIndexes[i] === focIndex) {\n        check = true;\n        break;\n      }\n    }\n\n    return check;\n  } // eslint-disable-next-line\n\n\n  shiftSelectedItem(selIndex, selRowIndexes, gridItems, e) {\n    if (selIndex === -1) {\n      this.gridObj.selectRow(0);\n    } else {\n      if (isNullOrUndefined(this.startIndex) && e.shiftKey) {\n        this.startIndex = this.gridObj.selectedRowIndex;\n        this.gridObj.selectRows([selIndex, e.action === 'shiftDown' || e.action === 'csDown' ? selIndex + (selIndex !== gridItems.length - 1 ? 1 : 0) : selIndex - (selIndex !== 0 ? 1 : 0)]);\n      } else {\n        if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n          if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n            if (selIndex !== gridItems.length - 1) {\n              selRowIndexes.push(selIndex + 1);\n            }\n          } else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n            if (selIndex !== 0) {\n              selRowIndexes.push(selIndex - 1);\n            }\n          } else {\n            selRowIndexes.pop();\n          }\n\n          this.gridObj.selectRows(selRowIndexes);\n        } else {\n          if (e.action === 'csDown') {\n            if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n              selRowIndexes.push(this.getFocusedItemIndex() + 1);\n              this.gridObj.selectRows(selRowIndexes);\n            } else {\n              this.addFocus(this.getFocusedItemIndex() + 1);\n            }\n          } else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n            selRowIndexes.push(this.getFocusedItemIndex() - 1);\n            this.gridObj.selectRows(selRowIndexes);\n          } else {\n            this.addFocus(this.getFocusedItemIndex() - 1);\n          }\n        }\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  onMethodCall(e) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    const action = getValue('action', e);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', e));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', e));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', e));\n        break;\n\n      case 'createFolder':\n        this.interaction = false;\n        break;\n\n      case 'renameFile':\n        this.interaction = false;\n        this.renameFile(getValue('id', e), getValue('newName', e));\n        break;\n\n      case 'selectAll':\n        this.interaction = false;\n        this.onSelectAllInit();\n        break;\n\n      case 'clearSelection':\n        this.interaction = false;\n        this.onClearAllInit();\n        break;\n    }\n  } // eslint-disable-next-line\n\n\n  getRecords(nodes) {\n    // eslint-disable-next-line\n    const gridRecords = this.gridObj.getCurrentViewRecords(); // eslint-disable-next-line\n\n    const records = [];\n    const hasFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    const filter$$1 = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !hasFilter) {\n      for (let i = 0, len = gridRecords.length; i < len; i++) {\n        if (nodes.indexOf(getValue(filter$$1, gridRecords[i])) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    } else {\n      for (let i = 0, len = gridRecords.length; i < len; i++) {\n        const name = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n\n        if (nodes.indexOf(name) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    }\n\n    return records;\n  }\n\n  deleteFiles(ids) {\n    this.parent.activeModule = 'detailsview';\n\n    if (isNullOrUndefined(ids)) {\n      this.performDelete();\n      return;\n    } // eslint-disable-next-line\n\n\n    const records = this.getRecords(ids);\n\n    if (records.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < records.length; i++) {\n      data[i] = records[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  }\n\n  downloadFiles(ids) {\n    if (isNullOrUndefined(ids)) {\n      this.doDownload();\n      return;\n    } // eslint-disable-next-line\n\n\n    const dRecords = this.getRecords(ids);\n\n    if (dRecords.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < dRecords.length; i++) {\n      data[i] = dRecords[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  }\n\n  openFile(id) {\n    if (isNullOrUndefined(id)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const records = this.getRecords([id]);\n\n    if (records.length > 0) {\n      this.openContent(records[0]);\n    }\n  }\n\n  renameFile(id, name) {\n    this.parent.activeModule = 'detailsview';\n\n    if (isNullOrUndefined(id)) {\n      this.performRename();\n      return;\n    } // eslint-disable-next-line\n\n\n    const records = this.getRecords([id]);\n\n    if (records.length > 0) {\n      updateRenamingData(this.parent, records[0]);\n\n      if (!isNullOrUndefined(name)) {\n        if (hasEditAccess(this.parent.itemData[0])) {\n          rename(this.parent, this.parent.path, name);\n        } else {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        }\n      } else {\n        doRename(this.parent);\n      }\n    }\n  }\n\n}\n/**\n * File Manager layout modules\n */\n\n/**\n * File Manager pop-up modules\n */\n\n/**\n * File Manager modules\n */\n\n/**\n * File Manager all modules\n */\n\n\nexport { AjaxSettings, toolbarItems, ToolbarSettings, SearchSettings, columnArray, DetailsViewSettings, fileItems, folderItems, layoutItems, ContextMenuSettings, NavigationPaneSettings, UploadSettings, Column, TOOLBAR_ID, LAYOUT_ID, NAVIGATION_ID, TREE_ID, GRID_ID, LARGEICON_ID, DIALOG_ID, ALT_DIALOG_ID, IMG_DIALOG_ID, EXTN_DIALOG_ID, UPLOAD_DIALOG_ID, RETRY_DIALOG_ID, CONTEXT_MENU_ID, SORTBY_ID, VIEW_ID, SPLITTER_ID, CONTENT_ID, BREADCRUMBBAR_ID, UPLOAD_ID, RETRY_ID, SEARCH_ID, ROOT, CONTROL, CHECK_SELECT, ROOT_POPUP, MOBILE, MOB_POPUP, MULTI_SELECT, FILTER, LAYOUT, NAVIGATION, LAYOUT_CONTENT, LARGE_ICONS, TB_ITEM, LIST_ITEM, LIST_TEXT, LIST_PARENT, TB_OPTION_TICK, TB_OPTION_DOT, BLUR, ACTIVE, HOVER, FOCUS, FOCUSED, CHECK, FRAME, CB_WRAP, ROW, ROWCELL, EMPTY, EMPTY_CONTENT, EMPTY_INNER_CONTENT, CLONE, DROP_FOLDER, DROP_FILE, FOLDER, ICON_IMAGE, ICON_MUSIC, ICON_VIDEO, LARGE_ICON, LARGE_EMPTY_FOLDER, LARGE_EMPTY_FOLDER_TWO, LARGE_ICON_FOLDER, SELECTED_ITEMS, TEXT_CONTENT, GRID_HEADER, TEMPLATE_CELL, TREE_VIEW, MENU_ITEM, MENU_ICON, SUBMENU_ICON, GRID_VIEW, GRID_CONTENT, ICON_VIEW, ICON_OPEN, ICON_UPLOAD, ICON_CUT, ICON_COPY, ICON_PASTE, ICON_DELETE, ICON_RENAME, ICON_NEWFOLDER, ICON_DETAILS, ICON_SHORTBY, ICON_REFRESH, ICON_SELECTALL, ICON_DOWNLOAD, ICON_OPTIONS, ICON_GRID, ICON_LARGE, ICON_BREADCRUMB, ICON_CLEAR, ICON_DROP_IN, ICON_DROP_OUT, ICON_NO_DROP, ICONS, DETAILS_LABEL, ERROR_CONTENT, STATUS, BREADCRUMBS, RTL, DISPLAY_NONE, COLLAPSED, FULLROW, ICON_COLLAPSIBLE, SPLIT_BAR, HEADER_CHECK, OVERLAY, VALUE, isFile, modelChanged, initialEnd, finalizeEnd, createEnd, filterEnd, beforeDelete, pathDrag, deleteInit, deleteEnd, refreshEnd, resizeEnd, splitterResize, pathChanged, destroy, beforeRequest, upload, skipUpload, afterRequest, download, layoutRefresh, actionFailure, search, openInit, openEnd, selectionChanged, selectAllInit, clearAllInit, clearPathInit, layoutChange, sortByChange, nodeExpand, detailsInit, menuItemData, renameInit, renameEndParent, renameEnd, showPaste, hidePaste, selectedData, cutCopyInit, pasteInit, pasteEnd, cutEnd, hideLayout, updateTreeSelection, treeSelect, sortColumn, pathColumn, searchTextChange, beforeDownload, downloadInit, dropInit, dragEnd, dropPath, dragHelper, dragging, updateSelectionData, methodCall, permissionRead, permissionEdit, permissionEditContents, permissionCopy, permissionUpload, permissionDownload, FileManager, Toolbar$1 as Toolbar, BreadCrumbBar, NavigationPane, DetailsView, LargeIconsView, createDialog, createExtDialog, createImageDialog, ContextMenu$2 as ContextMenu };","map":{"version":3,"sources":["D:/EPAMproject/CardFile/CardFileAngular/node_modules/@syncfusion/ej2-filemanager/dist/es6/ej2-filemanager.es2015.js"],"names":["Ajax","Browser","ChildProperty","Complex","Component","Draggable","Event","EventHandler","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","Touch","addClass","closest","createElement","detach","extend","formatUnit","getUniqueID","getValue","isNullOrUndefined","isVisible","matches","remove","removeClass","select","selectAll","setStyleAttribute","setValue","Splitter","Dialog","createSpinner","hideSpinner","showSpinner","DataManager","Query","Input","TextBox","Uploader","CheckBox","createCheckBox","ListBase","DropDownButton","ContextMenu","Toolbar","TreeView","ContextMenu$1","Grid","Resize","Sort","VirtualScroll","__decorate","undefined","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","AjaxSettings","prototype","__decorate$1","toolbarItems","ToolbarSettings","__decorate$2","SearchSettings","__decorate$3","columnArray","field","headerText","minWidth","template","customAttributes","class","type","format","width","DetailsViewSettings","__decorate$4","fileItems","folderItems","layoutItems","ContextMenuSettings","__decorate$5","NavigationPaneSettings","__decorate$6","UploadSettings","__decorate$7","Column","TOOLBAR_ID","LAYOUT_ID","NAVIGATION_ID","TREE_ID","GRID_ID","LARGEICON_ID","DIALOG_ID","ALT_DIALOG_ID","IMG_DIALOG_ID","EXTN_DIALOG_ID","UPLOAD_DIALOG_ID","RETRY_DIALOG_ID","CONTEXT_MENU_ID","SORTBY_ID","VIEW_ID","SPLITTER_ID","CONTENT_ID","BREADCRUMBBAR_ID","UPLOAD_ID","RETRY_ID","SEARCH_ID","ROOT","CONTROL","CHECK_SELECT","ROOT_POPUP","MOBILE","MOB_POPUP","MULTI_SELECT","FILTER","LAYOUT","NAVIGATION","LAYOUT_CONTENT","LARGE_ICONS","TB_ITEM","LIST_ITEM","LIST_TEXT","LIST_PARENT","TB_OPTION_TICK","TB_OPTION_DOT","BLUR","ACTIVE","HOVER","FOCUS","FOCUSED","CHECK","FRAME","CB_WRAP","ROW","ROWCELL","EMPTY","EMPTY_CONTENT","EMPTY_INNER_CONTENT","CLONE","DROP_FOLDER","DROP_FILE","FOLDER","ICON_IMAGE","ICON_MUSIC","ICON_VIDEO","LARGE_ICON","LARGE_EMPTY_FOLDER","LARGE_EMPTY_FOLDER_TWO","LARGE_ICON_FOLDER","SELECTED_ITEMS","TEXT_CONTENT","GRID_HEADER","TEMPLATE_CELL","TREE_VIEW","MENU_ITEM","MENU_ICON","SUBMENU_ICON","GRID_VIEW","GRID_CONTENT","ICON_VIEW","ICON_OPEN","ICON_UPLOAD","ICON_CUT","ICON_COPY","ICON_PASTE","ICON_DELETE","ICON_RENAME","ICON_NEWFOLDER","ICON_DETAILS","ICON_SHORTBY","ICON_REFRESH","ICON_SELECTALL","ICON_DOWNLOAD","ICON_OPTIONS","ICON_GRID","ICON_LARGE","ICON_BREADCRUMB","ICON_CLEAR","ICON_DROP_IN","ICON_DROP_OUT","ICON_NO_DROP","ICONS","DETAILS_LABEL","ERROR_CONTENT","STATUS","BREADCRUMBS","RTL","DISPLAY_NONE","COLLAPSED","FULLROW","ICON_COLLAPSIBLE","SPLIT_BAR","HEADER_CHECK","OVERLAY","VALUE","isFile","modelChanged","initialEnd","finalizeEnd","createEnd","filterEnd","beforeDelete","pathDrag","deleteInit","deleteEnd","refreshEnd","resizeEnd","splitterResize","pathChanged","destroy","beforeRequest","upload","skipUpload","afterRequest","download","layoutRefresh","actionFailure","search","openInit","openEnd","selectionChanged","selectAllInit","clearAllInit","clearPathInit","layoutChange","sortByChange","nodeExpand","detailsInit","menuItemData","renameInit","renameEndParent","renameEnd","showPaste","hidePaste","selectedData","cutCopyInit","pasteInit","pasteEnd","cutEnd","hideLayout","updateTreeSelection","treeSelect","sortColumn","pathColumn","searchTextChange","beforeDownload","downloadInit","dropInit","dragEnd","dropPath","dragHelper","dragging","updateSelectionData","methodCall","permissionRead","permissionEdit","permissionEditContents","permissionCopy","permissionUpload","permissionDownload","updatePath","node","data","instance","text","id","getAttribute","newText","setProperties","path","getPath","hasId","pathId","getPathId","pathNames","getPathNames","element","matched","getParents","len","ids","push","names","isId","el","parentNode","parentText","textContent","classList","contains","generatePath","parent","newPath","feParent","removeActive","isCut","removeBlur","selectedNodes","actionRecords","enablePaste","notify","activeElement","action","isSearchCut","activeElements","blurEle","activeModule","targetPath","getParentPath","getModule","addBlur","activeRecords","breadcrumbbarModule","searchObj","value","isFiltered","selectedItems","nodes","add","hover","querySelectorAll","searchWordHandler","isLayoutChange","searchWord","args","searchSettings","filterType","itemData","getPathObject","caseSensitive","ignoreCase","hiddenItems","showHiddenItems","Search","isSortByClicked","files","largeiconsviewModule","items","read","filter","updateLayout","view","layoutSelectedItems","getTargetModule","tartgetModule","targetModule","refresh","hasReadAccess","createDeniedDialog","openAction","copyFiles","fileAction","cutFiles","fileType","file","isFile$$1","imageFormat","audioFormat","videoFormat","knownFormat","filetype","toLowerCase","indexOf","split","join","iconType","getImageUrl","item","baseUrl","ajaxSettings","url","imgUrl","fileName","encodeURIComponent","fPath","imgId","replace","Date","getTime","toString","eventArgs","fileDetails","imageUrl","trigger","getFullPath","filePath","getName","name","getSortedData","query","sortOrder","sortBy","group","lists","executeLocal","getObject","currFiles","feFiles","where","createEmptyElement","top","layoutElement","addressBarHeight","offsetHeight","querySelector","emptyDiv","className","emptyFolder","emptyEle","dragFile","appendChild","error","innerHTML","getLocaleText","eDiv","style","marginTop","getDirectories","setNodeId","result","rootId","dirs","setDateObject","locale","localeObj","getConstant","getCssClass","css","cssClass","sortbyClickHandler","tick","getSortField","isMobile","module","substring","lastIndexOf","column","detailsViewSettings","columns","setNextPath","currfolders","folders","originalPath","root","eventName","openSearchFolder","selectedNode","pasteHandler","isDragDrop","folderPath","subFolder","validateSubFolder","paste","code","message","fileExists","createDialog","dropPath$$1","dragPath","tempTarget","srcData","dragNodes","dropHandler","dragData","dropData","oldPath","getDirectoryPath","cwd","doPasteUpdate","operation","duplicateItems","pasteNodes","flag","count","droppedObjects","duplicateRecords","isPasteError","isDropEnd","isSearchDrag","isPathDrag","readDropPath","expandedId","navigationpaneModule","treeObj","getDuplicateData","records","createVirtualDragElement","getItemName","cloneIcon","cloneName","virtualEle","ele","badge","virtualDragElement","dragStopHandler","dragArgs","cancel","treeExpandTimer","window","clearTimeout","removeDropTarget","uploadObj","dropArea","dragCount","dragStartHandler","dragObj","allowDragAndDrop","intDestroy","event","dragCancel","removeItemClass","draggingHandler","canDrop","setTimeout","objectToString","str","keys","updateRenamingData","currentItemText","filterPath","doRename","hasEditAccess","doDownload","hasDownloadAccess","Download","doDeleteFiles","newIds","Delete","doDownloadFiles","response","getAccessClass","permission","hasContentAccess","hasUploadAccess","createNewFolder","details","uploadItem","eleId","uploadEle","document","click","createAjax","readSuccess","createFolder","itemName","createSuccess","filterData","filterDataVal","filterSuccess","rename","itemNewName","newName","renameSuccess","pasteOperation","renameItems","targetData","renameFiles","destinationPath","pasteSuccess","deleteSuccess","GetDetails","detailsSuccess","fn","mode","dataType","contentType","JSON","stringify","onSuccess","onFailure","beforeSend","beforeSendArgs","ajax","triggerAjaxFailure","parse","rootAliasName","rootName","location","RegExp","match","send","dialogObj","visible","hide","createdItem","parentElement","nextElementSibling","renamedItem","pop","fileLength","createExtDialog","searchString","searchSuccess","downloadUrl","downloadArgs","form","attrs","method","input","forms","namedItem","submit","removeChild","e","replaceItems","options","getOptions","beforeOpen","keydownAction","bind","dialogName","beforeClose","triggerPopupBeforeClose","header","content","buttons","animationSettings","effect","showCloseIcon","closeOnEscape","allowDragging","isModal","popupTarget","open","close","enableRtl","enableHtmlSanitizer","isStringTemplate","appendTo","changeOptions","extOptions","getExtOptions","isApplySame","extDialogObj","beforeExtOpen","dataBind","show","triggerPopupBeforeOpen","dlgModule","popupName","popupModule","eventargs","isInteracted","triggerPopupOpen","triggerPopupClose","duplicateContent","index","buttonModel","isPrimary","renameText","indexval","ind","retryFiles","onRetryOpen","isRetryOpened","retryDlgClose","retryDlgUpdate","splice","isKeepBoth","onKeepBothAll","onReplaceAll","retryArgs","retry","dialogEle","container","checkContainer","checkbox","checkBoxObj","label","change","checked","focusInput","focus","setSelectionRange","onFolderDialogOpen","createInput","oninput","onValidate","onkeyup","getKeyCode","onSubmit","onRenameDialogOpen","inputEle","onReSubmit","onFocusRenameInput","txt","showFileExtension","placeholder","properties","formattedString","intl","strArr","fileType$$1","multipleFiles","onDeleteSubmit","formatDate","modified","size","map","val","substr","every","arr","toLocaleUpperCase","btnElement","preventKeydown","dlgName","btnCount","onkeydown","keyCode","preventDefault","onSubmitValidate","oIndex","extn","renamedId","oldExtension","nIndex","newExtension","test","addInvalid","which","charCode","createImageDialog","image","src","alt","viewerObj","height","enableResize","position","X","Y","openImage","resizing","updateImage","resizeStop","imgWrap","cssObj","getComputedStyle","paddingWidth","parseFloat","paddingRight","paddingHeight","paddingBottom","offsetWidth","LargeIconsView","constructor","isInteraction","uploadOperation","isRendered","tapCount","isPasteOperation","addEventListener","keyConfigs","end","home","tab","moveDown","moveLeft","moveRight","moveUp","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","ctrlUp","shiftEnd","shiftHome","shiftDown","shiftLeft","shiftRight","shiftUp","csEnd","csHome","csDown","csLeft","csRight","csUp","space","ctrlSpace","shiftSpace","csSpace","ctrlA","enter","altEnter","esc","del","ctrlX","isMac","ctrlC","ctrlV","f2","shiftdel","back","ctrlD","render","visitedItem","startItem","resetMultiSelect","setAttribute","listObj","unWireEvents","removeEventListener","iconsView","ul","ariaAttributes","itemRole","listRole","itemText","groupItemRole","wrapperRole","showIcon","fields","iconCss","htmlAttributes","itemCreated","onItemCreated","renderList","listElements","createListFromJson","itemList","Array","slice","call","preventImgDrag","createDragObj","emptyList","selectItems","activeEle","adjustHeight","maxHeight","getItemCount","wireEvents","checkItem","ondragstart","enableTailMode","distance","enableAutoScroll","dragTarget","helper","cursorAt","dragCursorPosition","dragArea","dragStop","drag","clone","dragStart","sender","dragLi","setFocus","getItemObject","onDropInit","getModuleName","dropLi","cwdData","info","pane","bar","removeAttribute","curData","textEle","renderCheckbox","allowMultiSelection","checkElement","firstElementChild","insertBefore","childNodes","onLayoutChange","indexes","getIndexes","checkEle","checkLength","checkState","icon","selected","showThumbnail","title","onFinalizeEnd","onCreateEnd","clearSelect","onSelectedData","updateSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onRenameInit","updateRenameData","onPathChanged","searchedItems","addSelection","onOpenInit","doOpenAction","onHideLayout","onSelectAllInit","getFirstItem","lastItem","getLastItem","eveArgs","ctrlKey","shiftKey","doSelection","onClearAllInit","clearSelection","onBeforeRequest","onAfterRequest","onSearch","onLayoutRefresh","onUpdateSelectionData","onPathColumn","isDestroyed","off","onPropertyChanged","onMethodCall","onActionFailure","onMenuItemData","splitterResizeHandler","resizeHandler","onpasteInit","onpasteEnd","oncutCopyInit","onDetailsInit","onDropPath","on","currentSelected","prop","newProp","wireClickEvent","keyboardModule","keyAction","keyActionHandler","keyboardDownModule","keydownActionHandler","onMouseOver","targetEle","toBind","proxy","clickObj","tap","eve","originalEvent","isDevice","tapEvent","doTapAction","dblClickHandler","clickHandler","tapHold","multiSelect","updateType","cList","fileSelectionArgs","triggerSelection","startIndex","endIndex","addActive","addFocus","triggerSelect","fileOpenArgs","folder","fItem","getFocusedItem","firstItem","navigateItem","navigateDown","navigateRight","csEndKey","csHomeKey","csDownKey","csLeftKey","csRightKey","csUpKey","spaceKey","ctrlAKey","getVisitedItem","performDelete","performRename","getActiveItem","isTowards","nItem","getNextItem","perRow","li","nextItem","liParent","liScrPos","scrollTop","getCurFocusedItem","dItem","lItem","rItem","uItem","getDataName","preItem","toCheck","eles","getBoundingClientRect","visitedData","j","byId","filter$$1","resultData","newData","deleteFiles","downloadFiles","openFile","renameFile","getItemsIndex","isFilter","filterName","BreadCrumbBar","addressPath","addressBarLink","searchTimer","searchWrapWidth","allowSearchOnTyping","searchEventBind","onPathChange","paths","addressbarUL","addressbarLI","pathNamesLen","addressATag","innerText","ulElement","breadCrumbBarNavigation","subMenuObj","searchWrap","updateBreadCrumbBar","addresBarUL","liElements","pRight","getPropertyValue","pLeft","breadCrumbBarWidth","liElementsWidth","liElementsWidths","clientWidth","searchContainer","searchInput","autocomplete","searchEle","span","onShowInput","showClearButton","onFocus","blur","onBlur","search$$1","searchChangeHandler","onKeyUp","diff","liElement","utext","subMenuLi","attributes","subMenuSpan","iconPosition","beforeItemRender","addSubMenuAttributes","subMenuSelectOperations","wrap","addressPathClickHandler","anchor","allow","nodeName","children","currentPath","triggerFileOpen","treeNodeId","list","liElementId","link","newpath","onUpdatePath","removeSearchValue","onRenameEnd","onResize","onPasteEnd","onSearchTextChange","liEle","ContextMenu$2","currentItems","currentElement","disabledItems","downarrow","uparrow","contextMenu","onBeforeItemRender","onSelect","onBeforeOpen","onBeforeClose","getMenuId","iconSpan","menuTarget","uid","treeFolder","targetNodeElement","activeNode","getElementsByClassName","targetElement","getTargetView","updateActiveModule","setLayoutItem","detailsviewModule","gridObj","getRowObjectFromUID","selectRows","parseInt","setFileItem","setFolderItem","pasteEle","isSubMenu","getMenuItemData","menuModule","menuType","menuOpenArgs","enableItems","getItemIndex","itemId","disableItem","concat","enable","isUniqueId","checkValidItem","isTree","getItemData","contextMenuSettings","trim","layout","nameEle","menuClickArgs","sItems","openFileOnContextMenuClick","separator","defaultLocale","__decorate$8","FileManager_1","FileManager","previousPath","nextPath","deleteRecords","isSameAction","persistData","isOpened","left","uploadingCount","uploadedCount","Inject","preRender","ensurePath","checkMobile","navigationPaneSettings","isBigger","addWrapper","altN","f5","ctrlShift1","ctrlShift2","ctrlU","getPersistData","keyEntity","addOnPersist","requiredModules","modules","member","toolbarSettings","initialize","slItems","fileView","navigator","platform","toUpperCase","setRtl","addEventListeners","splitterObj","collapse","renderComplete","addCssClass","renderFileUpload","headerWrap","layoutWrap","navigationWrap","treeWrap","contentWrap","gridWrap","largeiconWrap","overlay","paneSettings","min","max","maxWidth","dialogWrap","menuWrap","dialogImgWrap","extnDialogWrap","uploadDialogWrap","toolbar","toolBarHeight","clientHeight","splitterAdjust","expand","oldOne","newOne","onContextMenu","userAgent","uploadDialogObj","onOpen","onClose","renderUploadBox","uploadUrl","asyncSettings","saveUrl","removeUrl","uploading","onUploading","removing","onRemoving","canceling","onCancel","clearing","onClearing","onSelected","success","onUploadSuccess","failure","onUploadFailure","autoUpload","uploadSettings","minFileSize","maxFileSize","allowedExtensions","fileListRendering","onFileListRender","updateUploader","clearAll","fileData","customFormData","uploadEventArgs","httpRequest","currentRequest","onFileUploadSuccess","getFilesData","filesData","autoClose","statusText","onInitialEnd","removeEventListeners","setPath","oldProp","ajaxSettingSetModel","localeSetModelOption","refreshing","disableToolbarItems","toolbarModule","enableToolbarItems","disableMenuItems","contextmenuModule","getMenuItemIndex","getToolbarItemIndex","filterFiles","getSelectedFiles","refreshFiles","refreshLayout","uploadFiles","rtl","Toolbar$1","default","single","multiple","selection","toolbarItemData","getItems","toolbarCreateArgs","toolbarObj","created","toolbarCreateHandler","overflowMode","clicked","onClicked","getId","currItems","tool","toolbarClickArgs","getPupupId","buttonObj","gridSpan","largeIconSpan","layoutBtnObj","hideItems","hideStatus","updateSortByButton","itemCount","itemTooltip","spanElement","tooltipText","prefixIcon","showTextOn","suffixIcon","overflow","align","onSelectionChanged","reRenderToolbar","hideItem","tools","toHide","refreshOverflow","isEnable","NavigationPane","removeNodes","moveNames","expandTree","isDrag","isPathDragged","isRenameParent","isRightClick","renameParent","previousSelected","isNodeClickCalled","restrictSelecting","ctrlShiftN","shiftF10","onInit","rootData","attr","dataSource","parentID","expanded","hasChildren","tooltip","nodeSelecting","onNodeSelecting","nodeSelected","onNodeSelected","nodeExpanding","onNodeExpand","nodeClicked","onNodeClicked","allowEditing","nodeEditing","onNodeEditing","drawNode","onDrowNode","dataBound","addDragDrop","getTreeData","getDragPath","getDropPath","nodeData","addChild","prevent","directories","_fm_icon","addNodes","expandNodeTarget","onPathDrag","selectResultNode","onNodeExpanded","innerHtml","sNode","updateTree","updateTreeNode","toExpand","expandedNodes","removeChildNodes","childs","onOpenEnd","sleId","expandAll","updateItemData","updateActionData","selcetedEle","selectedNodeEle","onRenameEndParent","nData","onDownLoadInit","onClearPathInit","onDragEnd","getMoveNames","previousName","onCutEnd","resultObj","itemname","checkDropPath","obj","onDragging","dataobj","level","keyDown","DetailsView","interaction","isColumnRefresh","firstItemIndex","isSelectionUpdate","currentSelectedItem","isLoaded","isNameWidth","checkNameWidth","getColumns","sortSettings","direction","allowSorting","rowSelecting","onSelection","rowDeselecting","rowSelected","rowDeselected","onDeSelection","allowResizing","columnResizing","selectionSettings","checkboxMode","pageSettings","pageSize","allowUnsort","recordDoubleClick","DblClickEvents","beforeDataBound","onBeforeDataBound","onDataBound","rowDataBound","onRowDataBound","actionBegin","onActionBegin","headerCellInfo","onHeaderCellInfo","beforeCopy","load","focusModule","emptyArgs","initialColumn","adjustWidth","fieldName","nameWidth","headerTextAlign","iWidth","headerTemplate","unshift","cWidth","cBox","disableHtmlEncode","gridHeader","renderCheckBox","refreshColumns","td","row","sizeEle","modifiedSize","sizeValue","formatNumber","dateEle","checkWrap","requestType","columnName","sortItem","rows","getSelectedRowIndexes","sortSelectedNodes","getRowsObject","selectRecords","currentViewData","getRowHeight","hdTable","getHeaderContent","paddingLeft","hdContent","borderRightWidth","cnTable","getContent","overflowY","checkEmptyDiv","gridRecords","getCurrentViewRecords","sRecords","selectedRowIndex","rData","onSortColumn","sortModule","onDetailsResize","removePathColumn","updatePathColumn","columnData","pathColumn$$1","getSelectedRecords","openContent","rowIndex","rowData","onSearchFiles","isRefresh","selectionModule","selectRowsByRange","getRows","selectRow","removeSelection","onPasteInit","onDetailsResizeHandler","getRowInfo","dragRow","getSelectedRows","gridHeaderColGroup","firstChild","gridContentColGroup","gridHeaderColNames","selectedRecords","getRowByIndex","lastItemIndex","gridSelectNodes","selectSize","record","keyupHandler","keydownHandler","removeFocus","getFocusedItemIndex","gridItems","gridLength","focItem","focIndex","selIndex","selRowIndeces","crtSrlPos","crtFocusIndex","checkRowsKey","spaceSelection","shiftMoveMethod","moveFunction","ctrlMoveFunction","isSelected","shiftSelectFocusItem","shiftSelectedItem","nextIndex","indexValue","checkAllRows","InnerItems","itemArr","fIndex","selRowIndexes","itemElement","check","getRecords","hasFilter","dRecords"],"mappings":"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","sourcesContent":["import { Ajax, Browser, ChildProperty, Complex, Component, Draggable, Event, EventHandler, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, Touch, addClass, closest, createElement, detach, extend, formatUnit, getUniqueID, getValue, isNullOrUndefined, isVisible, matches, remove, removeClass, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { Splitter } from '@syncfusion/ej2-layouts';\nimport { Dialog, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input, TextBox, Uploader } from '@syncfusion/ej2-inputs';\nimport { CheckBox, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ContextMenu, Toolbar, TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as ContextMenu$1, Grid, Resize, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nclass AjaxSettings extends ChildProperty {\n}\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"downloadUrl\", void 0);\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"getImageUrl\", void 0);\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"uploadUrl\", void 0);\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"url\", void 0);\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename',\n    'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\nclass ToolbarSettings extends ChildProperty {\n}\n__decorate$1([\n    Property(toolbarItems)\n], ToolbarSettings.prototype, \"items\", void 0);\n__decorate$1([\n    Property(true)\n], ToolbarSettings.prototype, \"visible\", void 0);\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Search settings of the File Manager.\n */\nclass SearchSettings extends ChildProperty {\n}\n__decorate$2([\n    Property(true)\n], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n__decorate$2([\n    Property('contains')\n], SearchSettings.prototype, \"filterType\", void 0);\n__decorate$2([\n    Property(true)\n], SearchSettings.prototype, \"ignoreCase\", void 0);\n__decorate$2([\n    Property(null)\n], SearchSettings.prototype, \"placeholder\", void 0);\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the columns in the details view of the file manager.\n */\nconst columnArray = [\n    {\n        field: 'name', headerText: 'Name', minWidth: 120,\n        template: '<span class=\"e-fe-text\">${name}</span>', customAttributes: { class: 'e-fe-grid-name' }\n    },\n    {\n        field: '_fm_modified', headerText: 'DateModified', type: 'dateTime',\n        format: 'MMMM dd, yyyy HH:mm', minWidth: 120, width: '190'\n    },\n    {\n        field: 'size', headerText: 'Size', minWidth: 90, width: '110', template: '<span class=\"e-fe-size\">${size}</span>'\n    }\n];\n/**\n * Specifies the grid settings of the File Manager.\n */\nclass DetailsViewSettings extends ChildProperty {\n}\n__decorate$3([\n    Property(true)\n], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n__decorate$3([\n    Property(columnArray)\n], DetailsViewSettings.prototype, \"columns\", void 0);\n\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nconst folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nconst layoutItems = [\n    'SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'\n];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\nclass ContextMenuSettings extends ChildProperty {\n}\n__decorate$4([\n    Property(fileItems)\n], ContextMenuSettings.prototype, \"file\", void 0);\n__decorate$4([\n    Property(folderItems)\n], ContextMenuSettings.prototype, \"folder\", void 0);\n__decorate$4([\n    Property(layoutItems)\n], ContextMenuSettings.prototype, \"layout\", void 0);\n__decorate$4([\n    Property(true)\n], ContextMenuSettings.prototype, \"visible\", void 0);\n\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\nclass NavigationPaneSettings extends ChildProperty {\n}\n__decorate$5([\n    Property('650px')\n], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n__decorate$5([\n    Property('240px')\n], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n__decorate$5([\n    Property(true)\n], NavigationPaneSettings.prototype, \"visible\", void 0);\n__decorate$5([\n    Property('None')\n], NavigationPaneSettings.prototype, \"sortOrder\", void 0);\n\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nclass UploadSettings extends ChildProperty {\n}\n__decorate$6([\n    Property('')\n], UploadSettings.prototype, \"allowedExtensions\", void 0);\n__decorate$6([\n    Property(true)\n], UploadSettings.prototype, \"autoUpload\", void 0);\n__decorate$6([\n    Property(false)\n], UploadSettings.prototype, \"autoClose\", void 0);\n__decorate$6([\n    Property(0)\n], UploadSettings.prototype, \"minFileSize\", void 0);\n__decorate$6([\n    Property(30000000)\n], UploadSettings.prototype, \"maxFileSize\", void 0);\n\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Interface for a class Column\n */\n/* istanbul ignore next */\nclass Column extends ChildProperty {\n}\n__decorate$7([\n    Property('')\n], Column.prototype, \"field\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"headerText\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"width\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"minWidth\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"maxWidth\", void 0);\n__decorate$7([\n    Property('Left')\n], Column.prototype, \"textAlign\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"headerTextAlign\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"type\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"format\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"template\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"headerTemplate\", void 0);\n__decorate$7([\n    Property(true)\n], Column.prototype, \"allowSorting\", void 0);\n__decorate$7([\n    Property(true)\n], Column.prototype, \"allowResizing\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"customAttributes\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"hideAtMedia\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"customFormat\", void 0);\n\n/**\n * FileExplorer common modules\n */\n\n/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nconst TOOLBAR_ID = '_toolbar';\n/** @hidden */\nconst LAYOUT_ID = '_layout';\n/** @hidden */\nconst NAVIGATION_ID = '_navigation';\n/** @hidden */\nconst TREE_ID = '_tree';\n/** @hidden */\nconst GRID_ID = '_grid';\n/** @hidden */\nconst LARGEICON_ID = '_largeicons';\n/** @hidden */\nconst DIALOG_ID = '_dialog';\n/** @hidden */\nconst ALT_DIALOG_ID = '_alt_dialog';\n/** @hidden */\nconst IMG_DIALOG_ID = '_img_dialog';\n/** @hidden */\nconst EXTN_DIALOG_ID = '_extn_dialog';\n/** @hidden */\nconst UPLOAD_DIALOG_ID = '_upload_dialog';\n/** @hidden */\nconst RETRY_DIALOG_ID = '_retry_dialog';\n/** @hidden */\nconst CONTEXT_MENU_ID = '_contextmenu';\n/** @hidden */\nconst SORTBY_ID = '_sortby';\n/** @hidden */\nconst VIEW_ID = '_view';\n/** @hidden */\nconst SPLITTER_ID = '_splitter';\n/** @hidden */\nconst CONTENT_ID = '_content';\n/** @hidden */\nconst BREADCRUMBBAR_ID = '_breadcrumbbar';\n/** @hidden */\nconst UPLOAD_ID = '_upload';\n/** @hidden */\nconst RETRY_ID = '_retry';\n/** @hidden */\nconst SEARCH_ID = '_search';\n/**\n * Specifies the File Manager internal class names\n */\n/** @hidden */\nconst ROOT = 'e-filemanager';\n/** @hidden */\nconst CONTROL = 'e-control';\n/** @hidden */\nconst CHECK_SELECT = 'e-fe-cb-select';\n/** @hidden */\nconst ROOT_POPUP = 'e-fe-popup';\n/** @hidden */\nconst MOBILE = 'e-fe-mobile';\n/** @hidden */\nconst MOB_POPUP = 'e-fe-popup e-fe-mobile';\n/** @hidden */\nconst MULTI_SELECT = 'e-fe-m-select';\n/** @hidden */\nconst FILTER = 'e-fe-m-filter';\n/** @hidden */\nconst LAYOUT = 'e-layout';\n/** @hidden */\nconst NAVIGATION = 'e-navigation';\n/** @hidden */\nconst LAYOUT_CONTENT = 'e-layout-content';\n/** @hidden */\nconst LARGE_ICONS = 'e-large-icons';\n/** @hidden */\nconst TB_ITEM = 'e-toolbar-item';\n/** @hidden */\nconst LIST_ITEM = 'e-list-item';\n/** @hidden */\nconst LIST_TEXT = 'e-list-text';\n/** @hidden */\nconst LIST_PARENT = 'e-list-parent';\n/** @hidden */\nconst TB_OPTION_TICK = 'e-icons e-fe-tick';\n/** @hidden */\nconst TB_OPTION_DOT = 'e-icons e-fe-dot';\n/** @hidden */\nconst BLUR = 'e-blur';\n/** @hidden */\nconst ACTIVE = 'e-active';\n/** @hidden */\nconst HOVER = 'e-hover';\n/** @hidden */\nconst FOCUS = 'e-focus';\n/** @hidden */\nconst FOCUSED = 'e-focused';\n/** @hidden */\nconst CHECK = 'e-check';\n/** @hidden */\nconst FRAME = 'e-frame';\n/** @hidden */\nconst CB_WRAP = 'e-checkbox-wrapper';\n/** @hidden */\nconst ROW = 'e-row';\n/** @hidden */\nconst ROWCELL = 'e-rowcell';\n/** @hidden */\nconst EMPTY = 'e-empty';\n/** @hidden */\nconst EMPTY_CONTENT = 'e-empty-content';\n/** @hidden */\nconst EMPTY_INNER_CONTENT = 'e-empty-inner-content';\n/** @hidden */\nconst CLONE = 'e-fe-clone';\n/** @hidden */\nconst DROP_FOLDER = 'e-fe-drop-folder';\n/** @hidden */\nconst DROP_FILE = 'e-fe-drop-file';\n/** @hidden */\nconst FOLDER = 'e-fe-folder';\n/** @hidden */\nconst ICON_IMAGE = 'e-fe-image';\n/** @hidden */\nconst ICON_MUSIC = 'e-fe-music';\n/** @hidden */\nconst ICON_VIDEO = 'e-fe-video';\n/** @hidden */\nconst LARGE_ICON = 'e-large-icon';\n/** @hidden */\nconst LARGE_EMPTY_FOLDER = 'e-empty-icon e-fe-folder';\n/** @hidden */\nconst LARGE_EMPTY_FOLDER_TWO = 'e-empty-icon.e-fe-folder';\n/** @hidden */\nconst LARGE_ICON_FOLDER = 'e-fe-folder';\n/** @hidden */\nconst SELECTED_ITEMS = 'e-items';\n/** @hidden */\nconst TEXT_CONTENT = 'e-text-content';\n/** @hidden */\nconst GRID_HEADER = 'e-gridheader';\n/** @hidden */\nconst TEMPLATE_CELL = 'e-templatecell';\n/** @hidden */\nconst TREE_VIEW = 'e-treeview';\n/** @hidden */\nconst MENU_ITEM = 'e-menu-item';\n/** @hidden */\nconst MENU_ICON = 'e-menu-icon';\n/** @hidden */\nconst SUBMENU_ICON = 'e-caret';\n/** @hidden */\nconst GRID_VIEW = 'e-content';\n/** @hidden */\nconst GRID_CONTENT = 'e-gridcontent';\n/** @hidden */\nconst ICON_VIEW = 'e-list-parent';\n/** @hidden */\nconst ICON_OPEN = 'e-icons e-fe-open';\n/** @hidden */\nconst ICON_UPLOAD = 'e-icons e-fe-upload';\n/** @hidden */\nconst ICON_CUT = 'e-icons e-fe-cut';\n/** @hidden */\nconst ICON_COPY = 'e-icons e-fe-copy';\n/** @hidden */\nconst ICON_PASTE = 'e-icons e-fe-paste';\n/** @hidden */\nconst ICON_DELETE = 'e-icons e-fe-delete';\n/** @hidden */\nconst ICON_RENAME = 'e-icons e-fe-rename';\n/** @hidden */\nconst ICON_NEWFOLDER = 'e-icons e-fe-newfolder';\n/** @hidden */\nconst ICON_DETAILS = 'e-icons e-fe-details';\n/** @hidden */\nconst ICON_SHORTBY = 'e-icons e-fe-sort';\n/** @hidden */\nconst ICON_REFRESH = 'e-icons e-fe-refresh';\n/** @hidden */\nconst ICON_SELECTALL = 'e-icons e-fe-select';\n/** @hidden */\nconst ICON_DOWNLOAD = 'e-icons e-fe-download';\n/** @hidden */\nconst ICON_OPTIONS = 'e-icons e-fe-options';\n/** @hidden */\nconst ICON_GRID = 'e-icons e-fe-grid';\n/** @hidden */\nconst ICON_LARGE = 'e-icons e-fe-large';\n/** @hidden */\nconst ICON_BREADCRUMB = 'e-icons e-fe-breadcrumb';\n/** @hidden */\nconst ICON_CLEAR = 'e-icons e-fe-clear';\n/** @hidden */\nconst ICON_DROP_IN = 'e-icons e-fe-drop-in';\n/** @hidden */\nconst ICON_DROP_OUT = 'e-icons e-fe-drop-out';\n/** @hidden */\nconst ICON_NO_DROP = 'e-icons e-fe-no-drop';\n/** @hidden */\nconst ICONS = 'e-icons';\n/** @hidden */\nconst DETAILS_LABEL = 'e-detailslabel';\n/** @hidden */\nconst ERROR_CONTENT = 'e-fe-errorcontent';\n/** @hidden */\nconst STATUS = 'e-status';\n/** @hidden */\nconst BREADCRUMBS = 'e-address';\n/** @hidden */\nconst RTL = 'e-rtl';\n/** @hidden */\nconst DISPLAY_NONE = 'e-display-none';\n/** @hidden */\nconst COLLAPSED = 'e-node-collapsed';\n/** @hidden */\nconst FULLROW = 'e-fullrow';\n/** @hidden */\nconst ICON_COLLAPSIBLE = 'e-icon-collapsible';\n/** @hidden */\nconst SPLIT_BAR = 'e-split-bar';\n/** @hidden */\nconst HEADER_CHECK = 'e-headercheck';\n/** @hidden */\nconst OVERLAY = 'e-fe-overlay';\n/** @hidden */\nconst VALUE = 'e-fe-value';\n\n/**\n * Specifies the File Manager internal variables\n */\n/** @hidden */\nconst isFile = 'isFile';\n/**\n * Specifies the File Manager internal events\n */\n/** @hidden */\nconst modelChanged = 'model-changed';\n/** @hidden */\nconst initialEnd = 'initial-end';\n/** @hidden */\nconst finalizeEnd = 'finalize-end';\n/** @hidden */\nconst createEnd = 'create-end';\n/** @hidden */\nconst filterEnd = 'filter-end';\n/** @hidden */\nconst beforeDelete = 'before-delete';\n/** @hidden */\nconst pathDrag = 'path-drag';\n/** @hidden */\nconst deleteInit = 'delete-init';\n/** @hidden */\nconst deleteEnd = 'delete-end';\n/** @hidden */\nconst refreshEnd = 'refresh-end';\n/** @hidden */\nconst resizeEnd = 'resize-end';\n/** @hidden */\nconst splitterResize = 'splitter-resize';\n/** @hidden */\nconst pathChanged = 'path-changed';\n/** @hidden */\nconst destroy = 'destroy';\n/** @hidden */\nconst beforeRequest = 'before-request';\n/** @hidden */\nconst upload = 'upload';\n/** @hidden */\nconst skipUpload = 'skip-upload';\n/** @hidden */\nconst afterRequest = 'after-request';\n/** @hidden */\nconst download = 'download';\n/** @hidden */\nconst layoutRefresh = 'layout-refresh';\n/** @hidden */\nconst actionFailure = 'actionFailure';\n/** @hidden */\nconst search = 'search';\n/** @hidden */\nconst openInit = 'open-init';\n/** @hidden */\nconst openEnd = 'open-end';\n/** @hidden */\nconst selectionChanged = 'selection-changed';\n/** @hidden */\nconst selectAllInit = 'select-all-init';\n/** @hidden */\nconst clearAllInit = 'clear-all-init';\n/** @hidden */\nconst clearPathInit = 'clear-path-init';\n/** @hidden */\nconst layoutChange = 'layout-change';\n/** @hidden */\nconst sortByChange = 'sort-by-change';\n/** @hidden */\nconst nodeExpand = 'node-expand';\n/** @hidden */\nconst detailsInit = 'details-init';\n/** @hidden */\nconst menuItemData = 'menu-item-data';\n/** @hidden */\nconst renameInit = 'rename-init';\n/** @hidden */\nconst renameEndParent = 'rename-end-parent';\n/** @hidden */\nconst renameEnd = 'rename-end';\n/** @hidden */\nconst showPaste = 'show-paste';\n/** @hidden */\nconst hidePaste = 'hide-paste';\n/** @hidden */\nconst selectedData = 'selected-data';\n/** @hidden */\nconst cutCopyInit = 'cut-copy-init';\n/** @hidden */\nconst pasteInit = 'paste-init';\n/** @hidden */\nconst pasteEnd = 'paste-end';\n/** @hidden */\nconst cutEnd = 'cut-end';\n/** @hidden */\nconst hideLayout = 'hide-layout';\n/** @hidden */\nconst updateTreeSelection = 'update-tree-selection';\n/** @hidden */\nconst treeSelect = 'select-node';\n/** @hidden */\nconst sortColumn = 'sort-column';\n/** @hidden */\nconst pathColumn = 'path-column';\n/** @hidden */\nconst searchTextChange = 'search-change';\n/** @hidden */\nconst beforeDownload = 'before-download';\n/** @hidden */\nconst downloadInit = 'download-init';\n/** @hidden */\nconst dropInit = 'drop-init';\n/** @hidden */\nconst dragEnd = 'drag-end';\n/** @hidden */\nconst dropPath = 'drop-path';\n/** @hidden */\nconst dragHelper = 'drag-helper';\n/** @hidden */\nconst dragging = 'dragging';\n/** @hidden */\nconst updateSelectionData = 'update-selection-data';\n/** @hidden */\nconst methodCall = 'method-call';\n/** @hidden */\nconst permissionRead = 'read';\n/** @hidden */\nconst permissionEdit = 'write';\n/** @hidden */\nconst permissionEditContents = 'writeContents';\n/** @hidden */\nconst permissionCopy = 'copy';\n/** @hidden */\nconst permissionUpload = 'upload';\n/** @hidden */\nconst permissionDownload = 'download';\n\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction updatePath(node, data, instance) {\n    const text = getValue('name', data);\n    const id = node.getAttribute('data-id');\n    const newText = isNullOrUndefined(id) ? text : id;\n    instance.setProperties({ path: getPath(node, newText, instance.hasId) }, true);\n    instance.pathId = getPathId(node);\n    instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nfunction getPath(element, text, hasId) {\n    const matched = getParents(element, text, false, hasId);\n    let path = hasId ? '' : '/';\n    const len = matched.length - (hasId ? 1 : 2);\n    for (let i = len; i >= 0; i--) {\n        path += matched[i] + '/';\n    }\n    return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nfunction getPathId(node) {\n    const matched = getParents(node, node.getAttribute('data-uid'), true);\n    const ids = [];\n    for (let i = matched.length - 1; i >= 0; i--) {\n        ids.push(matched[i]);\n    }\n    return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nfunction getPathNames(element, text) {\n    const matched = getParents(element, text, false);\n    const names = [];\n    for (let i = matched.length - 1; i >= 0; i--) {\n        names.push(matched[i]);\n    }\n    return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nfunction getParents(element, text, isId, hasId) {\n    const matched = [text];\n    let el = element.parentNode;\n    while (!isNullOrUndefined(el)) {\n        if (matches(el, '.' + LIST_ITEM)) {\n            const parentText = isId ? el.getAttribute('data-uid') : (hasId ? el.getAttribute('data-id') :\n                select('.' + LIST_TEXT, el).textContent);\n            matched.push(parentText);\n        }\n        el = el.parentNode;\n        if (el.classList.contains(TREE_VIEW)) {\n            break;\n        }\n    }\n    return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction generatePath(parent) {\n    const key = parent.hasId ? 'id' : 'name';\n    let newPath = parent.hasId ? '' : '/';\n    let i = parent.hasId ? 0 : 1;\n    for (i; i < parent.pathId.length; i++) {\n        // eslint-disable-next-line\n        const data = getValue(parent.pathId[i], parent.feParent);\n        newPath += getValue(key, data) + '/';\n    }\n    parent.setProperties({ path: newPath }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction removeActive(parent) {\n    if (parent.isCut) {\n        removeBlur(parent);\n        parent.selectedNodes = [];\n        parent.actionRecords = [];\n        parent.enablePaste = false;\n        parent.notify(hidePaste, {});\n    }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nfunction activeElement(action, parent) {\n    parent.isSearchCut = false;\n    parent.actionRecords = [];\n    parent.activeElements = [];\n    parent.notify(cutCopyInit, {});\n    if (parent.activeElements.length === 0) {\n        return false;\n    }\n    removeBlur(parent);\n    const blurEle = parent.activeElements;\n    if (parent.activeModule !== 'navigationpane') {\n        parent.targetPath = parent.path;\n    }\n    else {\n        parent.targetPath = getParentPath(parent.path);\n    }\n    let i = 0;\n    if (blurEle) {\n        getModule(parent, blurEle[0]);\n        if (action === 'cut') {\n            while (i < blurEle.length) {\n                addBlur(blurEle[i]);\n                i++;\n            }\n        }\n    }\n    i = 0;\n    parent.selectedNodes = [];\n    parent.enablePaste = true;\n    parent.notify(showPaste, {});\n    while (i < parent.activeRecords.length) {\n        parent.actionRecords.push(parent.activeRecords[i]);\n        parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n        i++;\n    }\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) &&\n        parent.activeModule !== 'navigationpane') {\n        parent.selectedNodes = [];\n        parent.isSearchCut = true;\n        let i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.selectedNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n    }\n    return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nfunction addBlur(nodes) {\n    nodes.classList.add(BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nfunction removeBlur(parent, hover) {\n    const blurEle = (!hover) ? parent.element.querySelectorAll('.' + BLUR) :\n        parent.element.querySelectorAll('.' + HOVER);\n    let i = 0;\n    while (i < blurEle.length) {\n        blurEle[i].classList.remove((!hover) ? BLUR : HOVER);\n        i++;\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nfunction getModule(parent, element) {\n    if (element) {\n        if (element.classList.contains(ROW)) {\n            parent.activeModule = 'detailsview';\n        }\n        else if (closest(element, '.' + LARGE_ICON)) {\n            parent.activeModule = 'largeiconsview';\n        }\n        else {\n            parent.activeModule = 'navigationpane';\n        }\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nfunction searchWordHandler(parent, value, isLayoutChange) {\n    let searchWord;\n    if (value.length === 0 && !parent.isFiltered) {\n        parent.notify(pathColumn, { args: parent });\n    }\n    if (parent.searchSettings.filterType === 'startsWith') {\n        searchWord = value + '*';\n    }\n    else if (parent.searchSettings.filterType === 'endsWith') {\n        searchWord = '*' + value;\n    }\n    else {\n        searchWord = '*' + value + '*';\n    }\n    parent.searchWord = searchWord;\n    parent.itemData = [getPathObject(parent)];\n    if (value.length > 0) {\n        const caseSensitive = parent.searchSettings.ignoreCase;\n        const hiddenItems = parent.showHiddenItems;\n        Search(parent, isLayoutChange ? layoutChange : search, parent.path, searchWord, hiddenItems, !caseSensitive);\n    }\n    else {\n        if (!parent.isFiltered) {\n            if (parent.isSortByClicked) {\n                parent.notify(layoutChange, { files: parent.largeiconsviewModule.items });\n                parent.isSortByClicked = false;\n            }\n            else {\n                read(parent, isLayoutChange ? layoutChange : search, parent.path);\n            }\n        }\n        else {\n            filter(parent, layoutChange);\n        }\n    }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nfunction updateLayout(parent, view) {\n    parent.setProperties({ view: view }, true);\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n        parent.layoutSelectedItems = parent.selectedItems;\n    }\n    let searchWord = '';\n    if (parent.breadcrumbbarModule.searchObj.element.value) {\n        searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n    }\n    parent.isLayoutChange = true;\n    searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nfunction getTargetModule(parent, element) {\n    let tartgetModule = '';\n    if (element) {\n        if (closest(element, '.' + ROOT + '.' + CONTROL + ' .' + GRID_CONTENT)) {\n            tartgetModule = 'detailsview';\n        }\n        else if (closest(element, '.' + LARGE_ICONS)) {\n            tartgetModule = 'largeiconsview';\n        }\n        else if (element.classList.contains('e-fullrow') ||\n            element.classList.contains('e-icon-expandable')) {\n            tartgetModule = 'navigationpane';\n        }\n        else if (closest(element, '.e-address-list-item')) {\n            tartgetModule = 'breadcrumbbar';\n        }\n        else {\n            tartgetModule = '';\n        }\n    }\n    parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction refresh(parent) {\n    parent.itemData = [getPathObject(parent)];\n    if (!hasReadAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], permissionRead);\n    }\n    else {\n        read(parent, refreshEnd, parent.path);\n    }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openAction(parent) {\n    read(parent, openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nfunction getPathObject(parent) {\n    return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction copyFiles(parent) {\n    if (!activeElement('copy', parent)) {\n        return;\n    }\n    else {\n        parent.fileAction = 'copy';\n    }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction cutFiles(parent) {\n    if (!activeElement('cut', parent)) {\n        return;\n    }\n    else {\n        parent.isCut = true;\n        parent.fileAction = 'move';\n    }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nfunction fileType(file) {\n    const isFile$$1 = getValue('isFile', file);\n    if (!isFile$$1) {\n        return FOLDER;\n    }\n    const imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n    const audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n    const videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n    const knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc',\n        'xlsx', 'xls', 'xml', 'rtf', 'php'];\n    let filetype = getValue('type', file);\n    filetype = filetype.toLowerCase();\n    if (filetype.indexOf('.') !== -1) {\n        filetype = filetype.split('.').join('');\n    }\n    let iconType;\n    if (imageFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_IMAGE;\n    }\n    else if (audioFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_MUSIC;\n    }\n    else if (videoFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_VIDEO;\n    }\n    else if (knownFormat.indexOf(filetype) !== -1) {\n        iconType = 'e-fe-' + filetype;\n    }\n    else {\n        iconType = 'e-fe-unknown e-fe-' + filetype;\n    }\n    return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nfunction getImageUrl(parent, item) {\n    const baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n    let imgUrl;\n    const fileName = encodeURIComponent(getValue('name', item));\n    const fPath = getValue('filterPath', item);\n    if (parent.hasId) {\n        const imgId = getValue('id', item);\n        imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n    }\n    else if (!isNullOrUndefined(fPath)) {\n        imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n    }\n    else {\n        imgUrl = baseUrl + '?path=' + parent.path + fileName;\n    }\n    imgUrl = imgUrl + '&time=' + (new Date().getTime()).toString();\n    const eventArgs = {\n        fileDetails: [item],\n        imageUrl: imgUrl\n    };\n    parent.trigger('beforeImageLoad', eventArgs);\n    return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nfunction getFullPath(parent, data, path) {\n    const filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n    const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n    if (!isNullOrUndefined(fPath)) {\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return path + filePath;\n    }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nfunction getName(parent, data) {\n    let name = getValue('name', data);\n    let fPath = getValue('filterPath', data);\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNullOrUndefined(fPath)) {\n        fPath = fPath.replace(/\\\\/g, '/');\n        name = fPath.replace(parent.path, '') + name;\n    }\n    return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getSortedData(parent, items) {\n    if (items.length === 0) {\n        return items;\n    }\n    let query;\n    if (parent.sortOrder !== 'None') {\n        query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n    }\n    else {\n        query = new Query().group('isFile');\n    }\n    // eslint-disable-next-line\n    const lists = new DataManager(items).executeLocal(query);\n    return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getObject(parent, key, value) {\n    // eslint-disable-next-line\n    const currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n    const query = new Query().where(key, 'equal', value);\n    // eslint-disable-next-line\n    const lists = new DataManager(currFiles).executeLocal(query);\n    return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nfunction createEmptyElement(parent, element, args) {\n    let top;\n    const layoutElement = select('#' + parent.element.id + LAYOUT_ID, parent.element);\n    const addressBarHeight = select('#' + parent.element.id + BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n    top = layoutElement.offsetHeight - addressBarHeight;\n    if (parent.view === 'Details') {\n        top = top - select('.' + GRID_HEADER, layoutElement).offsetHeight;\n    }\n    if (isNullOrUndefined(element.querySelector('.' + EMPTY))) {\n        const emptyDiv = createElement('div', { className: EMPTY });\n        const emptyFolder = createElement('div', { className: LARGE_EMPTY_FOLDER });\n        const emptyEle = createElement('div', { className: EMPTY_CONTENT });\n        const dragFile = createElement('div', { className: EMPTY_INNER_CONTENT });\n        if (parent.view === 'Details') {\n            element.querySelector('.' + GRID_VIEW).appendChild(emptyDiv);\n        }\n        else {\n            element.appendChild(emptyDiv);\n        }\n        emptyDiv.appendChild(emptyFolder);\n        emptyDiv.appendChild(emptyEle);\n        emptyDiv.appendChild(dragFile);\n    }\n    if (element.querySelector('.' + EMPTY)) {\n        if (!isNullOrUndefined(args.error)) {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n        }\n        else if (parent.isFiltered) {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n        }\n        else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n        }\n        else {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n        }\n    }\n    const eDiv = select('.' + EMPTY, element);\n    top = (top - eDiv.offsetHeight) / 2;\n    eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getDirectories(files) {\n    return new DataManager(files).executeLocal(new Query().where(isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nfunction setNodeId(result, rootId) {\n    // eslint-disable-next-line\n    const dirs = getDirectories(result.files);\n    for (let i = 0, len = dirs.length; i < len; i++) {\n        setValue('_fm_id', rootId + '_' + i, dirs[i]);\n    }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction setDateObject(args) {\n    for (let i = 0; i < args.length; i++) {\n        setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n        setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n    }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nfunction getLocaleText(parent, text) {\n    const locale = parent.localeObj.getConstant(text);\n    return (locale === '') ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nfunction getCssClass(parent, css) {\n    let cssClass = parent.cssClass;\n    cssClass = (isNullOrUndefined(cssClass) || cssClass === '') ? css : (cssClass + ' ' + css);\n    return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nfunction sortbyClickHandler(parent, args) {\n    let tick;\n    parent.isSortByClicked = true;\n    if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n        tick = true;\n    }\n    else {\n        tick = false;\n    }\n    if (!tick) {\n        parent.sortBy = getSortField(args.item.id, parent);\n    }\n    else {\n        parent.sortOrder = getSortField(args.item.id);\n    }\n    parent.itemData = [getPathObject(parent)];\n    if (parent.view === 'Details') {\n        if (parent.isMobile) {\n            updateLayout(parent, 'Details');\n        }\n        else {\n            parent.notify(sortColumn, { module: 'detailsview' });\n        }\n    }\n    if (parent.view === 'LargeIcons') {\n        updateLayout(parent, 'LargeIcons');\n    }\n    parent.notify(sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nfunction getSortField(id, parent) {\n    const text = id.substring(id.lastIndexOf('_') + 1);\n    let field = text;\n    let column;\n    if (parent) {\n        column = parent.detailsViewSettings.columns;\n    }\n    switch (text) {\n        case 'date':\n            for (var i = 0; i < column.length; i++) {\n                if (column[i].field === 'dateModified' || column[i].field === 'dateCreated') {\n                    field = column[i].field;\n                    break;\n                }\n                else {\n                    field = '_fm_modified';\n                }\n            }\n            break;\n        case 'ascending':\n            field = 'Ascending';\n            break;\n        case 'descending':\n            field = 'Descending';\n            break;\n        case 'none':\n            field = 'None';\n            break;\n    }\n    return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction setNextPath(parent, path) {\n    const currfolders = path.split('/');\n    const folders = parent.originalPath.split('/');\n    // eslint-disable-next-line\n    const root = getValue(parent.pathId[0], parent.feParent);\n    const key = isNullOrUndefined(getValue('id', root)) ? 'name' : 'id';\n    for (let i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n        const eventName = (folders[i + 1] === '') ? finalizeEnd : initialEnd;\n        const newPath = (folders[i] === '') ? '/' : (parent.path + folders[i] + '/');\n        // eslint-disable-next-line\n        const data = getObject(parent, key, folders[i]);\n        const id = getValue('_fm_id', data);\n        parent.setProperties({ path: newPath }, true);\n        parent.pathId.push(id);\n        parent.itemData = [data];\n        parent.pathNames.push(getValue('name', data));\n        read(parent, eventName, parent.path);\n        break;\n    }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction openSearchFolder(parent, data) {\n    parent.notify(clearPathInit, { selectedNode: parent.pathId[parent.pathId.length - 1] });\n    parent.originalPath = getFullPath(parent, data, parent.path);\n    read(parent, (parent.path !== parent.originalPath) ? initialEnd : finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction pasteHandler(parent) {\n    parent.isDragDrop = false;\n    if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n        const path = (parent.folderPath === '') ? parent.path : parent.folderPath;\n        // eslint-disable-next-line\n        const subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n        if (!subFolder) {\n            if ((parent.fileAction === 'move' && parent.targetPath !== path) || parent.fileAction === 'copy') {\n                parent.notify(pasteInit, {});\n                paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n            }\n            else {\n                parent.enablePaste = false;\n                parent.notify(hidePaste, {});\n                removeBlur(parent);\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n            }\n        }\n    }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nfunction validateSubFolder(parent, data, dropPath$$1, dragPath) {\n    let subFolder = false;\n    for (let i = 0; i < data.length; i++) {\n        if (!getValue('isFile', data[i])) {\n            const tempTarget = getFullPath(parent, data[i], dragPath);\n            if (dropPath$$1.indexOf(tempTarget) === 0) {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Sub-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n        else {\n            const srcData = parent.dragNodes[i];\n            let len = 0;\n            if (srcData) {\n                len = srcData.lastIndexOf('/');\n            }\n            let path = '';\n            if (len > 0) {\n                path = dragPath + srcData.substring(0, len + 1);\n            }\n            if (path === dropPath$$1) {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n    }\n    return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction dropHandler(parent) {\n    parent.isDragDrop = true;\n    if (parent.dragData.length !== 0) {\n        parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n        parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n        const subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n        if (!subFolder && (parent.dragPath !== parent.dropPath)) {\n            parent.itemData = [parent.dropData];\n            paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n            parent.notify(pasteInit, {});\n        }\n    }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nfunction getParentPath(oldPath) {\n    const path = oldPath.split('/');\n    let newPath = path[0] + '/';\n    for (let i = 1; i < path.length - 2; i++) {\n        newPath += path[i] + '/';\n    }\n    return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nfunction getDirectoryPath(parent, args) {\n    const filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n    const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n    if (!isNullOrUndefined(fPath)) {\n        if (fPath === '') {\n            return parent.hasId ? filePath : '/';\n        }\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return parent.path + filePath;\n    }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nfunction doPasteUpdate(parent, operation, result) {\n    if (operation === 'move') {\n        if (!parent.isDragDrop) {\n            parent.enablePaste = false;\n            parent.notify(hidePaste, {});\n            parent.notify(cutEnd, result);\n        }\n        else {\n            parent.notify(dragEnd, result);\n        }\n    }\n    if (parent.duplicateItems.length === 0) {\n        parent.pasteNodes = [];\n    }\n    const flag = false;\n    for (let count = 0; (count < result.files.length) && !flag; count++) {\n        parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n        if (parent.isDragDrop) {\n            parent.droppedObjects.push(result.files[count]);\n        }\n    }\n    parent.duplicateItems = [];\n    parent.duplicateRecords = [];\n    if (parent.isDragDrop && !parent.isPasteError) {\n        parent.isDropEnd = true;\n    }\n    else {\n        parent.isDropEnd = false;\n    }\n    if (!parent.isDragDrop || (parent.path === parent.dragPath) || (parent.path === parent.dropPath)\n        || parent.isSearchDrag) {\n        parent.isPathDrag = false;\n        read(parent, pasteEnd, parent.path);\n    }\n    else {\n        readDropPath(parent);\n    }\n    parent.trigger('success', { action: operation, result: result });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction readDropPath(parent) {\n    const pathId = getValue('_fm_id', parent.dropData);\n    parent.expandedId = pathId;\n    parent.itemData = [parent.dropData];\n    if (parent.isPathDrag) {\n        parent.notify(pathDrag, parent.itemData);\n    }\n    else {\n        if (parent.navigationpaneModule) {\n            const node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            updatePath(node, parent.dropData, parent);\n        }\n        read(parent, dropPath, parent.dropPath);\n    }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nfunction getDuplicateData(parent, name) {\n    // eslint-disable-next-line\n    let data = null;\n    // eslint-disable-next-line\n    const records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n    for (let i = 0; i < records.length; i++) {\n        if (getValue('name', records[i]) === name) {\n            data = records[i];\n            break;\n        }\n    }\n    return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction createVirtualDragElement(parent) {\n    parent.isSearchDrag = false;\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n        parent.isSearchDrag = true;\n    }\n    if (parent.activeModule !== 'navigationpane') {\n        parent.dragNodes = [];\n        let i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.dragNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n        if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n            parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n        }\n    }\n    const cloneIcon = parent.createElement('div', {\n        className: 'e-fe-icon ' + fileType(parent.dragData[0])\n    });\n    const cloneName = parent.createElement('div', {\n        className: 'e-fe-name',\n        innerHTML: parent.dragData[0].name\n    });\n    const virtualEle = parent.createElement('div', {\n        className: 'e-fe-content'\n    });\n    virtualEle.appendChild(cloneIcon);\n    virtualEle.appendChild(cloneName);\n    const ele = parent.createElement('div', {\n        className: CLONE\n    });\n    ele.appendChild(virtualEle);\n    if (parent.dragNodes.length > 1) {\n        const badge = parent.createElement('span', {\n            className: 'e-fe-count',\n            innerHTML: (parent.dragNodes.length).toString(10)\n        });\n        ele.appendChild(badge);\n    }\n    parent.virtualDragElement = ele;\n    parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nfunction dragStopHandler(parent, args) {\n    const dragArgs = args;\n    dragArgs.cancel = false;\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeDropTarget(parent);\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    removeBlur(parent);\n    parent.uploadObj.dropArea = select('#' + parent.element.id + CONTENT_ID, parent.element);\n    const virtualEle = select('.' + CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n    getTargetModule(parent, args.target);\n    parent.notify(dropInit, args);\n    removeBlur(parent, 'hover');\n    dragArgs.fileDetails = parent.dragData;\n    parent.trigger('fileDragStop', dragArgs, (dragArgs) => {\n        if (!dragArgs.cancel && !isNullOrUndefined(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n            dropHandler(parent);\n        }\n        parent.dragCount = 0;\n    });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nfunction dragStartHandler(parent, args, dragObj) {\n    const dragArgs = args;\n    dragArgs.cancel = false;\n    dragArgs.fileDetails = parent.dragData;\n    parent.dragCount = 0;\n    parent.droppedObjects = [];\n    if (!parent.allowDragAndDrop || ((parent.activeModule === 'navigationpane') &&\n        (closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]))) {\n        dragArgs.cancel = true;\n    }\n    if ((parent.activeModule === 'navigationpane') &&\n        (parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1)) {\n        parent.isPathDrag = true;\n    }\n    else {\n        parent.isPathDrag = false;\n    }\n    removeBlur(parent);\n    if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n    }\n    else if (!dragArgs.cancel) {\n        let i = 0;\n        while (i < parent.activeElements.length) {\n            addBlur(parent.activeElements[i]);\n            i++;\n        }\n        parent.trigger('fileDragStart', dragArgs, (dragArgs) => {\n            if (dragArgs.cancel) {\n                dragObj.intDestroy(args.event);\n                dragCancel(parent);\n            }\n            else {\n                parent.uploadObj.dropArea = null;\n            }\n        });\n    }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction dragCancel(parent) {\n    removeBlur(parent);\n    const virtualEle = select('.' + CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction removeDropTarget(parent) {\n    removeItemClass(parent, DROP_FOLDER);\n    removeItemClass(parent, DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nfunction removeItemClass(parent, value) {\n    const ele = parent.element.querySelectorAll('.' + value);\n    for (let i = 0; i < ele.length; i++) {\n        ele[i].classList.remove(value);\n    }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nfunction draggingHandler(parent, args) {\n    const dragArgs = args;\n    dragArgs.fileDetails = parent.dragData;\n    let canDrop = false;\n    getTargetModule(parent, args.target);\n    removeDropTarget(parent);\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeBlur(parent, 'hover');\n    let node = null;\n    if (parent.targetModule === 'navigationpane') {\n        node = closest(args.target, 'li');\n        node.classList.add(HOVER, DROP_FOLDER);\n        canDrop = true;\n        /* istanbul ignore next */\n        parent.treeExpandTimer = window.setTimeout(() => { parent.notify(dragging, args); }, 800);\n    }\n    else if (parent.targetModule === 'detailsview') {\n        node = closest(args.target, 'tr');\n        if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(DROP_FOLDER);\n        }\n        else if (node && !node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(DROP_FILE);\n        }\n        canDrop = true;\n    }\n    else if (parent.targetModule === 'largeiconsview') {\n        node = closest(args.target, 'li');\n        if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(HOVER, DROP_FOLDER);\n        }\n        canDrop = true;\n        /* istanbul ignore next */\n    }\n    else if (parent.targetModule === 'breadcrumbbar') {\n        canDrop = true;\n    }\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n    parent.dragCount = parent.dragCount + 1;\n    parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nfunction objectToString(data) {\n    let str = '';\n    const keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n        if (keys[i] !== 'message') {\n            str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n        }\n    }\n    return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nfunction getItemName(parent, data) {\n    if (parent.hasId) {\n        return getValue('id', data);\n    }\n    return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction updateRenamingData(parent, data) {\n    parent.itemData = [data];\n    parent.currentItemText = getValue('name', data);\n    parent.isFile = getValue('isFile', data);\n    parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction doRename(parent) {\n    if (!hasEditAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], permissionEdit);\n    }\n    else {\n        createDialog(parent, 'Rename');\n    }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction doDownload(parent) {\n    // eslint-disable-next-line\n    const items = parent.itemData;\n    for (let i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n            createDeniedDialog(parent, items[i], permissionDownload);\n            return;\n        }\n    }\n    if (parent.selectedItems.length > 0) {\n        Download(parent, parent.path, parent.selectedItems);\n    }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction doDeleteFiles(parent, data, newIds) {\n    for (let i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n            createDeniedDialog(parent, data[i], permissionEdit);\n            return;\n        }\n    }\n    parent.itemData = data;\n    Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction doDownloadFiles(parent, data, newIds) {\n    for (let i = 0; i < data.length; i++) {\n        if (!hasDownloadAccess(data[i])) {\n            createDeniedDialog(parent, data[i], permissionDownload);\n            return;\n        }\n    }\n    parent.itemData = data;\n    if (newIds.length > 0) {\n        Download(parent, parent.path, newIds);\n    }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction createDeniedDialog(parent, data, action) {\n    let message = getValue('message', getValue('permission', data));\n    if (message === '') {\n        message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n    }\n    const response = {\n        error: {\n            code: '401',\n            fileExists: null,\n            message: message\n        }\n    };\n    createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nfunction getAccessClass(data) {\n    return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasReadAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return (permission && !getValue('read', permission)) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasEditAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('write', permission))) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasContentAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('writeContents', permission))) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasUploadAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('upload', permission))) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasDownloadAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('download', permission))) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction createNewFolder(parent) {\n    // eslint-disable-next-line\n    const details = parent.itemData[0];\n    if (!hasContentAccess(details)) {\n        createDeniedDialog(parent, details, permissionEditContents);\n    }\n    else {\n        createDialog(parent, 'NewFolder');\n    }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction uploadItem(parent) {\n    // eslint-disable-next-line\n    const details = parent.itemData[0];\n    if (!hasUploadAccess(details)) {\n        createDeniedDialog(parent, details, permissionUpload);\n    }\n    else {\n        const eleId = '#' + parent.element.id + UPLOAD_ID;\n        const uploadEle = document.querySelector(eleId);\n        uploadEle.click();\n    }\n}\n\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction read(parent, event, path) {\n    // eslint-disable-next-line\n    const itemData = parent.itemData;\n    for (let i = 0; i < itemData.length; i++) {\n        if (isNullOrUndefined(getValue('hasChild', itemData[i]))) {\n            setValue('hasChild', false, itemData[i]);\n        }\n    }\n    // eslint-disable-next-line\n    const data = { action: 'read', path: path, showHiddenItems: parent.showHiddenItems, data: itemData };\n    createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createFolder(parent, itemName) {\n    // eslint-disable-next-line\n    const data = { action: 'create', path: parent.path, name: itemName, data: parent.itemData };\n    createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction filter(parent, event) {\n    // eslint-disable-next-line\n    const data = { action: 'filter', path: parent.path, showHiddenItems: parent.showHiddenItems, data: [getPathObject(parent)] };\n    // eslint-disable-next-line\n    let filterData;\n    // eslint-disable-next-line\n    const filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n    createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\nfunction rename(parent, path, itemNewName) {\n    let name;\n    let newName;\n    if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n        name = parent.currentItemText;\n        newName = itemNewName;\n    }\n    else {\n        let fPath = parent.filterPath;\n        if (parent.hasId) {\n            name = parent.currentItemText;\n            newName = itemNewName;\n        }\n        else {\n            fPath = fPath.replace(/\\\\/g, '/');\n            name = fPath.replace(path, '') + parent.currentItemText;\n            newName = fPath.replace(path, '') + itemNewName;\n        }\n    }\n    // eslint-disable-next-line\n    const data = {\n        action: 'rename', path: path, name: name, newName: newName, data: parent.itemData\n    };\n    createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\nfunction paste(parent, path, names, targetPath, pasteOperation, \n// eslint-disable-next-line\nrenameItems, actionRecords) {\n    // eslint-disable-next-line\n    const data = {\n        action: pasteOperation, path: path, targetData: parent.itemData[0],\n        targetPath: targetPath, names: names, renameFiles: renameItems, data: actionRecords\n    };\n    parent.destinationPath = targetPath;\n    createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction Delete(parent, items, path, operation) {\n    // eslint-disable-next-line\n    const data = { action: operation, path: path, names: items, data: parent.itemData };\n    createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\nfunction GetDetails(parent, names, path, operation) {\n    // eslint-disable-next-line\n    const data = { action: operation, path: path, names: names, data: parent.itemData };\n    createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\nfunction createAjax(\n// eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n    // eslint-disable-next-line\n    const ajaxSettings = {\n        url: parent.ajaxSettings.url,\n        type: 'POST',\n        mode: true,\n        dataType: 'json',\n        contentType: 'application/json',\n        data: JSON.stringify(data),\n        onSuccess: null,\n        onFailure: null,\n        beforeSend: null\n    };\n    const eventArgs = { action: getValue('action', data), ajaxSettings: ajaxSettings, cancel: false };\n    parent.trigger('beforeSend', eventArgs, (beforeSendArgs) => {\n        if (!beforeSendArgs.cancel) {\n            parent.notify(beforeRequest, {});\n            const ajax = new Ajax({\n                url: getValue('url', beforeSendArgs.ajaxSettings),\n                type: getValue('type', beforeSendArgs.ajaxSettings),\n                mode: getValue('mode', beforeSendArgs.ajaxSettings),\n                dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n                contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n                data: getValue('data', beforeSendArgs.ajaxSettings),\n                beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n                onSuccess: (result) => {\n                    if (isNullOrUndefined(result)) {\n                        const result = {\n                            error: {\n                                fileExists: null,\n                                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                                code: '406'\n                            },\n                            files: null\n                        };\n                        triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                        return;\n                    }\n                    if (typeof (result) === 'string') {\n                        result = JSON.parse(result);\n                    }\n                    parent.notify(afterRequest, { action: 'success' });\n                    const id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n                    if (!isNullOrUndefined(result.cwd) && (getValue('action', data) === 'read')) {\n                        result.cwd.name = (parent.pathId.length === 1) ? (parent.rootAliasName || result.cwd.name) : result.cwd.name;\n                        setValue('_fm_id', id, result.cwd);\n                        setValue(id, result.cwd, parent.feParent);\n                        if (!isNullOrUndefined(result.files) || result.error.code === '401') {\n                            if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                                // eslint-disable-next-line\n                                const root = getValue(parent.pathId[0], parent.feParent);\n                                parent.pathNames[0] = getValue('name', root);\n                                parent.hasId = !isNullOrUndefined(getValue('id', root));\n                            }\n                            if (event === 'finalize-end') {\n                                generatePath(parent);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(result.files)) {\n                        setDateObject(result.files);\n                        for (let i = 0, len = result.files.length; i < len; i++) {\n                            // eslint-disable-next-line\n                            const item = result.files[i];\n                            setValue('_fm_iconClass', fileType(item), item);\n                        }\n                        if (getValue('action', data) === 'read') {\n                            setNodeId(result, id);\n                            setValue(id, result.files, parent.feFiles);\n                        }\n                    }\n                    if (!isNullOrUndefined(result.details) && !isNullOrUndefined(parent.rootAliasName)) {\n                        const rootName = parent.rootAliasName || getValue('name', result.details);\n                        let location = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n                        if ((getValue('path', data) === '/') || (parent.hasId && getValue('path', data).match(/[/]/g).length === 1)) {\n                            if (getValue('names', data).length === 0) {\n                                setValue('name', rootName, result.details);\n                                location = rootName;\n                            }\n                            else {\n                                location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n                            }\n                        }\n                        else {\n                            location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n                        }\n                        setValue('location', location, result.details);\n                    }\n                    fn(parent, result, event, operation, targetPath);\n                    if (!isNullOrUndefined(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n                        parent.notify(searchTextChange, result);\n                    }\n                    if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n                        getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n                    }\n                },\n                onFailure: () => {\n                    const result = {\n                        files: null,\n                        error: {\n                            code: '404',\n                            message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n                            fileExists: null\n                        }\n                    };\n                    triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                }\n            });\n            ajax.send();\n        }\n    });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\nfunction triggerAjaxFailure(\n// eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n    parent.notify(afterRequest, { action: 'failure' });\n    fn(parent, result, event, operation, targetPath);\n    if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n        getValue('onFailure', beforeSendArgs.ajaxSettings)();\n    }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction readSuccess(parent, result, event) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        parent.notify(selectionChanged, {});\n        const args = { action: 'read', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        if (result.error.code === '401') {\n            result.files = [];\n            parent.notify(event, result);\n            parent.notify(selectionChanged, {});\n        }\n        onFailure(parent, result, 'read');\n    }\n    if (parent.isDragDrop && parent.isDropEnd) {\n        if (parent.droppedObjects.length !== 0) {\n            const args = { fileDetails: parent.droppedObjects };\n            parent.trigger('fileDropped', args);\n        }\n        parent.isDropEnd = parent.isDragDrop = false;\n    }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction filterSuccess(parent, result, event, action) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        const args = { action: action, result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, action);\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createSuccess(parent, result, itemName) {\n    if (!isNullOrUndefined(result.files)) {\n        if (parent.dialogObj && parent.dialogObj.visible) {\n            parent.dialogObj.hide();\n        }\n        parent.createdItem = result.files[0];\n        parent.breadcrumbbarModule.searchObj.value = '';\n        const args = { action: 'create', result: result };\n        parent.trigger('success', args);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, createEnd, parent.path);\n    }\n    else {\n        if (result.error.code === '400') {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                const ele = select('#newname', parent.dialogObj.element);\n                const error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n                ele.parentElement.nextElementSibling.innerHTML = error;\n            }\n            else {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '400',\n                        message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n            }\n            const args = { action: 'create', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'create');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\nfunction renameSuccess(parent, result, path) {\n    if (!isNullOrUndefined(result.files)) {\n        if (!isNullOrUndefined(parent.dialogObj)) {\n            parent.dialogObj.hide();\n        }\n        const args = { action: 'rename', result: result };\n        parent.trigger('success', args);\n        parent.renamedItem = result.files[0];\n        if (parent.activeModule === 'navigationpane') {\n            parent.pathId.pop();\n            parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n            read(parent, renameEndParent, getParentPath(parent.path));\n        }\n        else {\n            parent.itemData = [getPathObject(parent)];\n            if (parent.breadcrumbbarModule.searchObj.value !== '') {\n                Search(parent, renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n            }\n            else {\n                if (parent.isFiltered) {\n                    filter(parent, renameEnd);\n                }\n                else {\n                    read(parent, renameEnd, parent.path);\n                }\n            }\n        }\n    }\n    else {\n        if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n            const ele = select('#rename', parent.dialogObj.element);\n            let error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n            error = error.replace('{1}', '\"' + ele.value + '\"');\n            ele.parentElement.nextElementSibling.innerHTML = error;\n            const args = { action: 'rename', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (!isNullOrUndefined(parent.dialogObj)) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'rename');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction pasteSuccess(parent, result, path, operation) {\n    if (result.error && result.error.fileExists) {\n        parent.fileLength = 0;\n        if (!isNullOrUndefined(result.files)) {\n            parent.isPasteError = true;\n            doPasteUpdate(parent, operation, result);\n        }\n        createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n        if (result.error.code === '404') {\n            createDialog(parent, 'Error', result);\n        }\n    }\n    else if (!result.error && !isNullOrUndefined(result.files)) {\n        parent.isPasteError = false;\n        doPasteUpdate(parent, operation, result);\n    }\n    else if (result.error && !isNullOrUndefined(result.files)) {\n        parent.isPasteError = true;\n        doPasteUpdate(parent, operation, result);\n        createDialog(parent, 'Error', result);\n    }\n    else {\n        onFailure(parent, result, operation);\n    }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction deleteSuccess(parent, result, path) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.setProperties({ path: path }, true);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, deleteEnd, parent.path);\n        if (result.error) {\n            onFailure(parent, result, 'delete');\n        }\n        else {\n            const args = { action: 'delete', result: result };\n            parent.trigger('success', args);\n        }\n    }\n    else {\n        onFailure(parent, result, 'delete');\n    }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction detailsSuccess(\n// eslint:disable-next-line\nparent, result, path, operation) {\n    if (!isNullOrUndefined(result.details)) {\n        createDialog(parent, operation, null, result.details);\n        const args = { action: 'details', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'details');\n    }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction onFailure(parent, result, action) {\n    createDialog(parent, 'Error', result);\n    const args = { action: action, error: result.error };\n    parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\nfunction Search(\n// eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n    // eslint-disable-next-line\n    const data = {\n        action: 'search', path: path, searchString: searchString, showHiddenItems: showHiddenItems, caseSensitive: caseSensitive,\n        data: parent.itemData\n    };\n    createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction searchSuccess(parent, result, event) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        const args = { action: 'search', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'search');\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\nfunction Download(parent, path, items) {\n    const downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url;\n    // eslint-disable-next-line\n    const data = { 'action': 'download', 'path': path, 'names': items, 'data': parent.itemData };\n    const eventArgs = { data: data, cancel: false };\n    parent.trigger('beforeDownload', eventArgs, (downloadArgs) => {\n        if (!downloadArgs.cancel) {\n            const form = createElement('form', {\n                id: parent.element.id + '_downloadForm',\n                attrs: { action: downloadUrl, method: 'post', name: 'downloadForm', 'download': '' }\n            });\n            const input = createElement('input', {\n                id: parent.element.id + '_hiddenForm',\n                attrs: { name: 'downloadInput', value: JSON.stringify(downloadArgs.data), type: 'hidden' }\n            });\n            form.appendChild(input);\n            parent.element.appendChild(form);\n            document.forms.namedItem('downloadForm').submit();\n            parent.element.removeChild(form);\n        }\n    });\n}\n\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\nfunction createDialog(parent, text, e, details, replaceItems) {\n    const options = getOptions(parent, text, e, details, replaceItems);\n    if (isNullOrUndefined(parent.dialogObj)) {\n        parent.dialogObj = new Dialog({\n            beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n            beforeClose: (args) => {\n                triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n            },\n            header: options.header,\n            content: options.content,\n            buttons: options.buttons,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            allowDragging: true,\n            isModal: true,\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            width: '350px',\n            open: options.open,\n            close: options.close,\n            enableRtl: parent.enableRtl,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.dialogObj.isStringTemplate = true;\n        parent.dialogObj.appendTo('#' + parent.element.id + DIALOG_ID);\n    }\n    else {\n        changeOptions(parent, options);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\nfunction createExtDialog(parent, text, replaceItems, newPath) {\n    const extOptions = getExtOptions(parent, text, replaceItems, newPath);\n    parent.isApplySame = false;\n    if (isNullOrUndefined(parent.extDialogObj)) {\n        parent.extDialogObj = new Dialog({\n            beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n            beforeClose: (args) => {\n                triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n            },\n            content: extOptions.content,\n            header: extOptions.header,\n            closeOnEscape: true,\n            allowDragging: true,\n            animationSettings: { effect: 'None' },\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            enableRtl: parent.enableRtl,\n            showCloseIcon: true,\n            isModal: true,\n            width: 350,\n            buttons: extOptions.buttons,\n            open: extOptions.open,\n            close: extOptions.close,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.extDialogObj.isStringTemplate = true;\n        parent.extDialogObj.appendTo('#' + parent.element.id + EXTN_DIALOG_ID);\n    }\n    else {\n        parent.extDialogObj.header = extOptions.header;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.open = extOptions.open;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.content = extOptions.content;\n        parent.extDialogObj.buttons = extOptions.buttons;\n        parent.extDialogObj.enableRtl = parent.enableRtl;\n        parent.extDialogObj.locale = parent.locale;\n        parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n        parent.extDialogObj.beforeClose = (args) => {\n            triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n        };\n        parent.extDialogObj.dataBind();\n        parent.extDialogObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n    const eventArgs = {\n        cancel: args.cancel, popupName: dialogName, popupModule: dlgModule\n    };\n    parent.trigger('beforePopupOpen', eventArgs, (eventargs) => {\n        args.cancel = eventargs.cancel;\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n    const eventArgs = {\n        cancel: args.cancel, popupModule: dlgModule, popupName: dialogName\n    };\n    parent.trigger('beforePopupClose', eventArgs, (eventargs) => {\n        args.cancel = eventargs.cancel;\n        if (!args.cancel && args.isInteracted && ((dialogName === 'Rename') || (dialogName === 'Create Folder'))) {\n            parent.trigger(actionFailure, {});\n        }\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n    const args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n    const args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupClose', args);\n}\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n    const options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    let duplicateContent;\n    let item;\n    let index;\n    options.open = () => { triggerPopupOpen(parent, parent.extDialogObj, options.dialogName); };\n    options.close = () => { triggerPopupClose(parent, parent.extDialogObj, options.dialogName); };\n    switch (text) {\n        case 'Extension':\n            options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n            options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n            options.buttons = [{\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: () => {\n                        parent.extDialogObj.hide();\n                        rename(parent, newPath, parent.renameText);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: () => {\n                        parent.extDialogObj.hide();\n                        parent.dialogObj.hide();\n                    }\n                }];\n            options.dialogName = 'Extension Change';\n            break;\n        case 'DuplicateItems':\n            options.dialogName = 'Duplicate Items';\n            parent.replaceItems = replaceItems;\n            item = parent.replaceItems[parent.fileLength];\n            index = item.lastIndexOf('/');\n            item = index === -1 ? item : item.substring(index);\n            options.header = getLocaleText(parent, 'Header-Duplicate');\n            duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n            options.content = (duplicateContent).replace('{0}', item);\n            options.close = () => {\n                if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n                    const args = { fileDetails: parent.droppedObjects };\n                    parent.trigger('fileDropped', args);\n                    parent.isDropEnd = parent.isDragDrop = false;\n                }\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: () => {\n                        parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n                        parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            let item = parent.replaceItems[parent.fileLength];\n                            const indexval = item.lastIndexOf('/');\n                            item = indexval === -1 ? item : item.substring(indexval);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                            const path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                parent.folderPath);\n                            const action = parent.isDragDrop ? 'move' : parent.fileAction;\n                            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                        }\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: () => {\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            let item = parent.replaceItems[parent.fileLength];\n                            const ind = item.lastIndexOf('/');\n                            item = ind === -1 ? item : item.substring(ind);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            if (parent.duplicateItems.length !== 0) {\n                                const action = parent.isDragDrop ? 'move' : parent.fileAction;\n                                const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                                const path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                    parent.folderPath);\n                                paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                            }\n                        }\n                    }\n                }\n            ];\n            break;\n        case 'UploadRetry':\n            options.dialogName = 'Retry Upload';\n            options.header = getLocaleText(parent, 'Header-Retry');\n            options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' +\n                (getLocaleText(parent, 'Content-Retry')) + '</div>';\n            options.open = onRetryOpen.bind(this, parent);\n            options.close = () => {\n                parent.isRetryOpened = false;\n                retryDlgClose(parent);\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Keep-Both') },\n                    click: () => {\n                        retryDlgUpdate(parent, true);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Replace') },\n                    click: () => {\n                        retryDlgUpdate(parent, false);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Skip') },\n                    click: () => {\n                        let count = 0;\n                        if (parent.isApplySame) {\n                            count = parent.retryFiles.length;\n                            parent.retryFiles = [];\n                            retryDlgClose(parent);\n                        }\n                        else {\n                            count = 1;\n                            parent.retryFiles.splice(0, 1);\n                            if (parent.retryFiles.length !== 0) {\n                                createExtDialog(parent, 'UploadRetry');\n                            }\n                            else {\n                                retryDlgClose(parent);\n                            }\n                        }\n                        parent.notify(skipUpload, { count: count });\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\nfunction retryDlgUpdate(parent, isKeepBoth) {\n    if (parent.isApplySame) {\n        if (isKeepBoth) {\n            onKeepBothAll(parent);\n        }\n        else {\n            onReplaceAll(parent);\n        }\n        retryDlgClose(parent);\n    }\n    else {\n        parent.retryArgs.push({\n            action: isKeepBoth ? 'keepboth' : 'replace',\n            file: parent.retryFiles[0]\n        });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n        if (parent.retryFiles.length !== 0) {\n            createExtDialog(parent, 'UploadRetry');\n        }\n        else {\n            retryDlgClose(parent);\n        }\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction retryDlgClose(parent) {\n    let flag = true;\n    if (parent.isRetryOpened) {\n        parent.isRetryOpened = false;\n    }\n    else {\n        flag = false;\n    }\n    const ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n    if (ele) {\n        remove(ele);\n    }\n    if (flag) {\n        parent.extDialogObj.hide();\n    }\n    else {\n        parent.retryFiles = [];\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction onRetryOpen(parent, args) {\n    parent.isRetryOpened = true;\n    const dialogEle = getValue('element', args);\n    const container = select('.e-dlg-content', dialogEle);\n    const checkContainer = parent.createElement('div', {\n        className: 'e-dlg-checkbox'\n    });\n    const checkbox = parent.createElement('input', {\n        id: parent.element.id + '_applyall'\n    });\n    checkContainer.appendChild(checkbox);\n    container.appendChild(checkContainer);\n    const checkBoxObj = new CheckBox({\n        label: getLocaleText(parent, 'ApplyAll-Label'),\n        change: (args) => {\n            parent.isApplySame = args.checked;\n        }\n    });\n    checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n    triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onKeepBothAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'keepboth', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReplaceAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'replace', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction focusInput(parent) {\n    const ele = select('#newname', parent.dialogObj.element);\n    ele.focus();\n    ele.value = '';\n    const len = ele.value.length;\n    ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onFolderDialogOpen(parent) {\n    const ele = select('#newname', parent.dialogObj.element);\n    if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n    }\n    ele.parentElement.nextElementSibling.innerHTML = '';\n    ele.oninput = () => {\n        onValidate(parent, ele);\n    };\n    ele.onkeyup = (e) => {\n        const code = getKeyCode(e);\n        if (code === 13) {\n            onSubmit(parent);\n        }\n    };\n    focusInput(parent);\n    triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onRenameDialogOpen(parent) {\n    const inputEle = select('#rename', parent.dialogObj.element);\n    if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n    }\n    inputEle.parentElement.nextElementSibling.innerHTML = '';\n    inputEle.oninput = () => {\n        onValidate(parent, inputEle);\n    };\n    inputEle.onkeyup = (e) => {\n        const code = getKeyCode(e);\n        if (code === 13) {\n            onReSubmit(parent);\n        }\n    };\n    onFocusRenameInput(parent, inputEle);\n    triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onFocusRenameInput(parent, inputEle) {\n    inputEle.focus();\n    let txt = '';\n    if (parent.isFile && !parent.showFileExtension) {\n        const index = parent.currentItemText.lastIndexOf('.');\n        txt = (index === -1) ? parent.currentItemText : parent.currentItemText.substring(0, index);\n    }\n    else {\n        txt = parent.currentItemText;\n    }\n    inputEle.value = txt;\n    if (parent.isFile && parent.showFileExtension && (inputEle.value.indexOf('.') !== -1)) {\n        inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n    }\n    else {\n        inputEle.setSelectionRange(0, inputEle.value.length);\n    }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\nfunction createInput(ele, placeholder) {\n    Input.createInput({\n        element: ele,\n        properties: {\n            placeholder: placeholder\n        }\n    });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\nfunction getOptions(parent, text, e, details, replaceItems) {\n    const options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    let permission;\n    let formattedString;\n    let intl;\n    let strArr;\n    let fileType$$1;\n    let location;\n    options.open = () => { triggerPopupOpen(parent, parent.dialogObj, options.dialogName); };\n    options.close = () => { triggerPopupClose(parent, parent.dialogObj, options.dialogName); };\n    text = (details && details.multipleFiles === true) ? 'MultipleFileDetails' : text;\n    switch (text) {\n        case 'NewFolder':\n            options.dialogName = 'Create Folder';\n            options.header = getLocaleText(parent, 'Header-NewFolder');\n            options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Create') },\n                    click: (e) => {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onFolderDialogOpen.bind(this, parent);\n            break;\n        case 'Delete':\n            options.dialogName = 'Delete';\n            if (parent.selectedItems.length > 1) {\n                options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>')\n                    .replace('{0}', parent.selectedItems.length.toString());\n                options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n            }\n            else {\n                options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n                options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n            }\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: (e) => {\n                        onDeleteSubmit(parent);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: () => {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Rename':\n            options.dialogName = 'Rename';\n            options.header = getLocaleText(parent, 'Header-Rename');\n            options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Save') },\n                    click: (e) => {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onReSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onRenameDialogOpen.bind(this, parent);\n            break;\n        case 'details':\n            options.dialogName = 'File Details';\n            intl = new Internationalization(parent.locale);\n            formattedString = intl.formatDate(new Date(details.modified), { format: 'MMMM dd, yyyy HH:mm:ss' });\n            permission = '';\n            if (!isNullOrUndefined(details.permission)) {\n                permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + VALUE + '\" >'\n                    + objectToString(details.permission) + '</td></tr>';\n            }\n            options.header = details.name;\n            options.content = '<table>' +\n                '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + VALUE + '\" title=\"' +\n                (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + VALUE + '\" title =\"' +\n                details.size + '\">' + details.size + '</span></td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + VALUE + '\" title=\"' +\n                details.location + '\">' + details.location + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + VALUE + '\" >'\n                + formattedString + '</td></tr>'\n                + permission + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: (e) => {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'MultipleFileDetails':\n            options.dialogName = 'File Details';\n            strArr = details.name.split(',').map((val) => {\n                const index = val.indexOf('.') + 1;\n                return (index === 0) ? 'Folder' : val.substr(index).replace(' ', '');\n            });\n            fileType$$1 = strArr.every((val, i, arr) => val === arr[0]) ?\n                ((strArr[0] === 'Folder') ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type') : 'Multiple Types';\n            location = details.location;\n            options.header = details.name;\n            options.content = '<table><tr><td>' + getLocaleText(parent, 'Type')\n                + ':</td><td class=\"' + VALUE + '\">' + fileType$$1 + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' +\n                details.size + '<span class=\"' + VALUE + '\" title =\"' + details.size\n                + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') +\n                ':</td><td class=\"' + VALUE + '\" title=\"' + location + '\">'\n                + location + '</td></tr>' + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: (e) => {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Error':\n            parent.notify(actionFailure, {});\n            options.dialogName = 'Error';\n            if (e.error.code === '401') {\n                options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' +\n                    getLocaleText(parent, 'Access-Denied') + '</div>';\n            }\n            else {\n                options.header = getLocaleText(parent, 'Error');\n            }\n            options.content = '<div class=\"' + ERROR_CONTENT + '\">' + e.error.message + '</div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: (e) => {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction keydownAction(parent, dialogName, args) {\n    const btnElement = selectAll('.e-btn', parent.dialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction beforeExtOpen(parent, dlgName, args) {\n    const btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\nfunction preventKeydown(btnElement) {\n    for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n        btnElement[btnCount].onkeydown = (e) => {\n            if (e.keyCode === 13) {\n                e.preventDefault();\n            }\n        };\n        btnElement[btnCount].onkeyup = (e) => {\n            if (e.keyCode === 13) {\n                btnElement[btnCount].click();\n            }\n        };\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\nfunction changeOptions(parent, options) {\n    parent.dialogObj.header = options.header;\n    parent.dialogObj.content = options.content;\n    parent.dialogObj.buttons = options.buttons;\n    parent.dialogObj.enableRtl = parent.enableRtl;\n    parent.dialogObj.open = options.open;\n    parent.dialogObj.close = options.close;\n    parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n    parent.dialogObj.beforeClose = (args) => {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n    };\n    parent.dialogObj.dataBind();\n    parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onSubmit(parent) {\n    const ele = select('#newname', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReSubmit(parent) {\n    const ele = select('#rename', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    let text = ele.value;\n    const oIndex = parent.currentItemText.lastIndexOf('.');\n    if (parent.isFile && !parent.showFileExtension) {\n        const extn = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        text += extn;\n    }\n    parent.renameText = text;\n    if (parent.currentItemText === text) {\n        parent.dialogObj.hide();\n        return;\n    }\n    const newPath = (parent.activeModule === 'navigationpane') ? getParentPath(parent.path) : parent.path;\n    parent.renamedId = getValue('id', parent.itemData[0]);\n    if (parent.isFile) {\n        const oldExtension = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        const nIndex = text.lastIndexOf('.');\n        const newExtension = (nIndex === -1) ? '' : text.substr(nIndex);\n        if (parent.showFileExtension && oldExtension !== newExtension) {\n            createExtDialog(parent, 'Extension', null, newPath);\n        }\n        else {\n            rename(parent, newPath, text);\n        }\n    }\n    else {\n        rename(parent, newPath, text);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onDeleteSubmit(parent) {\n    parent.dialogObj.hide();\n    parent.notify(deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onValidate(parent, ele) {\n    if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n        addInvalid(parent, ele);\n    }\n    else if (ele.value === '') {\n        ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = '';\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onSubmitValidate(parent, ele) {\n    onValidate(parent, ele);\n    const len = ele.value.length - 1;\n    if (ele.value !== '' && ((ele.value.lastIndexOf('.') === len) || (ele.value.lastIndexOf(' ') === len)) &&\n        (parent.showFileExtension || (parent.currentItemText.lastIndexOf('.') === -1))) {\n        addInvalid(parent, ele);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction addInvalid(parent, ele) {\n    const error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n    if (parent.enableHtmlSanitizer) {\n        ele.parentElement.nextElementSibling.textContent = error;\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = error;\n    }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\nfunction getKeyCode(e) {\n    let code;\n    if (e.keyCode) {\n        code = e.keyCode;\n    }\n    else if (e.which) {\n        code = e.which;\n    }\n    else {\n        code = e.charCode;\n    }\n    return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\nfunction createImageDialog(parent, header, imageUrl) {\n    const content = createElement('div', { className: 'e-image-wrap' });\n    const image = createElement('img', { className: 'e-image', attrs: { src: imageUrl, alt: header } });\n    content.appendChild(image);\n    if (isNullOrUndefined(parent.viewerObj)) {\n        parent.viewerObj = new Dialog({\n            header: header,\n            content: content,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            isModal: true,\n            width: '350px',\n            height: '350px',\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            locale: parent.locale,\n            enableResize: true,\n            allowDragging: true,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: parent.enableRtl,\n            open: openImage.bind(this, parent),\n            close: () => { triggerPopupClose(parent, parent.viewerObj, 'Image Preview'); },\n            beforeOpen: (args) => {\n                triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            beforeClose: (args) => {\n                triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            resizing: updateImage.bind(this, parent),\n            resizeStop: updateImage.bind(this, parent)\n        });\n        parent.viewerObj.isStringTemplate = true;\n        parent.viewerObj.appendTo('#' + parent.element.id + IMG_DIALOG_ID);\n    }\n    else {\n        parent.viewerObj.refresh();\n        parent.viewerObj.header = header;\n        parent.viewerObj.content = content;\n        parent.viewerObj.enableRtl = parent.enableRtl;\n        parent.viewerObj.dataBind();\n        parent.viewerObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openImage(parent) {\n    setTimeout(() => {\n        if (parent.viewerObj) {\n            parent.viewerObj.element.focus();\n        }\n    });\n    updateImage(parent);\n    triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction updateImage(parent) {\n    const content = select('.e-dlg-content', parent.viewerObj.element);\n    const imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n    const cssObj = window.getComputedStyle(content, null);\n    const paddingWidth = cssObj ? (2 * parseFloat(cssObj.paddingRight)) : 36;\n    const paddingHeight = cssObj ? (2 * parseFloat(cssObj.paddingBottom)) : 20;\n    imgWrap.style.width = (content.offsetWidth - paddingWidth) + 'px';\n    imgWrap.style.height = (content.offsetHeight - paddingHeight) + 'px';\n}\n\n/**\n * File Manager common operations\n */\n\n/**\n * LargeIconsView module\n */\nclass LargeIconsView {\n    /**\n     * Constructor for the LargeIcons module.\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    constructor(parent) {\n        this.isInteraction = true;\n        this.uploadOperation = false;\n        this.count = 0;\n        this.isRendered = true;\n        this.tapCount = 0;\n        this.isPasteOperation = false;\n        this.isInteracted = true;\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n        addClass([this.element], LARGE_ICONS);\n        this.addEventListener();\n        this.keyConfigs = {\n            end: 'end',\n            home: 'home',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            ctrlUp: 'ctrl+uparrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftLeft: 'shift+leftarrow',\n            shiftRight: 'shift+rightarrow',\n            shiftUp: 'shift+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csLeft: 'ctrl+shift+leftarrow',\n            csRight: 'ctrl+shift+rightarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            f2: 'f2',\n            shiftdel: 'shift+delete',\n            back: 'backspace',\n            ctrlD: 'ctrl+d'\n        };\n    }\n    render(args) {\n        this.parent.visitedItem = null;\n        this.startItem = null;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'LargeIcons') {\n            this.resetMultiSelect();\n            this.element.setAttribute('tabindex', '0');\n            if (this.listObj) {\n                this.unWireEvents();\n                this.removeEventListener();\n            }\n            this.parent.notify(hideLayout, {});\n            const iconsView = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n            const ul = select('ul', iconsView);\n            if (ul) {\n                remove(ul);\n            }\n            this.listObj = {\n                ariaAttributes: {\n                    itemRole: 'option', listRole: 'listbox', itemText: '',\n                    groupItemRole: 'group', wrapperRole: ''\n                },\n                showIcon: true,\n                fields: { text: 'name', iconCss: '_fm_icon', imageUrl: '_fm_imageUrl', htmlAttributes: '_fm_htmlAttr' },\n                sortOrder: this.parent.sortOrder,\n                itemCreated: this.onItemCreated.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n            };\n            this.items = [];\n            this.items = this.renderList(args);\n            this.items = getSortedData(this.parent, this.items);\n            // eslint-disable-next-line\n            this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n            this.itemList = Array.prototype.slice.call(selectAll('.' + LIST_ITEM, this.listElements));\n            this.element.appendChild(this.listElements);\n            this.preventImgDrag();\n            this.createDragObj();\n            iconsView.classList.remove(DISPLAY_NONE);\n            if (this.itemList.length === 0) {\n                const emptyList = this.element.querySelector('.' + LIST_PARENT);\n                this.element.removeChild(emptyList);\n                createEmptyElement(this.parent, this.element, args);\n            }\n            else if (this.itemList.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n                this.element.removeChild(this.element.querySelector('.' + EMPTY));\n            }\n            if (this.isPasteOperation === true) {\n                this.selectItems(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            /* istanbul ignore next */\n            if (this.uploadOperation === true) {\n                this.selectItems(this.parent.uploadItem);\n                this.parent.setProperties({ selectedItems: [] }, true);\n                this.count++;\n                if (this.count === this.parent.uploadItem.length) {\n                    this.uploadOperation = false;\n                    this.parent.uploadItem = [];\n                }\n            }\n            const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            if (activeEle.length !== 0) {\n                this.parent.activeModule = 'largeiconsview';\n            }\n            for (let i = 0; i < activeEle.length; i++) {\n                activeEle[i].setAttribute('aria-selected', 'true');\n            }\n            this.adjustHeight();\n            this.element.style.maxHeight = '100%';\n            this.getItemCount();\n            this.addEventListener();\n            this.wireEvents();\n            this.isRendered = true;\n            hideSpinner(this.parent.element);\n            if (this.parent.selectedItems.length) {\n                this.checkItem();\n            }\n        }\n    }\n    preventImgDrag() {\n        let i = 0;\n        while (i < this.itemList.length) {\n            if (this.itemList[i].querySelector('img')) {\n                /* istanbul ignore next */\n                this.itemList[i].ondragstart = () => { return false; };\n            }\n            i++;\n        }\n    }\n    createDragObj() {\n        if (!this.parent.isMobile && this.listObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.listElements, {\n                    enableTailMode: true,\n                    distance: 5,\n                    enableAutoScroll: true,\n                    dragTarget: '.' + LARGE_ICON,\n                    helper: this.dragHelper.bind(this),\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragArea: this.parent.element,\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    drag: draggingHandler.bind(this, this.parent),\n                    clone: true,\n                    dragStart: (args) => {\n                        dragStartHandler(this.parent, args, this.dragObj);\n                    }\n                });\n            }\n            else if (this.dragObj && !this.parent.allowDragAndDrop) {\n                this.dragObj.destroy();\n            }\n        }\n    }\n    dragHelper(args) {\n        const dragTarget = args.sender.target;\n        const dragLi = closest(dragTarget, '.e-list-item');\n        if (!dragLi) {\n            return null;\n        }\n        if (dragLi && !dragLi.classList.contains('e-active')) {\n            this.setFocus(dragLi);\n        }\n        const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        for (let i = 0; i < activeEle.length; i++) {\n            // eslint-disable-next-line\n            this.parent.dragData.push(this.getItemObject(activeEle[i]));\n            this.parent.activeElements.push(activeEle[i]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.dragPath = this.parent.path;\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    }\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            const dropLi = closest(args.target, '.e-list-item');\n            // eslint-disable-next-line\n            const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (dropLi) {\n                // eslint-disable-next-line\n                const info = this.getItemObject(dropLi);\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n            else {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    getModuleName() {\n        return 'largeiconsview';\n    }\n    adjustHeight() {\n        const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n        const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n        this.element.style.height = (pane.offsetHeight - bar.offsetHeight) + 'px';\n    }\n    onItemCreated(args) {\n        args.item.removeAttribute('aria-level');\n        if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n            const textEle = args.item.querySelector('.' + LIST_TEXT);\n            const txt = getValue('name', args.curData);\n            const type = getValue('type', args.curData);\n            textEle.innerHTML = txt.substr(0, txt.length - type.length);\n        }\n        this.renderCheckbox(args);\n        const eventArgs = {\n            element: args.item,\n            fileDetails: args.curData,\n            module: 'LargeIconsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    }\n    renderCheckbox(args) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        const checkElement = createCheckBox(createElement, false, {\n            checked: false,\n            cssClass: 'e-small'\n        });\n        checkElement.setAttribute('role', 'checkbox');\n        checkElement.setAttribute('aria-checked', 'false');\n        args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n    }\n    onLayoutChange(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.destroy();\n            this.render(args);\n            /* istanbul ignore next */\n            if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' &&\n                this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n                const indexes = this.getIndexes(this.parent.selectedNodes);\n                let length = 0;\n                while (length < indexes.length) {\n                    addBlur(this.itemList[indexes[length]]);\n                    length++;\n                }\n            }\n            const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            if (activeEle.length !== 0) {\n                this.element.focus();\n            }\n            this.checkItem();\n            this.parent.isLayoutChange = false;\n        }\n        else {\n            this.element.setAttribute('tabindex', '-1');\n        }\n    }\n    checkItem() {\n        const checkEle = this.element.querySelectorAll('.' + ACTIVE);\n        if (checkEle) {\n            let checkLength = 0;\n            while (checkLength < checkEle.length) {\n                this.checkState(checkEle[checkLength], true);\n                checkLength++;\n            }\n        }\n    }\n    // eslint-disable-next-line\n    renderList(args) {\n        let i = 0;\n        // eslint-disable-next-line\n        const items = JSON.parse(JSON.stringify(args.files));\n        while (i < items.length) {\n            const icon = fileType(items[i]);\n            const name = getValue('name', items[i]);\n            const selected = getItemName(this.parent, items[i]);\n            let className = ((this.parent.selectedItems &&\n                this.parent.selectedItems.indexOf(selected) !== -1)) ?\n                LARGE_ICON + ' e-active' : LARGE_ICON;\n            if (!hasEditAccess(items[i])) {\n                className += ' ' + getAccessClass(items[i]);\n            }\n            if (icon === ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n                const imgUrl = getImageUrl(this.parent, items[i]);\n                setValue('_fm_imageUrl', imgUrl, items[i]);\n                setValue('_fm_imageAttr', { alt: name }, items[i]);\n            }\n            else {\n                setValue('_fm_icon', icon, items[i]);\n            }\n            setValue('_fm_htmlAttr', { class: className, title: name }, items[i]);\n            i++;\n        }\n        return items;\n    }\n    onFinalizeEnd(args) {\n        this.render(args);\n    }\n    onCreateEnd(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.clearSelect();\n        this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n        this.parent.createdItem = null;\n        this.parent.largeiconsviewModule.element.focus();\n    }\n    onSelectedData() {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.updateSelectedData();\n        }\n    }\n    onDeleteInit() {\n        if (this.parent.activeModule === 'largeiconsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    }\n    /* istanbul ignore next */\n    onDeleteEnd(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.clearSelect();\n    }\n    onRefreshEnd(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n    }\n    onRenameInit() {\n        if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    }\n    onPathChanged(args) {\n        this.parent.isCut = false;\n        /* istanbul ignore next */\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n            this.parent.searchedItems = [];\n        }\n        if (this.parent.view === 'LargeIcons') {\n            removeBlur(this.parent);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.onLayoutChange(args);\n            if (this.parent.renamedItem) {\n                this.clearSelect();\n                this.addSelection(this.parent.renamedItem);\n                this.parent.renamedItem = null;\n            }\n        }\n    }\n    onOpenInit(args) {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.doOpenAction(args.target);\n        }\n    }\n    onHideLayout() {\n        if (this.parent.view !== 'LargeIcons' && this.element) {\n            this.element.classList.add(DISPLAY_NONE);\n        }\n    }\n    onSelectAllInit() {\n        if (this.parent.view === 'LargeIcons') {\n            this.startItem = this.getFirstItem();\n            const lastItem = this.getLastItem();\n            const eveArgs = { ctrlKey: true, shiftKey: true };\n            this.doSelection(lastItem, eveArgs);\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    }\n    onClearAllInit() {\n        if (this.parent.view === 'LargeIcons') {\n            this.clearSelection();\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    }\n    onBeforeRequest() {\n        this.isRendered = false;\n    }\n    onAfterRequest() {\n        this.isRendered = true;\n    }\n    /* istanbul ignore next */\n    onSearch(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(selectionChanged, {});\n            this.parent.searchedItems = args.files;\n            this.onLayoutChange(args);\n        }\n    }\n    onLayoutRefresh() {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.adjustHeight();\n    }\n    onUpdateSelectionData() {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.updateSelectedData();\n    }\n    onPathColumn() {\n        if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(this.listObj) &&\n            this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered\n            && this.parent.sortBy === 'filterPath') {\n            this.parent.sortBy = 'name';\n            this.parent.notify(sortByChange, {});\n        }\n    }\n    removeEventListener() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(pathColumn, this.onPathColumn);\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(search, this.onSearch);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(openEnd, this.onPathChanged);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(methodCall, this.onMethodCall);\n        this.parent.off(actionFailure, this.onActionFailure);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onPathChanged);\n        this.parent.off(hideLayout, this.onHideLayout);\n        this.parent.off(selectAllInit, this.onSelectAllInit);\n        this.parent.off(clearAllInit, this.onClearAllInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(beforeRequest, this.onBeforeRequest);\n        this.parent.off(afterRequest, this.onAfterRequest);\n        this.parent.off(splitterResize, this.splitterResizeHandler);\n        this.parent.off(resizeEnd, this.resizeHandler);\n        this.parent.off(pasteInit, this.onpasteInit);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n        this.parent.off(filterEnd, this.onPathChanged);\n    }\n    addEventListener() {\n        this.parent.on(pathColumn, this.onPathColumn, this);\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(pasteInit, this.onpasteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(search, this.onSearch, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onPathChanged, this);\n        this.parent.on(openEnd, this.onPathChanged, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(methodCall, this.onMethodCall, this);\n        this.parent.on(actionFailure, this.onActionFailure, this);\n        this.parent.on(hideLayout, this.onHideLayout, this);\n        this.parent.on(selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(clearAllInit, this.onClearAllInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(afterRequest, this.onAfterRequest, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(splitterResize, this.splitterResizeHandler, this);\n        this.parent.on(resizeEnd, this.resizeHandler, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n        this.parent.on(filterEnd, this.onPathChanged, this);\n    }\n    onActionFailure() { this.isInteraction = true; this.isInteracted = true; }\n    // eslint-disable-next-line\n    onMenuItemData(args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            const ele = closest(args.target, 'li');\n            this.parent.itemData = [this.getItemObject(ele)];\n        }\n    }\n    onDetailsInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.updateSelectedData();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    }\n    onpasteInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath === '') ? [getPathObject(this.parent)] :\n                [this.getItemObject(select('.e-active', this.element))];\n        }\n    }\n    oncutCopyInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            this.parent.activeRecords = [];\n            this.parent.activeElements = [];\n            for (let i = 0; i < activeEle.length; i++) {\n                this.parent.activeElements.push(activeEle[i]);\n                this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n            }\n        }\n    }\n    onpasteEnd(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    }\n    onDropPath(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    }\n    onPropertyChanged(e) {\n        let currentSelected;\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'selectedItems':\n                    this.isInteraction = false;\n                    this.isInteracted = false;\n                    currentSelected = isNullOrUndefined(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n                    currentSelected = this.parent.allowMultiSelection ? currentSelected :\n                        currentSelected.slice(currentSelected.length - 1);\n                    this.parent.setProperties({ selectedItems: [] }, true);\n                    this.onClearAllInit();\n                    if (currentSelected.length) {\n                        this.selectItems(currentSelected);\n                    }\n                    this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    this.isInteraction = true;\n                    this.isInteracted = true;\n                    break;\n                case 'showThumbnail':\n                    refresh(this.parent);\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.parent.view !== 'LargeIcons') {\n                        break;\n                    }\n                    refresh(this.parent);\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'LargeIcons');\n                    break;\n            }\n        }\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.listObj) {\n            this.unWireEvents();\n        }\n    }\n    wireEvents() {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    }\n    unWireEvents() {\n        this.wireClickEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n    }\n    /* istanbul ignore next */\n    onMouseOver(e) {\n        const targetEle = closest(e.target, '.e-list-item');\n        removeBlur(this.parent, 'hover');\n        if (targetEle !== null) {\n            targetEle.classList.add(HOVER);\n        }\n    }\n    wireClickEvent(toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            const proxy = this;\n            this.clickObj = new Touch(this.element, {\n                tap: (eve) => {\n                    eve.originalEvent.preventDefault();\n                    if (proxy.parent.isDevice) {\n                        proxy.tapCount = eve.tapCount;\n                        proxy.tapEvent = eve;\n                        setTimeout(() => {\n                            if (proxy.tapCount > 0) {\n                                proxy.doTapAction(proxy.tapEvent);\n                            }\n                            proxy.tapCount = 0;\n                        }, 350);\n                    }\n                    else {\n                        if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n                            proxy.dblClickHandler(eve);\n                        }\n                        else {\n                            proxy.clickHandler(eve);\n                        }\n                    }\n                },\n                tapHold: (e) => {\n                    if (proxy.parent.isDevice) {\n                        proxy.multiSelect = proxy.parent.allowMultiSelection ? true : false;\n                        if (proxy.parent.allowMultiSelection) {\n                            addClass([proxy.parent.element], MULTI_SELECT);\n                        }\n                        proxy.clickHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    }\n    doTapAction(eve) {\n        const target = eve.originalEvent.target;\n        const item = closest(target, '.' + LIST_ITEM);\n        if (this.multiSelect || target.classList.contains(LIST_PARENT) || isNullOrUndefined(item)) {\n            this.clickHandler(eve);\n        }\n        else {\n            this.parent.isFile = false;\n            this.updateType(item);\n            if (!this.parent.isFile) {\n                this.dblClickHandler(eve);\n            }\n            else if (eve.tapCount === 2) {\n                this.clickHandler(eve);\n                this.dblClickHandler(eve);\n            }\n            else {\n                this.clickHandler(eve);\n            }\n        }\n    }\n    clickHandler(e) {\n        const target = e.originalEvent.target;\n        removeBlur(this.parent, 'hover');\n        this.doSelection(target, e.originalEvent);\n        this.parent.activeModule = 'largeiconsview';\n    }\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n     * @returns {void}\n     * @hidden\n     */\n    doSelection(target, e) {\n        const item = closest(target, '.' + LIST_ITEM);\n        const cList = target.classList;\n        this.parent.isFile = false;\n        let action = 'select';\n        if (e.which === 3 && !isNullOrUndefined(item) && item.classList.contains(ACTIVE)) {\n            this.updateType(item);\n            return;\n        }\n        else if (!isNullOrUndefined(item)) {\n            if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)\n                && (e.ctrlKey || target.classList.contains(CHECK))) {\n                action = 'unselect';\n            }\n            const fileSelectionArgs = this.triggerSelection(action, item);\n            if (fileSelectionArgs.cancel !== true) {\n                if ((!this.parent.allowMultiSelection || (!this.multiSelect && (e && !e.ctrlKey)))\n                    && !cList.contains(FRAME)) {\n                    this.updateType(item);\n                    this.clearSelect();\n                }\n                if (this.parent.allowMultiSelection && e.shiftKey) {\n                    if (!(e && e.ctrlKey)) {\n                        this.clearSelect();\n                    }\n                    if (!this.startItem) {\n                        this.startItem = item;\n                    }\n                    const startIndex = this.itemList.indexOf(this.startItem);\n                    const endIndex = this.itemList.indexOf(item);\n                    if (startIndex > endIndex) {\n                        for (let i = startIndex; i >= endIndex; i--) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    else {\n                        for (let i = startIndex; i <= endIndex; i++) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    this.addFocus(this.itemList[endIndex]);\n                }\n                else {\n                    this.startItem = item;\n                    if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)) {\n                        this.removeActive(item);\n                    }\n                    else {\n                        this.addActive(item);\n                    }\n                    this.addFocus(item);\n                }\n                if (this.parent.selectedItems.length === 0) {\n                    this.resetMultiSelect();\n                }\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect(action, item);\n            }\n        }\n        else {\n            this.clearSelection();\n        }\n        if (!isNullOrUndefined(item)) {\n            this.updateType(item);\n        }\n    }\n    dblClickHandler(e) {\n        this.parent.activeModule = 'largeiconsview';\n        const target = e.originalEvent.target;\n        this.doOpenAction(target);\n    }\n    clearSelection() {\n        this.clearSelect();\n        this.resetMultiSelect();\n        this.parent.notify(selectionChanged, {});\n    }\n    resetMultiSelect() {\n        this.multiSelect = false;\n        removeClass([this.parent.element], MULTI_SELECT);\n    }\n    doOpenAction(target) {\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        const item = closest(target, '.' + LIST_ITEM);\n        this.parent.isFile = false;\n        if (!isNullOrUndefined(item)) {\n            this.updateType(item);\n            // eslint-disable-next-line\n            const details = this.getItemObject(item);\n            if (!hasReadAccess(details)) {\n                createDeniedDialog(this.parent, details, permissionRead);\n                return;\n            }\n            const eventArgs = { cancel: false, fileDetails: details, module: 'LargeIconsView' };\n            this.parent.trigger('fileOpen', eventArgs, (fileOpenArgs) => {\n                if (!fileOpenArgs.cancel) {\n                    const text = getValue('name', details);\n                    if (!this.parent.isFile) {\n                        const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n                        if (val === '' && !this.parent.isFiltered) {\n                            const id = getValue('id', details);\n                            const newPath = this.parent.path + (isNullOrUndefined(id) ? text : id) + '/';\n                            this.parent.setProperties({ path: newPath }, true);\n                            this.parent.pathNames.push(text);\n                            this.parent.pathId.push(getValue('_fm_id', details));\n                            this.parent.itemData = [details];\n                            openAction(this.parent);\n                        }\n                        else {\n                            openSearchFolder(this.parent, details);\n                        }\n                        this.parent.isFiltered = false;\n                        this.parent.setProperties({ selectedItems: [] }, true);\n                    }\n                    else {\n                        const icon = fileType(details);\n                        if (icon === ICON_IMAGE) {\n                            const imgUrl = getImageUrl(this.parent, details);\n                            createImageDialog(this.parent, text, imgUrl);\n                        }\n                    }\n                }\n            });\n        }\n    }\n    updateType(item) {\n        const folder = select('.' + FOLDER, item);\n        this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keydownActionHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'moveDown':\n            case 'moveLeft':\n            case 'moveRight':\n            case 'moveUp':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keyActionHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        const fItem = this.getFocusedItem();\n        const firstItem = this.getFirstItem();\n        const lastItem = this.getLastItem();\n        switch (e.action) {\n            case 'end':\n                this.navigateItem(lastItem);\n                break;\n            case 'home':\n                this.navigateItem(firstItem);\n                break;\n            case 'tab':\n                if (!isNullOrUndefined(fItem)) {\n                    this.addFocus(fItem);\n                }\n                else if (!isNullOrUndefined(firstItem)) {\n                    this.addFocus(firstItem);\n                }\n                break;\n            case 'moveDown':\n                this.navigateDown(fItem, true);\n                break;\n            case 'moveLeft':\n                this.navigateRight(fItem, false);\n                break;\n            case 'moveRight':\n                this.navigateRight(fItem, true);\n                break;\n            case 'moveUp':\n                this.navigateDown(fItem, false);\n                break;\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n                this.csEndKey(lastItem, e);\n                break;\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n                this.csHomeKey(firstItem, e);\n                break;\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n                this.csDownKey(fItem, e);\n                break;\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n                this.csLeftKey(fItem, e);\n                break;\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n                this.csRightKey(fItem, e);\n                break;\n            case 'ctrlUp':\n            case 'shiftUp':\n            case 'csUp':\n                this.csUpKey(fItem, e);\n                break;\n            case 'space':\n                this.spaceKey(fItem);\n                break;\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n                if (!isNullOrUndefined(fItem)) {\n                    this.doSelection(fItem, e);\n                }\n                break;\n            case 'ctrlA':\n                this.ctrlAKey(firstItem, lastItem);\n                break;\n            case 'enter':\n                this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n                break;\n            case 'altEnter':\n                this.parent.notify(detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n        }\n    }\n    doDownload() {\n        this.updateSelectedData();\n        doDownload(this.parent);\n    }\n    performDelete() {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.updateSelectedData();\n            // eslint-disable-next-line\n            const data = this.parent.itemData;\n            for (let i = 0; i < data.length; i++) {\n                if (!hasEditAccess(data[i])) {\n                    createDeniedDialog(this.parent, data[i], permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    }\n    performRename() {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    }\n    updateRenameData() {\n        const item = select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        updateRenamingData(this.parent, data);\n    }\n    getVisitedItem() {\n        const item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n        const indexes = this.getIndexes([item], this.parent.hasId);\n        return this.itemList[indexes[0]];\n    }\n    getFocusedItem() {\n        return select('.' + LIST_ITEM + '.' + FOCUS, this.element);\n    }\n    getActiveItem() {\n        return select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n    }\n    getFirstItem() {\n        return this.itemList[0];\n    }\n    getLastItem() {\n        return this.itemList[this.itemList.length - 1];\n    }\n    navigateItem(item) {\n        this.setFocus(item);\n    }\n    navigateDown(fItem, isTowards) {\n        const nItem = this.getNextItem(fItem, isTowards, this.perRow);\n        this.setFocus(nItem);\n    }\n    navigateRight(fItem, isTowards) {\n        const nItem = this.getNextItem(fItem, isTowards);\n        this.setFocus(nItem);\n    }\n    getNextItem(li, isTowards, perRow) {\n        if (isNullOrUndefined(li)) {\n            return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n        }\n        let index = this.itemList.indexOf(li);\n        let nextItem;\n        do {\n            if (isTowards) {\n                index = perRow ? index + perRow : index + 1;\n            }\n            else {\n                index = perRow ? index - perRow : index - 1;\n            }\n            nextItem = this.itemList[index];\n            if (isNullOrUndefined(nextItem)) {\n                return li;\n            }\n        } while (!isVisible(nextItem));\n        return nextItem;\n    }\n    setFocus(nextItem) {\n        if (!isNullOrUndefined(nextItem)) {\n            const fileSelectionArgs = this.triggerSelection('select', nextItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.startItem = nextItem;\n                this.clearSelect();\n                this.addActive(nextItem);\n                this.addFocus(nextItem);\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect('select', nextItem);\n            }\n        }\n    }\n    spaceKey(fItem) {\n        if (!isNullOrUndefined(fItem) && !fItem.classList.contains(ACTIVE)) {\n            const fileSelectionArgs = this.triggerSelection('select', fItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.addActive(fItem);\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect('select', fItem);\n            }\n        }\n    }\n    ctrlAKey(firstItem, lastItem) {\n        if (this.parent.allowMultiSelection && !isNullOrUndefined(firstItem)) {\n            this.startItem = firstItem;\n            const eveArgs = { ctrlKey: true, shiftKey: true };\n            const liParent = this.element.querySelector('.' + LIST_PARENT);\n            const liScrPos = liParent.scrollTop;\n            const getCurFocusedItem = this.getFocusedItem();\n            this.doSelection(lastItem, eveArgs);\n            liParent.scrollTop = liScrPos;\n            if (!isNullOrUndefined(getCurFocusedItem)) {\n                this.addFocus(getCurFocusedItem);\n            }\n        }\n    }\n    csEndKey(lastItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(lastItem);\n        }\n        else if (!isNullOrUndefined(lastItem)) {\n            if (e.action === 'ctrlEnd') {\n                this.addFocus(lastItem);\n            }\n            else {\n                this.doSelection(lastItem, e);\n            }\n        }\n    }\n    csHomeKey(firstItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(firstItem);\n        }\n        else if (!isNullOrUndefined(firstItem)) {\n            if (e.action === 'ctrlHome') {\n                this.addFocus(firstItem);\n            }\n            else {\n                this.doSelection(firstItem, e);\n            }\n        }\n    }\n    csDownKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, true);\n        }\n        else {\n            const dItem = this.getNextItem(fItem, true, this.perRow);\n            if (!isNullOrUndefined(dItem)) {\n                if (e.action === 'ctrlDown') {\n                    this.addFocus(dItem);\n                }\n                else {\n                    this.doSelection(dItem, e);\n                }\n            }\n        }\n    }\n    csLeftKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, false);\n        }\n        else {\n            const lItem = this.getNextItem(fItem, false);\n            if (!isNullOrUndefined(lItem)) {\n                if (e.action === 'ctrlLeft') {\n                    this.addFocus(lItem);\n                }\n                else {\n                    this.doSelection(lItem, e);\n                }\n            }\n        }\n    }\n    csRightKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, true);\n        }\n        else {\n            const rItem = this.getNextItem(fItem, true);\n            if (!isNullOrUndefined(rItem)) {\n                if (e.action === 'ctrlRight') {\n                    this.addFocus(rItem);\n                }\n                else {\n                    this.doSelection(rItem, e);\n                }\n            }\n        }\n    }\n    csUpKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, false);\n        }\n        else {\n            const uItem = this.getNextItem(fItem, false, this.perRow);\n            if (!isNullOrUndefined(uItem)) {\n                if (e.action === 'ctrlUp') {\n                    this.addFocus(uItem);\n                }\n                else {\n                    this.doSelection(uItem, e);\n                }\n            }\n        }\n    }\n    addActive(nextItem) {\n        if (!isNullOrUndefined(nextItem)) {\n            if (!nextItem.classList.contains(ACTIVE)) {\n                this.parent.selectedItems.push(this.getDataName(nextItem));\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                addClass([nextItem], [ACTIVE]);\n                nextItem.setAttribute('aria-selected', 'true');\n                this.checkState(nextItem, true);\n            }\n            this.parent.visitedItem = nextItem;\n        }\n    }\n    removeActive(preItem) {\n        if (!isNullOrUndefined(preItem)) {\n            removeClass([preItem], [ACTIVE]);\n            if (this.parent.allowMultiSelection) {\n                preItem.setAttribute('aria-selected', 'false');\n            }\n            else {\n                preItem.removeAttribute('aria-selected');\n            }\n            this.checkState(preItem, false);\n            const index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n            if (index > -1) {\n                this.parent.selectedItems.splice(index, 1);\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n            }\n            this.parent.visitedItem = null;\n        }\n    }\n    getDataName(item) {\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        return getItemName(this.parent, data);\n    }\n    addFocus(item) {\n        this.element.setAttribute('tabindex', '-1');\n        const fItem = this.getFocusedItem();\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [FOCUS]);\n        }\n        addClass([item], [FOCUS]);\n        item.setAttribute('tabindex', '0');\n        item.focus();\n    }\n    checkState(item, toCheck) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        const checkEle = select('.' + FRAME, item);\n        if (isNullOrUndefined(checkEle)) {\n            return;\n        }\n        if (toCheck) {\n            if (!checkEle.classList.contains(CHECK)) {\n                addClass([checkEle], CHECK);\n                closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'true');\n            }\n        }\n        else {\n            if (checkEle.classList.contains(CHECK)) {\n                removeClass([checkEle], CHECK);\n                closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'false');\n            }\n        }\n    }\n    clearSelect() {\n        const eles = Array.prototype.slice.call(selectAll('.' + ACTIVE, this.listElements));\n        let fileSelectionArgs;\n        if (eles.length !== 0) {\n            fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n            if (fileSelectionArgs.cancel !== true) {\n                for (let i = 0, len = eles.length; i < len; i++) {\n                    this.removeActive(eles[i]);\n                }\n            }\n            this.triggerSelect('unselect', eles[0]);\n        }\n    }\n    resizeHandler() {\n        this.getItemCount();\n        if (!isNullOrUndefined(this.listObj)) {\n            this.adjustHeight();\n        }\n    }\n    splitterResizeHandler() {\n        this.getItemCount();\n    }\n    getItemCount() {\n        let perRow = 1;\n        if (this.itemList) {\n            for (let i = 0, len = this.itemList.length - 1; i < len; i++) {\n                if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n                    perRow++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        this.perRow = perRow;\n    }\n    triggerSelection(action, item) {\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        const eventArgs = {\n            action: action, fileDetails: data, isInteracted: this.isInteraction, cancel: false, target: item\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        this.isInteraction = true;\n        return eventArgs;\n    }\n    triggerSelect(action, item) {\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        this.parent.visitedData = data;\n        const eventArgs = { action: action, fileDetails: data, isInteracted: this.isInteracted };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.isInteracted = true;\n    }\n    selectItems(items) {\n        const indexes = this.getIndexes(items, this.parent.hasId);\n        for (let j = 0, len = indexes.length; j < len; j++) {\n            const eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[indexes[j]], eveArgs);\n        }\n    }\n    getIndexes(items, byId) {\n        const indexes = [];\n        const filter$$1 = byId ? 'id' : 'name';\n        for (let i = 0, len = this.items.length; i < len; i++) {\n            if (items.indexOf(getValue(filter$$1, this.items[i])) !== -1) {\n                indexes.push(i);\n            }\n        }\n        return indexes;\n    }\n    // eslint-disable-next-line\n    getItemObject(item) {\n        const index = this.itemList.indexOf(item);\n        return this.items[index];\n    }\n    // eslint-disable-next-line\n    addSelection(data) {\n        // eslint-disable-next-line\n        let resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            const newData = new DataManager(this.items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (newData.length > 0) {\n                resultData = new DataManager(newData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (resultData.length > 0) {\n            const index = this.items.indexOf(resultData[0]);\n            const eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[index], eveArgs);\n        }\n    }\n    updateSelectedData() {\n        // eslint-disable-next-line\n        const data = [];\n        const items = selectAll('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n        for (let i = 0; i < items.length; i++) {\n            data[i] = this.getItemObject(items[i]);\n        }\n        this.parent.itemData = data;\n    }\n    // eslint-disable-next-line\n    onMethodCall(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        const action = getValue('action', args);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', args));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', args));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', args));\n                break;\n            case 'renameFile':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.renameFile(getValue('id', args), getValue('newName', args));\n                break;\n            case 'createFolder':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                break;\n            case 'clearSelection':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onClearAllInit();\n                break;\n            case 'selectAll':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onSelectAllInit();\n                break;\n        }\n    }\n    getItemsIndex(items) {\n        const indexes = [];\n        const isFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        const filterName = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !isFilter) {\n            for (let i = 0, len = this.items.length; i < len; i++) {\n                if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        else {\n            for (let i = 0, len = this.items.length; i < len; i++) {\n                const name = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n                if ((items.indexOf(name) !== -1) || (items.indexOf(getValue(filterName, this.items[i])) !== -1)) {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    }\n    deleteFiles(ids) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNullOrUndefined(ids)) {\n            this.performDelete();\n            return;\n        }\n        const indexes = this.getItemsIndex(ids);\n        if (indexes.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < indexes.length; i++) {\n            data[i] = this.items[indexes[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    }\n    downloadFiles(ids) {\n        if (isNullOrUndefined(ids)) {\n            this.doDownload();\n            return;\n        }\n        const index = this.getItemsIndex(ids);\n        if (index.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < index.length; i++) {\n            data[i] = this.items[index[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    }\n    openFile(id) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        const indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            this.doOpenAction(this.itemList[indexes[0]]);\n        }\n    }\n    renameFile(id, name) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNullOrUndefined(id)) {\n            this.performRename();\n            return;\n        }\n        const indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            updateRenamingData(this.parent, this.items[indexes[0]]);\n            if (isNullOrUndefined(name)) {\n                doRename(this.parent);\n            }\n            else {\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n                else {\n                    rename(this.parent, this.parent.path, name);\n                }\n            }\n        }\n    }\n}\n\n/**\n * BreadCrumbBar module\n */\nclass BreadCrumbBar {\n    /**\n     * constructor for addressbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies parent element.\n     * @private\n     *\n     */\n    constructor(parent) {\n        this.addressPath = '';\n        this.addressBarLink = '';\n        this.searchTimer = null;\n        this.searchWrapWidth = null;\n        this.parent = parent;\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        this.render();\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            const value = e.newProp.searchSettings;\n            switch (prop) {\n                case 'searchSettings':\n                    if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n                        this.searchEventBind(value.allowSearchOnTyping);\n                    }\n                    if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' &&\n                        !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) &&\n                            isNullOrUndefined(value.ignoreCase))) {\n                        searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n                    }\n                    break;\n            }\n        }\n    }\n    render() {\n        this.addEventListener();\n    }\n    onPathChange() {\n        const pathNames = this.parent.pathNames;\n        const paths = this.parent.path.split('/');\n        const addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        let addressbarLI = null;\n        const pathNamesLen = pathNames.length;\n        if (pathNames.length > 0) {\n            let id = '';\n            for (let i = 0; i < pathNamesLen; i++) {\n                let addressATag = null;\n                addressbarLI = this.parent.createElement('li', { className: 'e-address-list-item' });\n                for (let j = 0; j <= i; j++) {\n                    id = id + paths[j] + '/';\n                }\n                addressbarLI.setAttribute('data-utext', id);\n                if (i !== 0) {\n                    const icon = createElement('span', { className: ICONS });\n                    addressbarLI.appendChild(icon);\n                }\n                if (pathNamesLen - i !== 1) {\n                    addressATag = createElement('a', { className: LIST_TEXT });\n                    addressbarLI.setAttribute('tabindex', '0');\n                }\n                else {\n                    addressATag = createElement('span', { className: LIST_TEXT });\n                }\n                id = '';\n                addressATag.innerText = pathNames[i];\n                addressbarLI.appendChild(addressATag);\n                addressbarUL.appendChild(addressbarLI);\n            }\n            const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n            if (!isNullOrUndefined(ulElement)) {\n                if (!isNullOrUndefined(this.subMenuObj)) {\n                    this.subMenuObj.destroy();\n                }\n                remove(ulElement);\n            }\n            const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n            if (!searchWrap) {\n                this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n            }\n            else {\n                this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n            }\n            this.updateBreadCrumbBar(addressbarUL);\n        }\n    }\n    /* istanbul ignore next */\n    updateBreadCrumbBar(addresBarUL) {\n        const liElements = addresBarUL.querySelectorAll('li');\n        const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n        const style = window.getComputedStyle(ulElement, null);\n        const pRight = parseFloat(style.getPropertyValue('padding-right'));\n        const pLeft = parseFloat(style.getPropertyValue('padding-left'));\n        let breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n        const addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        let liElementsWidth = 0;\n        const liElementsWidths = [];\n        for (let i = 0; i < liElements.length; i++) {\n            const width = liElements[i].clientWidth;\n            liElementsWidths.push(width);\n            liElementsWidth = liElementsWidth + width;\n        }\n        if (!isNullOrUndefined(ulElement)) {\n            remove(ulElement);\n        }\n        const searchContainer = this.parent.createElement('div');\n        searchContainer.setAttribute('class', 'e-search-wrap');\n        const id = this.parent.element.id + SEARCH_ID;\n        const searchInput = createElement('input', { id: id,\n            attrs: { autocomplete: 'off', 'aria-label': getLocaleText(this.parent, 'Search') } });\n        searchContainer.appendChild(searchInput);\n        const searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n        if (isNullOrUndefined(searchEle)) {\n            this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n            const span = createElement('span', { className: 'e-icons e-fe-search' });\n            EventHandler.add(span, 'click', this.onShowInput, this);\n            searchInput.parentElement.insertBefore(span, searchInput);\n            this.searchObj = new TextBox({\n                value: '',\n                showClearButton: true,\n                placeholder: getLocaleText(this.parent, 'Search'),\n                focus: this.onFocus.bind(this),\n                blur: this.onBlur.bind(this)\n            });\n            this.searchObj.appendTo('#' + this.parent.element.id + SEARCH_ID);\n            this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n            const search$$1 = this.searchObj.element.nextElementSibling;\n            EventHandler.add(search$$1, 'mousedown', this.searchChangeHandler.bind(this), this);\n            EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n        }\n        const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n        if (liElementsWidth > breadCrumbBarWidth) {\n            let i = liElements.length;\n            while (i--) {\n                const diff = breadCrumbBarWidth - liElementsWidths[i];\n                if (diff > 40) {\n                    addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n                    breadCrumbBarWidth = diff;\n                }\n                else {\n                    // eslint-disable-next-line\n                    const items = [];\n                    for (let j = 0; j <= i; j++) {\n                        const liElement = liElements[j];\n                        items.push({\n                            text: liElement.innerText,\n                            utext: liElement.getAttribute('data-utext')\n                        });\n                    }\n                    const subMenuLi = this.parent.createElement('li', { className: 'e-breadcrumb-menu' });\n                    // eslint-disable-next-line\n                    const attributes = { className: 'e-breadcrumb-submenu' };\n                    const subMenuSpan = this.parent.createElement('button', attributes);\n                    subMenuLi.appendChild(subMenuSpan);\n                    addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n                    this.subMenuObj = new DropDownButton({\n                        items: items,\n                        cssClass: 'e-caret-hide e-submenu',\n                        iconCss: ICON_BREADCRUMB,\n                        iconPosition: 'Top',\n                        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                        beforeItemRender: this.addSubMenuAttributes.bind(this),\n                        select: this.subMenuSelectOperations.bind(this)\n                    });\n                    this.subMenuObj.isStringTemplate = true;\n                    this.subMenuObj.appendTo(subMenuSpan);\n                    break;\n                }\n            }\n            this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n        }\n        else {\n            this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n        }\n    }\n    /* istanbul ignore next */\n    onFocus() {\n        const wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.add('e-focus');\n    }\n    /* istanbul ignore next */\n    onKeyUp() {\n        this.parent.notify(pathColumn, { args: this.parent });\n    }\n    /* istanbul ignore next */\n    onBlur() {\n        const wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.remove('e-focus');\n    }\n    /* istanbul ignore next */\n    subMenuSelectOperations(event) {\n        // eslint-disable-next-line\n        const args = { target: event.element };\n        this.addressPathClickHandler(args);\n    }\n    /* istanbul ignore next */\n    addSubMenuAttributes(args) {\n        args.element.setAttribute('data-utext', getValue('utext', args.item));\n        const anchor = this.parent.createElement('a', { className: 'e-list-text' });\n        args.element.appendChild(anchor);\n    }\n    searchEventBind(allow) {\n        if (allow) {\n            this.searchObj.input = this.searchChangeHandler.bind(this);\n            this.searchObj.change = null;\n        }\n        else {\n            this.searchObj.change = this.searchChangeHandler.bind(this);\n            this.searchObj.input = null;\n        }\n    }\n    searchChangeHandler(args) {\n        if (!isNullOrUndefined(args.value)) {\n            this.parent.isFiltered = false;\n            if (this.parent.searchSettings.allowSearchOnTyping) {\n                window.clearTimeout(this.searchTimer);\n                this.searchTimer = window.setTimeout(() => { searchWordHandler(this.parent, args.value, false); }, 300);\n            }\n            else {\n                searchWordHandler(this.parent, args.value, false);\n            }\n        }\n    }\n    addressPathClickHandler(e) {\n        const li = e.target;\n        if (li.nodeName === 'LI' || li.nodeName === 'A') {\n            const node = li.nodeName === 'LI' ? li.children[0] : li;\n            if (!isNullOrUndefined(node)) {\n                this.parent.isFiltered = false;\n                const currentPath = this.updatePath(node);\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n                this.triggerFileOpen(this.parent.itemData[0]);\n                read(this.parent, pathChanged, currentPath);\n                const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n                this.parent.notify(updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n            }\n        }\n    }\n    // eslint-disable-next-line\n    triggerFileOpen(data) {\n        const eventArgs = { cancel: false, fileDetails: data, module: 'BreadCrumbBar' };\n        delete eventArgs.cancel;\n        this.parent.trigger('fileOpen', eventArgs);\n    }\n    /* istanbul ignore next */\n    onShowInput() {\n        if (this.parent.isMobile) {\n            if (this.parent.element.classList.contains(FILTER)) {\n                removeClass([this.parent.element], FILTER);\n                this.searchWrapWidth = null;\n            }\n            else {\n                const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n                this.searchWrapWidth = searchWrap.offsetWidth;\n                addClass([this.parent.element], FILTER);\n                this.searchObj.element.focus();\n            }\n        }\n    }\n    updatePath(list) {\n        const li = closest(list, 'li');\n        const liElementId = li.getAttribute('data-utext');\n        this.addressBarLink = liElementId;\n        const link = this.addressBarLink.split('/');\n        const ids = this.parent.pathId;\n        const names = this.parent.pathNames;\n        this.parent.pathId = [];\n        this.parent.pathNames = [];\n        let newpath = '';\n        for (let i = 0, len = link.length - 1; i < len; i++) {\n            this.parent.pathId.push(ids[i]);\n            this.parent.pathNames.push(names[i]);\n            newpath += link[i] + '/';\n        }\n        this.parent.setProperties({ path: newpath }, true);\n        return newpath;\n    }\n    onUpdatePath() {\n        this.onPathChange();\n        this.removeSearchValue();\n    }\n    onCreateEnd() {\n        this.onPathChange();\n    }\n    onRenameEnd() {\n        this.onPathChange();\n    }\n    /* istanbul ignore next */\n    onDeleteEnd() {\n        this.onUpdatePath();\n    }\n    /* istanbul ignore next */\n    removeSearchValue() {\n        this.parent.isFiltered = false;\n        if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n            this.searchObj.value = '';\n            this.searchObj.element.value = '';\n            this.searchObj.dataBind();\n        }\n    }\n    onResize() {\n        this.onPathChange();\n    }\n    onPasteEnd() {\n        this.onPathChange();\n    }\n    addEventListener() {\n        this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(pathChanged, this.onUpdatePath, this);\n        this.parent.on(finalizeEnd, this.onUpdatePath, this);\n        this.parent.on(refreshEnd, this.onUpdatePath, this);\n        this.parent.on(openEnd, this.onUpdatePath, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(renameEnd, this.onRenameEnd, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(splitterResize, this.onResize, this);\n        this.parent.on(pasteEnd, this.onPasteEnd, this);\n        this.parent.on(resizeEnd, this.onResize, this);\n        this.parent.on(searchTextChange, this.onSearchTextChange, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(layoutRefresh, this.onResize, this);\n        this.parent.on(dropPath, this.onPathChange, this);\n    }\n    keyActionHandler(e) {\n        switch (e.action) {\n            case 'enter':\n                this.addressPathClickHandler(e);\n                break;\n        }\n    }\n    removeEventListener() {\n        this.keyboardModule.destroy();\n        this.parent.off(pathChanged, this.onUpdatePath);\n        this.parent.off(finalizeEnd, this.onUpdatePath);\n        this.parent.off(refreshEnd, this.onUpdatePath);\n        this.parent.off(openEnd, this.onUpdatePath);\n        this.parent.off(pasteEnd, this.onPasteEnd);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(renameEnd, this.onRenameEnd);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(splitterResize, this.onResize);\n        this.parent.off(resizeEnd, this.onResize);\n        this.parent.off(searchTextChange, this.onSearchTextChange);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(layoutRefresh, this.onResize);\n        this.parent.off(dropPath, this.onPathChange);\n    }\n    /* istanbul ignore next */\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            const liEle = args.target.closest('li');\n            this.parent.dropPath = this.updatePath((liEle.children[0]));\n            this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            this.triggerFileOpen(this.parent.dropData);\n            const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n            this.parent.notify(updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name\n     * @private\n     */\n    getModuleName() {\n        return 'breadcrumbbar';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(this.subMenuObj)) {\n            this.subMenuObj.destroy();\n        }\n        if (!isNullOrUndefined(this.searchObj)) {\n            this.searchObj.destroy();\n        }\n    }\n    onSearchTextChange(args) {\n        this.searchObj.element.placeholder = (this.parent.searchSettings.placeholder != null) ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n    }\n}\n\n/**\n * ContextMenu module\n */\nclass ContextMenu$2 {\n    /**\n     * Constructor for the ContextMenu module\n     *\n     * @param {IFileManager} parent - Specifies the parent element.\n     * @hidden\n     */\n    constructor(parent) {\n        this.currentItems = [];\n        this.currentElement = null;\n        this.disabledItems = [];\n        this.parent = parent;\n        this.render();\n    }\n    render() {\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            uparrow: 'uparrown'\n        };\n        this.contextMenu = new ContextMenu({\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: '#' + this.parent.element.id,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.onBeforeItemRender.bind(this),\n            select: this.onSelect.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this),\n            cssClass: getCssClass(this.parent, ROOT_POPUP)\n        });\n        this.contextMenu.isStringTemplate = true;\n        this.contextMenu.appendTo('#' + this.parent.element.id + CONTEXT_MENU_ID);\n        this.addEventListener();\n    }\n    /* istanbul ignore next */\n    onBeforeItemRender(args) {\n        if (args.item.id === this.getMenuId('largeiconsview')) {\n            const iconSpan = createElement('span');\n            const element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', ICON_LARGE + ' ' + MENU_ICON);\n        }\n        if (args.item.id === this.getMenuId('detailsview')) {\n            const iconSpan = createElement('span');\n            const element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', ICON_GRID + ' ' + MENU_ICON);\n        }\n    }\n    onBeforeClose() {\n        this.menuTarget = null;\n    }\n    /* istanbul ignore next */\n    onBeforeOpen(args) {\n        this.disabledItems = [];\n        let selected = false;\n        let uid;\n        // eslint-disable-next-line\n        let data;\n        let treeFolder = false;\n        let target = args.event.target;\n        this.menuTarget = this.targetNodeElement = target;\n        this.currentElement = args.element;\n        if (target.classList.contains('e-spinner-pane')) {\n            target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(FULLROW)[0];\n            this.menuTarget = this.targetNodeElement = target;\n        }\n        this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n        const view = this.getTargetView(target);\n        this.updateActiveModule();\n        /* istanbul ignore next */\n        if (target.classList.contains(TREE_VIEW) || closest(target, 'th') ||\n            (closest(target, '#' + this.parent.element.id + BREADCRUMBBAR_ID)) ||\n            (closest(target, '#' + this.parent.element.id + TOOLBAR_ID))) {\n            args.cancel = true;\n            // eslint:disable-next-line\n        }\n        else if (!(this.parent.view === 'LargeIcons') && this.targetElement &&\n            this.targetElement.classList.contains('e-emptyrow')) {\n            this.setLayoutItem(target);\n            /* istanbul ignore next */\n        }\n        else if (closest(target, '.' + EMPTY)) {\n            this.setLayoutItem(target);\n            // eslint:disable-next-line\n        }\n        else if (!target.classList.contains(MENU_ITEM) &&\n            !target.classList.contains(MENU_ICON) && !target.classList.contains(SUBMENU_ICON)) {\n            /* istanbul ignore next */\n            // eslint:disable-next-line\n            if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + TREE_ID)) {\n                const eveArgs = { ctrlKey: true, shiftKey: true };\n                if (!closest(target, 'li').classList.contains('e-active')) {\n                    this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n                }\n                // eslint-disable-next-line\n                data = this.parent.visitedData;\n                selected = true;\n            }\n            else if (!isNullOrUndefined(closest(target, 'tr.e-row'))) {\n                uid = this.targetElement.getAttribute('data-uid');\n                // eslint-disable-next-line\n                data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n                if (isNullOrUndefined(this.targetElement.getAttribute('aria-selected'))) {\n                    /* istanbul ignore next */\n                    this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('aria-rowindex'), 10)]);\n                }\n                selected = true;\n                /* istanbul ignore next */\n            }\n            else if (closest(target, '#' + this.parent.element.id + TREE_ID)) {\n                uid = closest(target, 'li').getAttribute('data-uid');\n                treeFolder = true;\n            }\n            /* istanbul ignore next */\n            if (selected) {\n                if (getValue('isFile', data) === true) {\n                    this.setFileItem();\n                }\n                else {\n                    this.setFolderItem(false);\n                }\n                /* istanbul ignore next */\n            }\n            else if (treeFolder) {\n                this.setFolderItem(true);\n                if (uid === this.parent.pathId[0]) {\n                    this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n                }\n                /* istanbul ignore next */\n                // eslint:disable-next-line\n            }\n            else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n                this.setLayoutItem(target);\n                /* istanbul ignore next */\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        const pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n        if (!args.cancel && !this.parent.enablePaste &&\n            pasteEle && !pasteEle.classList.contains('e-disabled')) {\n            this.disabledItems.push('Paste');\n        }\n        if (args.cancel) {\n            this.menuTarget = this.currentElement = null;\n            return;\n        }\n        this.contextMenu.dataBind();\n        let isSubMenu = false;\n        if (target.classList.contains(MENU_ITEM) ||\n            target.classList.contains(MENU_ICON) || target.classList.contains(SUBMENU_ICON)) {\n            isSubMenu = true;\n        }\n        this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n        const eventArgs = {\n            fileDetails: [this.menuItemData],\n            element: args.element,\n            target: target,\n            items: isSubMenu ? args.items : this.contextMenu.items,\n            menuModule: this.contextMenu,\n            cancel: false,\n            menuType: this.menuType,\n            isSubMenu: isSubMenu\n        };\n        this.currentItems = eventArgs.items;\n        this.parent.trigger('menuOpen', eventArgs, (menuOpenArgs) => {\n            if (!isSubMenu) {\n                this.contextMenu.dataBind();\n                this.contextMenu.items = menuOpenArgs.items;\n                this.contextMenu.dataBind();\n            }\n            this.enableItems(this.disabledItems, false, true);\n            args.cancel = menuOpenArgs.cancel;\n            if (menuOpenArgs.cancel) {\n                this.menuTarget = this.targetNodeElement = this.currentElement = null;\n            }\n        });\n    }\n    updateActiveModule() {\n        this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + TREE_ID) ?\n            'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + GRID_ID) ?\n            'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + LARGEICON_ID) ?\n            'largeiconsview' : this.parent.activeModule;\n    }\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @returns {string} -returns the target view.\n     * @hidden\n     */\n    getTargetView(target) {\n        return target.classList.contains(TREE_VIEW) ?\n            'TreeView' : target.classList.contains(GRID_VIEW) ?\n            'GridView' : target.classList.contains(ICON_VIEW) ?\n            'LargeIcon' : target.classList.contains(LARGE_ICONS) ?\n            'LargeIcon' : '';\n    }\n    getItemIndex(item) {\n        const itemId = this.getMenuId(item);\n        for (let i = 0; i < this.currentItems.length; i++) {\n            if ((this.currentItems[i].id === itemId) || (this.currentItems[i].id === item)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    disableItem(items) {\n        if (items.length !== 0) {\n            this.disabledItems = this.disabledItems.concat(items);\n        }\n    }\n    enableItems(items, enable, isUniqueId) {\n        for (let i = 0; i < items.length; i++) {\n            if (this.checkValidItem(items[i]) === 1) {\n                this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n            }\n            else if (this.checkValidItem(items[i]) === 2) {\n                this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n            }\n        }\n    }\n    setFolderItem(isTree) {\n        this.menuType = 'folder';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map((item) => item.trim()));\n        this.contextMenu.dataBind();\n        if (isTree) {\n            this.disabledItems.push('Open');\n        }\n        else if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename', 'Paste');\n        }\n    }\n    setFileItem() {\n        this.menuType = 'file';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map((item) => item.trim()));\n        this.contextMenu.dataBind();\n        if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename');\n        }\n    }\n    setLayoutItem(target) {\n        this.menuType = 'layout';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map((item) => item.trim()));\n        this.contextMenu.dataBind();\n        if (!this.parent.allowMultiSelection || ((this.parent.view === 'LargeIcons' &&\n            (closest(target, '#' + this.parent.element.id + LARGEICON_ID).getElementsByClassName(EMPTY).length !== 0))\n            || (this.parent.view === 'Details' &&\n                (closest(target, '#' + this.parent.element.id + GRID_ID).getElementsByClassName(EMPTY).length !== 0)))) {\n            this.disabledItems.push('SelectAll');\n        }\n        if (this.parent.selectedNodes.length === 0) {\n            this.disabledItems.push('Paste');\n        }\n        this.contextMenu.dataBind();\n    }\n    checkValidItem(nameEle) {\n        if (!isNullOrUndefined(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n            return 1;\n        }\n        else if (!isNullOrUndefined(select('#' + nameEle, this.currentElement))) {\n            return 2;\n        }\n        else {\n            return -1;\n        }\n    }\n    // eslint-disable-next-line\n    getMenuItemData() {\n        if (this.menuType === 'layout') {\n            return getPathObject(this.parent);\n        }\n        else {\n            // eslint-disable-next-line\n            const args = { target: this.menuTarget };\n            this.parent.notify(menuItemData, args);\n            return this.parent.itemData[0];\n        }\n    }\n    /* istanbul ignore next */\n    onSelect(args) {\n        if (isNullOrUndefined(args.item) || !args.item.id) {\n            return;\n        }\n        const itemText = args.item.id.substr((this.parent.element.id + '_cm_').length);\n        // eslint-disable-next-line\n        let details;\n        if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(selectedData, {});\n            if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n                details = [this.menuItemData];\n            }\n            else {\n                details = this.parent.itemData;\n            }\n        }\n        const eventArgs = {\n            cancel: false,\n            element: args.element,\n            fileDetails: details,\n            item: args.item\n        };\n        this.parent.trigger('menuClick', eventArgs, (menuClickArgs) => {\n            let sItems;\n            if (!menuClickArgs.cancel) {\n                // eslint:disable-next-line\n                switch (itemText) {\n                    case 'cut':\n                        cutFiles(this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(this.parent);\n                        break;\n                    case 'paste':\n                        if (this.menuType === 'folder') {\n                            if ((this.parent.activeModule === 'largeiconsview') || (this.parent.activeModule === 'detailsview')) {\n                                this.parent.folderPath = getFullPath(this.parent, this.menuItemData, this.parent.path);\n                            }\n                            else {\n                                this.parent.folderPath = '';\n                            }\n                        }\n                        else {\n                            this.parent.folderPath = '';\n                        }\n                        pasteHandler(this.parent);\n                        break;\n                    case 'delete':\n                        for (let j = 0; j < details.length; j++) {\n                            if (!hasEditAccess(details[j])) {\n                                createDeniedDialog(this.parent, details[j], permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(this.parent, 'Delete');\n                        break;\n                    /* istanbul ignore next */\n                    case 'download':\n                        for (let i = 0; i < details.length; i++) {\n                            if (!hasDownloadAccess(details[i])) {\n                                createDeniedDialog(this.parent, details[i], permissionDownload);\n                                return;\n                            }\n                        }\n                        if (this.parent.activeModule === 'navigationpane') {\n                            this.parent.notify(downloadInit, {});\n                        }\n                        else if (this.parent.selectedItems.length > 0) {\n                            Download(this.parent, this.parent.path, this.parent.selectedItems);\n                        }\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(this.parent, details[0], permissionEdit);\n                        }\n                        else {\n                            this.parent.notify(renameInit, {});\n                            createDialog(this.parent, 'Rename');\n                        }\n                        break;\n                    case 'selectall':\n                        /* istanbul ignore next */\n                        this.parent.notify(selectAllInit, {});\n                        break;\n                    case 'refresh':\n                        refresh(this.parent);\n                        break;\n                    case 'open':\n                        if (this.parent.visitedItem) {\n                            this.parent.notify(openInit, { target: this.parent.visitedItem });\n                        }\n                        else if (this.parent.activeModule === 'navigationpane') {\n                            this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(this.targetNodeElement, 'li'));\n                        }\n                        break;\n                    case 'details':\n                        this.parent.notify(detailsInit, {});\n                        sItems = this.parent.selectedItems;\n                        if (this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(this.parent, sItems, this.parent.path, 'details');\n                        break;\n                    case 'newfolder':\n                        createNewFolder(this.parent);\n                        break;\n                    case 'upload':\n                        uploadItem(this.parent);\n                        break;\n                    /* istanbul ignore next */\n                    case 'name':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'size':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'date':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'ascending':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'descending':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    case 'none':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'largeiconsview':\n                        updateLayout(this.parent, 'LargeIcons');\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'detailsview':\n                        updateLayout(this.parent, 'Details');\n                        break;\n                }\n            }\n        });\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'cssClass':\n                    this.contextMenu.cssClass = getCssClass(this.parent, ROOT_POPUP);\n                    break;\n            }\n        }\n    }\n    addEventListener() {\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    removeEventListener() {\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.keyboardModule.destroy();\n    }\n    keyActionHandler(e) {\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n                e.preventDefault();\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    getModuleName() {\n        return 'contextmenu';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        this.contextMenu.destroy();\n    }\n    /* istanbul ignore next */\n    getItemData(data) {\n        const items = [];\n        for (let i = 0; i < data.length; i++) {\n            let item;\n            const itemId = this.getMenuId(data[i]);\n            const itemText = getLocaleText(this.parent, data[i]);\n            switch (data[i]) {\n                case '|':\n                    item = { separator: true };\n                    break;\n                case 'Open':\n                    item = { id: itemId, text: itemText, iconCss: ICON_OPEN };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, iconCss: ICON_UPLOAD };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, iconCss: ICON_CUT };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, iconCss: ICON_COPY };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, iconCss: ICON_PASTE };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DELETE };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, iconCss: ICON_RENAME };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, iconCss: ICON_NEWFOLDER };\n                    break;\n                case 'Details':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DETAILS };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, text: itemText, iconCss: ICON_SHORTBY,\n                        items: [\n                            {\n                                id: this.getMenuId('Name'), text: getLocaleText(this.parent, 'Name'),\n                                iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Size'), text: getLocaleText(this.parent, 'Size'),\n                                iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Date'), text: getLocaleText(this.parent, 'DateModified'),\n                                iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : null\n                            },\n                            { separator: true },\n                            {\n                                id: this.getMenuId('Ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                                iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('Descending'), text: getLocaleText(this.parent, 'Descending'),\n                                iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('None'), text: getLocaleText(this.parent, 'None'),\n                                iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                /* istanbul ignore next */\n                case 'View':\n                    item = {\n                        id: itemId, text: itemText, iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                        items: [\n                            {\n                                id: this.getMenuId('largeiconsview'), text: getLocaleText(this.parent, 'View-LargeIcons'),\n                                iconCss: this.parent.view === 'Details' ? null : TB_OPTION_TICK\n                            },\n                            {\n                                id: this.getMenuId('detailsview'), text: getLocaleText(this.parent, 'View-Details'),\n                                iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, iconCss: ICON_REFRESH };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, iconCss: ICON_SELECTALL };\n                    break;\n                /* istanbul ignore next */\n                case 'Download':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DOWNLOAD };\n                    break;\n                /* istanbul ignore next */\n                default:\n                    item = { id: itemId, text: itemText };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    }\n    getMenuId(id) {\n        return this.parent.element.id + '_cm_' + id.toLowerCase();\n    }\n}\n\n/**\n * Specifies the default locale of FileManager component\n */\n// eslint-disable-next-line\nconst defaultLocale = {\n    'NewFolder': 'New folder',\n    'Upload': 'Upload',\n    'Delete': 'Delete',\n    'Rename': 'Rename',\n    'Download': 'Download',\n    'Cut': 'Cut',\n    'Copy': 'Copy',\n    'Paste': 'Paste',\n    'SortBy': 'Sort by',\n    'Refresh': 'Refresh',\n    'Item-Selection': 'item selected',\n    'Items-Selection': 'items selected',\n    'View': 'View',\n    'Details': 'Details',\n    'SelectAll': 'Select all',\n    'Open': 'Open',\n    'Tooltip-NewFolder': 'New folder',\n    'Tooltip-Upload': 'Upload',\n    'Tooltip-Delete': 'Delete',\n    'Tooltip-Rename': 'Rename',\n    'Tooltip-Download': 'Download',\n    'Tooltip-Cut': 'Cut',\n    'Tooltip-Copy': 'Copy',\n    'Tooltip-Paste': 'Paste',\n    'Tooltip-SortBy': 'Sort by',\n    'Tooltip-Refresh': 'Refresh',\n    'Tooltip-Selection': 'Clear selection',\n    'Tooltip-View': 'View',\n    'Tooltip-Details': 'Details',\n    'Tooltip-SelectAll': 'Select all',\n    'Name': 'Name',\n    'Size': 'Size',\n    'DateModified': 'Modified',\n    'DateCreated': 'Date created',\n    'Path': 'Path',\n    'Modified': 'Modified',\n    'Created': 'Created',\n    'Location': 'Location',\n    'Type': 'Type',\n    'Permission': 'Permission',\n    'Ascending': 'Ascending',\n    'Descending': 'Descending',\n    'None': 'None',\n    'View-LargeIcons': 'Large icons',\n    'View-Details': 'Details',\n    'Search': 'Search',\n    'Button-Ok': 'OK',\n    'Button-Cancel': 'Cancel',\n    'Button-Yes': 'Yes',\n    'Button-No': 'No',\n    'Button-Create': 'Create',\n    'Button-Save': 'Save',\n    'Header-NewFolder': 'Folder',\n    'Content-NewFolder': 'Enter your folder name',\n    'Header-Rename': 'Rename',\n    'Content-Rename': 'Enter your new name',\n    'Header-Rename-Confirmation': 'Rename Confirmation',\n    'Content-Rename-Confirmation': 'If you change a file name extension, the file might become unstable. ' +\n        'Are you sure you want to change it?',\n    'Header-Delete': 'Delete File',\n    'Content-Delete': 'Are you sure you want to delete this file?',\n    'Header-Folder-Delete': 'Delete Folder',\n    'Content-Folder-Delete': 'Are you sure you want to delete this folder?',\n    'Header-Multiple-Delete': 'Delete Multiple Items',\n    'Content-Multiple-Delete': 'Are you sure you want to delete these {0} items?',\n    'Header-Duplicate': 'File/Folder exists',\n    'Content-Duplicate': '{0} already exists. Do you want to rename and paste?',\n    'Header-Upload': 'Upload Files',\n    'Error': 'Error',\n    'Validation-Empty': 'The file or folder name cannot be empty.',\n    'Validation-Invalid': 'The file or folder name {0} contains invalid characters. Please use a different name. ' +\n        // eslint-disable-next-line no-useless-escape\n        'Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\\\/:*?\\\"<>|',\n    'Validation-NewFolder-Exists': 'A file or folder with the name {0} already exists.',\n    'Validation-Rename-Exists': 'Cannot rename {0} to {1}: destination already exists.',\n    'Folder-Empty': 'This folder is empty',\n    'File-Upload': 'Drag files here to upload',\n    'Search-Empty': 'No results found',\n    'Search-Key': 'Try with different keywords',\n    'Filter-Empty': 'No results found',\n    'Filter-Key': 'Try with different filter',\n    'Sub-Folder-Error': 'The destination folder is the subfolder of the source folder.',\n    'Same-Folder-Error': 'The destination folder is the same as the source folder.',\n    'Access-Denied': 'Access Denied',\n    'Access-Details': 'You don\"t have permission to access this folder.',\n    'Header-Retry': 'File Already Exists',\n    'Content-Retry': 'A file with this name already exists in this folder. What would you like to do?',\n    'Button-Keep-Both': 'Keep both',\n    'Button-Replace': 'Replace',\n    'Button-Skip': 'Skip',\n    'ApplyAll-Label': 'Do this for all current items',\n    'KB': 'KB',\n    'Access-Message': '{0} is not accessible. You need permission to perform the {1} action.',\n    'Network-Error': 'NetworkError: Failed to send on XMLHTTPRequest: Failed to load',\n    'Server-Error': 'ServerError: Invalid response from'\n};\n\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FileManager_1;\n/**\n * The FileManager component allows users to access and manage the file system through the web  browser. It can performs the\n * functionalities like add, rename, search, sort, upload and delete files or folders. And also it\n * provides an easy way of  dynamic injectable modules like toolbar, navigationpane, detailsview, largeiconsview.\n * ```html\n *  <div id=\"file\"></div>\n * ```\n * ```typescript,\n *  let feObj: FileManager = new FileManager();\n *  feObj.appendTo('#file');\n * ```\n */\nlet FileManager = FileManager_1 = class FileManager extends Component {\n    constructor(options, element) {\n        super(options, element);\n        // eslint-disable-next-line\n        this.filterData = null;\n        this.selectedNodes = [];\n        this.duplicateItems = [];\n        // eslint-disable-next-line\n        this.duplicateRecords = [];\n        this.previousPath = [];\n        this.nextPath = [];\n        this.isLayoutChange = false;\n        this.layoutSelectedItems = [];\n        this.renamedId = null;\n        this.uploadItem = [];\n        this.deleteRecords = [];\n        this.isFile = false;\n        this.isCut = false;\n        this.isSearchCut = false;\n        this.isSearchDrag = false;\n        this.isPasteError = false;\n        this.folderPath = '';\n        this.isSameAction = false;\n        this.isFiltered = false;\n        // Specifies whether the sort by option is clicked or not.\n        this.isSortByClicked = false;\n        this.enablePaste = false;\n        this.persistData = false;\n        this.retryArgs = [];\n        this.isOpened = false;\n        this.isRetryOpened = false;\n        this.isPathDrag = false;\n        // eslint-disable-next-line\n        this.searchedItems = [];\n        this.retryFiles = [];\n        this.isApplySame = false;\n        // eslint-disable-next-line\n        this.dragData = [];\n        this.dragNodes = [];\n        this.dragPath = '';\n        this.dropPath = '';\n        this.isDragDrop = false;\n        this.treeExpandTimer = null;\n        this.dragCursorPosition = { left: 44, top: 18 };\n        this.isDropEnd = false;\n        this.dragCount = 0;\n        // eslint-disable-next-line\n        this.droppedObjects = [];\n        this.uploadingCount = 0;\n        this.uploadedCount = 0;\n        //Specifies whether the operating system is MAC or not\n        this.isMac = false;\n        FileManager_1.Inject(BreadCrumbBar, LargeIconsView, ContextMenu$2);\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    getModuleName() {\n        return 'filemanager';\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    preRender() {\n        if (isNullOrUndefined(this.element.id) || this.element.id === '') {\n            this.element.setAttribute('id', getUniqueID('filemanager'));\n        }\n        this.ensurePath();\n        this.feParent = [];\n        this.feFiles = [];\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.isDevice = Browser.isDevice;\n        this.isMobile = this.checkMobile();\n        if (this.isMobile) {\n            this.setProperties({ navigationPaneSettings: { visible: false } }, true);\n        }\n        const ele = closest(this.element, '.e-bigger');\n        this.isBigger = ele ? true : false;\n        this.activeModule = (this.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n        createSpinner({ target: this.element }, createElement);\n        this.addWrapper();\n        this.keyConfigs = {\n            altN: 'alt+n',\n            f5: 'f5',\n            ctrlShift1: 'ctrl+shift+1',\n            ctrlShift2: 'ctrl+shift+2',\n            ctrlU: 'ctrl+u'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n    }\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string} - returns the persisted data.\n     * @hidden\n     */\n    getPersistData() {\n        const keyEntity = ['view', 'path', 'selectedItems'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    requiredModules() {\n        const modules = [];\n        modules.push({\n            member: 'breadcrumbbar',\n            args: [this]\n        });\n        modules.push({\n            member: 'largeiconsview',\n            args: [this]\n        });\n        if (this.toolbarSettings.visible) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.navigationPaneSettings.visible) {\n            modules.push({\n                member: 'navigationpane',\n                args: [this]\n            });\n        }\n        if (this.view) {\n            modules.push({\n                member: 'detailsview',\n                args: [this]\n            });\n        }\n        if (this.contextMenuSettings.visible && !this.isDevice) {\n            modules.push({\n                member: 'contextmenu',\n                args: [this]\n            });\n        }\n        return modules;\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialize();\n        const slItems = isNullOrUndefined(this.selectedItems) ? [] :\n            this.allowMultiSelection ? this.selectedItems : this.selectedItems.slice(this.selectedItems.length - 1);\n        this.setProperties({ selectedItems: slItems }, true);\n        this.fileView = this.view;\n        this.isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n        this.setRtl(this.enableRtl);\n        this.addEventListeners();\n        read(this, (this.path !== this.originalPath) ? initialEnd : finalizeEnd, this.path);\n        this.adjustHeight();\n        if (isNullOrUndefined(this.navigationpaneModule)) {\n            this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n            const bar = select('.' + SPLIT_BAR, this.element);\n            bar.classList.add(DISPLAY_NONE);\n        }\n        this.wireEvents();\n        this.renderComplete();\n    }\n    ensurePath() {\n        let currentPath = this.path;\n        if (isNullOrUndefined(currentPath)) {\n            currentPath = '/';\n        }\n        if (currentPath.lastIndexOf('/') !== (currentPath.length - 1)) {\n            currentPath = currentPath + '/';\n        }\n        this.originalPath = currentPath;\n        const paths = currentPath.split('/');\n        this.setProperties({ path: paths[0] + '/' }, true);\n        this.pathNames = [];\n        this.pathId = ['fe_tree'];\n        this.itemData = [];\n    }\n    initialize() {\n        if (this.isMobile) {\n            addClass([this.element], MOBILE);\n        }\n        if (this.allowMultiSelection) {\n            addClass([this.element], CHECK_SELECT);\n        }\n        this.addCssClass(null, this.cssClass);\n        this.renderFileUpload();\n    }\n    addWrapper() {\n        const headerWrap = this.createElement('div', { id: this.element.id + TOOLBAR_ID });\n        this.element.appendChild(headerWrap);\n        const layoutWrap = this.createElement('div', {\n            id: this.element.id + LAYOUT_ID, className: LAYOUT\n        });\n        this.element.appendChild(layoutWrap);\n        const navigationWrap = this.createElement('div', {\n            id: this.element.id + NAVIGATION_ID, className: NAVIGATION\n        });\n        const treeWrap = this.createElement('div', {\n            id: this.element.id + TREE_ID\n        });\n        navigationWrap.appendChild(treeWrap);\n        const contentWrap = this.createElement('div', {\n            id: this.element.id + CONTENT_ID, className: LAYOUT_CONTENT\n        });\n        this.breadCrumbBarNavigation = this.createElement('div', {\n            id: this.element.id + BREADCRUMBBAR_ID,\n            className: BREADCRUMBS\n        });\n        contentWrap.appendChild(this.breadCrumbBarNavigation);\n        const gridWrap = this.createElement('div', {\n            id: this.element.id + GRID_ID\n        });\n        contentWrap.appendChild(gridWrap);\n        const largeiconWrap = this.createElement('div', {\n            id: this.element.id + LARGEICON_ID,\n            className: LARGE_ICONS, attrs: { 'role': 'group' }\n        });\n        contentWrap.appendChild(largeiconWrap);\n        const overlay = this.createElement('span', { className: OVERLAY });\n        contentWrap.appendChild(overlay);\n        let paneSettings;\n        if (!this.enableRtl) {\n            layoutWrap.appendChild(navigationWrap);\n            layoutWrap.appendChild(contentWrap);\n            paneSettings = [\n                {\n                    size: '25%', min: this.navigationPaneSettings.minWidth.toString(),\n                    max: this.navigationPaneSettings.maxWidth.toString()\n                },\n                { size: '75%', min: '270px' }\n            ];\n        }\n        else {\n            layoutWrap.appendChild(contentWrap);\n            layoutWrap.appendChild(navigationWrap);\n            paneSettings = [\n                { size: '75%', min: '270px' },\n                {\n                    size: '25%', min: this.navigationPaneSettings.minWidth.toString(),\n                    max: this.navigationPaneSettings.maxWidth.toString()\n                }\n            ];\n        }\n        this.splitterObj = new Splitter({\n            paneSettings: paneSettings,\n            width: '100%',\n            enableRtl: false,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            resizing: this.splitterResize.bind(this)\n        });\n        this.splitterObj.isStringTemplate = true;\n        this.splitterObj.appendTo(layoutWrap);\n        const dialogWrap = this.createElement('div', { id: this.element.id + DIALOG_ID });\n        this.element.appendChild(dialogWrap);\n        const menuWrap = this.createElement('ul', { id: this.element.id + CONTEXT_MENU_ID });\n        this.element.appendChild(menuWrap);\n        const dialogImgWrap = this.createElement('div', { id: this.element.id + IMG_DIALOG_ID });\n        this.element.appendChild(dialogImgWrap);\n        const extnDialogWrap = this.createElement('div', { id: this.element.id + EXTN_DIALOG_ID });\n        this.element.appendChild(extnDialogWrap);\n        const uploadDialogWrap = this.createElement('div', { id: this.element.id + UPLOAD_DIALOG_ID });\n        this.element.appendChild(uploadDialogWrap);\n    }\n    adjustHeight() {\n        const toolbar = select('#' + this.element.id + TOOLBAR_ID, this.element);\n        const toolBarHeight = toolbar ? toolbar.offsetHeight : 0;\n        if (this.splitterObj) {\n            this.splitterObj.height = (this.element.clientHeight - toolBarHeight).toString();\n            this.splitterObj.dataBind();\n        }\n    }\n    /* istanbul ignore next */\n    splitterResize() {\n        this.notify(splitterResize, {});\n    }\n    splitterAdjust() {\n        const bar = select('.' + SPLIT_BAR, this.element);\n        if (this.navigationPaneSettings.visible) {\n            this.splitterObj.expand(this.enableRtl ? 1 : 0);\n            bar.classList.remove(DISPLAY_NONE);\n        }\n        else {\n            this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n            bar.classList.add(DISPLAY_NONE);\n        }\n    }\n    addCssClass(oldOne, newOne) {\n        if (!isNullOrUndefined(oldOne) && oldOne !== '') {\n            removeClass([this.element], oldOne.split(' '));\n        }\n        if (!isNullOrUndefined(newOne) && newOne !== '') {\n            addClass([this.element], newOne.split(' '));\n        }\n    }\n    showSpinner() {\n        showSpinner(this.element);\n    }\n    hideSpinner() {\n        hideSpinner(this.element);\n    }\n    onContextMenu(e) {\n        e.preventDefault();\n    }\n    checkMobile() {\n        return (/iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(Browser.userAgent.toLowerCase())\n            && /mobile/i.test(Browser.userAgent.toLowerCase()));\n    }\n    renderFileUpload() {\n        const id = this.element.id + UPLOAD_ID;\n        const uploadEle = this.createElement('input', { id: id, attrs: { name: 'uploadFiles', type: 'file' } });\n        this.element.appendChild(uploadEle);\n        this.uploadDialogObj = new Dialog({\n            header: getLocaleText(this, 'Header-Upload'),\n            content: uploadEle,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: false,\n            isModal: true,\n            width: '350px',\n            target: this.popupTarget ? this.popupTarget : '#' + this.element.id,\n            cssClass: getCssClass(this, this.isMobile ? MOB_POPUP : ROOT_POPUP),\n            locale: this.locale,\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: this.enableRtl,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            open: this.onOpen.bind(this),\n            close: this.onClose.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this)\n        });\n        this.uploadDialogObj.appendTo('#' + this.element.id + UPLOAD_DIALOG_ID);\n        this.renderUploadBox();\n    }\n    renderUploadBox() {\n        const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n        this.uploadObj = new Uploader({\n            dropArea: select('#' + this.element.id + CONTENT_ID, this.element),\n            asyncSettings: {\n                saveUrl: uploadUrl,\n                removeUrl: uploadUrl\n            },\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            uploading: this.onUploading.bind(this),\n            removing: this.onRemoving.bind(this),\n            canceling: this.onCancel.bind(this),\n            clearing: this.onClearing.bind(this),\n            selected: this.onSelected.bind(this),\n            success: this.onUploadSuccess.bind(this),\n            failure: this.onUploadFailure.bind(this),\n            autoUpload: this.uploadSettings.autoUpload,\n            minFileSize: this.uploadSettings.minFileSize,\n            maxFileSize: this.uploadSettings.maxFileSize,\n            allowedExtensions: this.uploadSettings.allowedExtensions,\n            fileListRendering: this.onFileListRender.bind(this)\n        });\n        this.uploadObj.appendTo('#' + this.element.id + UPLOAD_ID);\n    }\n    onFileListRender(args) {\n        this.trigger('uploadListCreate', args);\n    }\n    updateUploader() {\n        this.uploadObj.autoUpload = this.uploadSettings.autoUpload;\n        this.uploadObj.minFileSize = this.uploadSettings.minFileSize;\n        this.uploadObj.maxFileSize = this.uploadSettings.maxFileSize;\n        this.uploadObj.allowedExtensions = this.uploadSettings.allowedExtensions;\n        this.uploadObj.dataBind();\n    }\n    onBeforeOpen(args) {\n        const eventArgs = {\n            cancel: args.cancel, popupName: 'Upload', popupModule: this.uploadDialogObj\n        };\n        this.trigger('beforePopupOpen', eventArgs, (eventargs) => {\n            args.cancel = eventargs.cancel;\n        });\n    }\n    onBeforeClose(args) {\n        const eventArgs = {\n            cancel: args.cancel, popupName: 'Upload', popupModule: this.uploadDialogObj\n        };\n        this.trigger('beforePopupClose', eventArgs, (eventargs) => {\n            args.cancel = eventargs.cancel;\n        });\n    }\n    onOpen() {\n        this.isOpened = true;\n        this.uploadDialogObj.element.focus();\n        const args = {\n            popupModule: this.uploadDialogObj, popupName: 'Upload',\n            element: this.uploadDialogObj.element\n        };\n        this.trigger('popupOpen', args);\n    }\n    onClose() {\n        this.isOpened = false;\n        this.uploadObj.clearAll();\n        const args = {\n            popupModule: this.uploadDialogObj, popupName: 'Upload',\n            element: this.uploadDialogObj.element\n        };\n        this.trigger('popupClose', args);\n    }\n    /* istanbul ignore next */\n    onUploading(args) {\n        let action = 'save';\n        if ((this.retryArgs.length !== 0)) {\n            for (let i = 0; i < this.retryArgs.length; i++) {\n                if (args.fileData.name === this.retryArgs[i].file.name) {\n                    action = this.retryArgs[i].action;\n                    this.retryArgs.splice(i, 1);\n                    i = this.retryArgs.length;\n                }\n            }\n        }\n        const data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n        args.customFormData = [{ 'path': this.path }, { 'action': action }, { 'data': data }];\n        const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n        // eslint-disable-next-line\n        const ajaxSettings = {\n            url: uploadUrl,\n            type: 'POST',\n            mode: true,\n            dataType: null,\n            contentType: null,\n            data: JSON.stringify(args.customFormData),\n            onSuccess: null,\n            onFailure: null,\n            beforeSend: null\n        };\n        this.uploadEventArgs = { action: 'Upload', ajaxSettings: ajaxSettings, cancel: false };\n        this.trigger('beforeSend', this.uploadEventArgs, (uploadEventArgs) => {\n            args.customFormData = JSON.parse(getValue('data', uploadEventArgs.ajaxSettings));\n            args.cancel = uploadEventArgs.cancel;\n            // eslint-disable-next-line\n            const eventArgs = {\n                cancel: false,\n                httpRequest: args.currentRequest\n            };\n            if (typeof getValue('beforeSend', uploadEventArgs.ajaxSettings) === 'function') {\n                getValue('beforeSend', uploadEventArgs.ajaxSettings)(eventArgs);\n                if (getValue('cancel', eventArgs)) {\n                    args.cancel = getValue('cancel', eventArgs);\n                }\n            }\n        });\n    }\n    onRemoving() {\n        this.onFileUploadSuccess({ count: 1 });\n        if (this.uploadObj.getFilesData().length === 1) {\n            this.uploadDialogObj.hide();\n        }\n    }\n    /* istanbul ignore next */\n    onCancel(args) {\n        const data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n        args.customFormData = [{ 'path': this.path }, { 'action': 'remove' }, { 'data': data }];\n    }\n    /* istanbul ignore next */\n    onClearing() {\n        if (this.isOpened) {\n            this.uploadDialogObj.hide();\n        }\n    }\n    /* istanbul ignore next */\n    onSelected(args) {\n        if (args.filesData.length === 0) {\n            return;\n        }\n        this.uploadingCount = args.filesData.length;\n        this.uploadedCount = 0;\n        // eslint-disable-next-line\n        const details = getPathObject(this);\n        if (!hasUploadAccess(details)) {\n            args.cancel = true;\n            createDeniedDialog(this, details, permissionUpload);\n            return;\n        }\n        this.uploadDialogObj.show();\n    }\n    // eslint-disable-next-line\n    onFileUploadSuccess(args) {\n        this.uploadedCount = this.uploadedCount + args.count;\n        if (this.uploadSettings.autoClose && (this.uploadingCount === this.uploadedCount)) {\n            this.uploadDialogObj.hide();\n        }\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    onUploadSuccess(files) {\n        const args = { action: 'Upload', result: files };\n        this.trigger('success', args);\n        this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n        read(this, pathChanged, this.path);\n        this.onFileUploadSuccess({ count: 1 });\n        if (typeof getValue('onSuccess', this.uploadEventArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', this.uploadEventArgs.ajaxSettings)();\n        }\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    onUploadFailure(files) {\n        // eslint-disable-next-line\n        const response = getValue('response', files);\n        const statusText = getValue('statusText', response);\n        if (statusText !== '') {\n            setValue('statusText', statusText, files);\n        }\n        const args = { action: 'Upload', error: files };\n        this.trigger('failure', args);\n        if (getValue('statusCode', response) === 400) {\n            this.retryFiles.push(getValue('file', files));\n            if (!this.isRetryOpened) {\n                createExtDialog(this, 'UploadRetry');\n            }\n        }\n        if (typeof getValue('onFailure', this.uploadEventArgs.ajaxSettings) === 'function') {\n            getValue('onFailure', this.uploadEventArgs.ajaxSettings)();\n        }\n    }\n    onInitialEnd() {\n        setNextPath(this, this.path);\n    }\n    addEventListeners() {\n        this.on(beforeRequest, this.showSpinner, this);\n        this.on(afterRequest, this.hideSpinner, this);\n        this.on(initialEnd, this.onInitialEnd, this);\n        this.on(detailsInit, this.onDetailsInit, this);\n        this.on(skipUpload, this.onFileUploadSuccess, this);\n        EventHandler.add(this.element, 'contextmenu', this.onContextMenu, this);\n    }\n    removeEventListeners() {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off(beforeRequest, this.showSpinner);\n        this.off(afterRequest, this.hideSpinner);\n        this.off(initialEnd, this.onInitialEnd);\n        this.off(detailsInit, this.onDetailsInit);\n        this.off(skipUpload, this.onFileUploadSuccess);\n        EventHandler.remove(this.element, 'contextmenu', this.onContextMenu);\n    }\n    onDetailsInit() {\n        if (isNullOrUndefined(this.activeModule)) {\n            this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n        }\n    }\n    resizeHandler() {\n        this.adjustHeight();\n        this.notify(resizeEnd, {});\n    }\n    keyActionHandler(e) {\n        let uploadEle;\n        switch (e.action) {\n            case 'altN':\n                e.preventDefault();\n                this.itemData = [getPathObject(this)];\n                if (!hasContentAccess(this.itemData[0])) {\n                    createDeniedDialog(this, this.itemData[0], permissionEditContents);\n                }\n                else {\n                    createDialog(this, 'NewFolder');\n                }\n                break;\n            case 'f5':\n                e.preventDefault();\n                refresh(this);\n                break;\n            /* istanbul ignore next */\n            case 'ctrlShift1':\n                e.preventDefault();\n                this.fileView = 'Details';\n                this.setProperties({ view: 'Details' }, true);\n                showSpinner(this.element);\n                updateLayout(this, 'Details');\n                break;\n            /* istanbul ignore next */\n            case 'ctrlShift2':\n                e.preventDefault();\n                this.fileView = 'LargeIcons';\n                this.setProperties({ view: 'LargeIcons' }, true);\n                showSpinner(this.element);\n                updateLayout(this, 'LargeIcons');\n                break;\n            case 'ctrlU':\n                e.preventDefault();\n                uploadEle = select('#' + this.element.id + UPLOAD_ID, this.element);\n                uploadEle.click();\n                break;\n        }\n    }\n    wireEvents() {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    unWireEvents() {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n        this.keyboardModule.destroy();\n    }\n    setPath() {\n        this.setProperties({ selectedItems: [] }, true);\n        this.ensurePath();\n        this.notify(clearPathInit, { selectedNode: this.pathId[0] });\n        read(this, (this.path !== this.originalPath) ? initialEnd : finalizeEnd, this.path);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {FileManager} newProp\n     * @param  {FileManager} oldProp\n     * @returns void\n     * @private\n     */\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    onPropertyChanged(newProp, oldProp) {\n        let height;\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'ajaxSettings':\n                    this.ajaxSettingSetModel(newProp);\n                    break;\n                case 'allowDragAndDrop':\n                    this.allowDragAndDrop = newProp.allowDragAndDrop;\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'allowMultiSelection':\n                    if (this.allowMultiSelection) {\n                        addClass([this.element], CHECK_SELECT);\n                    }\n                    else {\n                        if (this.selectedItems.length > 1) {\n                            this.setProperties({ selectedItems: this.selectedItems.slice(this.selectedItems.length - 1) }, true);\n                        }\n                        removeClass([this.element], CHECK_SELECT);\n                    }\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'cssClass':\n                    this.addCssClass(oldProp.cssClass, newProp.cssClass);\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'detailsViewSettings':\n                    this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'enableRtl':\n                    this.enableRtl = newProp.enableRtl;\n                    this.refresh();\n                    break;\n                case 'rootAliasName':\n                    this.rootAliasName = newProp.rootAliasName;\n                    this.refresh();\n                    break;\n                case 'height':\n                    height = !isNullOrUndefined(newProp.height) ? formatUnit(newProp.height) : newProp.height;\n                    setStyleAttribute(this.element, { 'height': height });\n                    this.adjustHeight();\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'locale':\n                    if (!isNullOrUndefined(newProp.enableRtl)) {\n                        this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    }\n                    this.localeSetModelOption(newProp);\n                    break;\n                case 'navigationPaneSettings':\n                    this.splitterAdjust();\n                    this.notify(modelChanged, { module: 'navigationpane', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'path':\n                    this.setPath();\n                    break;\n                case 'searchSettings':\n                    if (!isNullOrUndefined(newProp.searchSettings.allowSearchOnTyping)) {\n                        this.setProperties({ searchSettings: { allowSearchOnTyping: newProp.searchSettings.allowSearchOnTyping } }, true);\n                    }\n                    if (isNullOrUndefined(newProp.searchSettings.ignoreCase)) {\n                        this.setProperties({ searchSettings: { ignoreCase: newProp.searchSettings.ignoreCase } }, true);\n                    }\n                    if (isNullOrUndefined(newProp.searchSettings.filterType)) {\n                        this.setProperties({ searchSettings: { filterType: newProp.searchSettings.filterType } }, true);\n                    }\n                    this.notify(modelChanged, { module: 'breadcrumbbar', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'selectedItems':\n                    if (this.view === 'Details') {\n                        this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    else if (this.view === 'LargeIcons') {\n                        this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    break;\n                case 'showFileExtension':\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'showHiddenItems':\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'showThumbnail':\n                    this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'toolbarSettings':\n                    this.adjustHeight();\n                    this.notify(modelChanged, { module: 'toolbar', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'uploadSettings':\n                    this.updateUploader();\n                    break;\n                case 'view':\n                    if (newProp.view === 'Details') {\n                        this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    else if (newProp.view === 'LargeIcons') {\n                        this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': !isNullOrUndefined(newProp.width) ? formatUnit(newProp.width) : newProp.width });\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'sortOrder':\n                    refresh(this);\n                    this.notify(sortByChange, {});\n                    break;\n                case 'sortBy':\n                    refresh(this);\n                    this.notify(sortByChange, {});\n                    if (this.view === 'Details') {\n                        this.notify(sortColumn, {});\n                    }\n                    break;\n                case 'popupTarget':\n                    if (this.uploadDialogObj) {\n                        this.uploadDialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.dialogObj) {\n                        this.dialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.extDialogObj) {\n                        this.extDialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.viewerObj) {\n                        this.viewerObj.target = newProp.popupTarget;\n                    }\n                    break;\n            }\n        }\n    }\n    /* istanbul ignore next */\n    ajaxSettingSetModel(newProp) {\n        if (!isNullOrUndefined(newProp.ajaxSettings.url)) {\n            this.setProperties({ ajaxSettings: { url: newProp.ajaxSettings.url } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.uploadUrl)) {\n            this.setProperties({ ajaxSettings: { uploadUrl: newProp.ajaxSettings.uploadUrl } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.downloadUrl)) {\n            this.setProperties({ ajaxSettings: { downloadUrl: newProp.ajaxSettings.downloadUrl } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.getImageUrl)) {\n            this.setProperties({ ajaxSettings: { getImageUrl: newProp.ajaxSettings.getImageUrl } }, true);\n        }\n        this.setProperties({ path: '/' }, true);\n        this.setProperties({ selectedItems: [] }, true);\n        super.refresh();\n    }\n    /* istanbul ignore next */\n    localeSetModelOption(newProp) {\n        this.uploadObj.locale = newProp.locale;\n        super.refresh();\n    }\n    /**\n     * Triggers when the component is destroyed.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (!this.refreshing) {\n            this.notify(destroy, {});\n        }\n        this.uploadObj.destroy();\n        this.uploadObj = null;\n        this.uploadDialogObj.destroy();\n        this.uploadDialogObj = null;\n        this.splitterObj.destroy();\n        this.splitterObj = null;\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            this.dialogObj = null;\n        }\n        if (this.viewerObj) {\n            this.viewerObj.destroy();\n            this.viewerObj = null;\n        }\n        if (this.extDialogObj) {\n            this.extDialogObj.destroy();\n            this.extDialogObj = null;\n        }\n        this.element.removeAttribute('style');\n        this.element.removeAttribute('tabindex');\n        this.removeEventListeners();\n        this.unWireEvents();\n        this.addCssClass(this.cssClass, null);\n        removeClass([this.element], [RTL, MOBILE, CHECK_SELECT]);\n        this.element.innerHTML = '';\n        super.destroy();\n    }\n    /**\n     * Creates a new folder in file manager.\n     *\n     * @param {string} name – Specifies the name of new folder in current path.\n     * If it is not specified, then the default new folder dialog will be opened.\n     * @returns {void}\n     */\n    createFolder(name) {\n        this.notify(methodCall, { action: 'createFolder' });\n        // eslint-disable-next-line\n        const details = [getPathObject(this)];\n        this.itemData = details;\n        if (name) {\n            if (/[/\\\\|*?\"<>:]/.test(name)) {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(this, 'Validation-Invalid').replace('{0}', '\"' + name + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(this, 'Error', result);\n            }\n            else {\n                if (!hasContentAccess(details[0])) {\n                    createDeniedDialog(this, details[0], permissionEditContents);\n                }\n                else {\n                    createFolder(this, name);\n                }\n            }\n        }\n        else {\n            createNewFolder(this);\n        }\n    }\n    /**\n     * Deletes the folders or files from the given unique identifiers.\n     *\n     * @param {string} ids - Specifies the name of folders or files in current path. If you want to delete the nested level folders or\n     * files, then specify the filter path along with name of the folders or files when performing the search or custom filtering.\n     * For ID based file provider, specify the unique identifier of folders or files.\n     * If it is not specified, then delete confirmation dialog will be opened for selected item.\n     *\n     * @returns {void}\n     */\n    deleteFiles(ids) {\n        this.notify(methodCall, { action: 'deleteFiles', ids: ids });\n    }\n    /**\n     * Disables the specified toolbar items of the file manager.\n     *\n     * @param {string[]} items - Specifies an array of items to be disabled.\n     * @returns {void}\n     */\n    disableToolbarItems(items) {\n        if (!isNullOrUndefined(items)) {\n            this.toolbarModule.enableItems(items, false);\n        }\n    }\n    /**\n     * Downloads the folders or files from the given unique identifiers.\n     *\n     * @param {string} ids - Specifies the name of folders or files in current path. If you want to download the nested level folders\n     * or files, then specify the filter path along with name of the folders or files when performing search or custom filtering.\n     * For ID based file provider, specify the unique identifier of folders or files.\n     * If it is not specified, then the selected items will be downloaded.\n     *\n     * @returns {void}\n     */\n    downloadFiles(ids) {\n        this.notify(methodCall, { action: 'downloadFiles', ids: ids });\n    }\n    /**\n     * Enables the specified toolbar items of the file manager.\n     *\n     * @param {string[]} items - Specifies an array of items to be enabled.\n     * @returns {void}\n     */\n    enableToolbarItems(items) {\n        if (!isNullOrUndefined(items)) {\n            this.toolbarModule.enableItems(items, true);\n        }\n    }\n    /**\n     * Disables the specified context menu items in file manager. This method is used only in the menuOpen event.\n     *\n     * @param {string[]} items - Specifies an array of items to be disabled.\n     * @returns {void}\n     */\n    disableMenuItems(items) {\n        if (!isNullOrUndefined(items) && !isNullOrUndefined(this.contextmenuModule.contextMenu)) {\n            this.contextmenuModule.disableItem(items);\n        }\n    }\n    /**\n     * Returns the index position of given current context menu item in file manager.\n     *\n     * @param {string} item - Specifies an item to get the index position.\n     * @returns {number} - returns menu item index.\n     */\n    getMenuItemIndex(item) {\n        if (this.contextmenuModule) {\n            return this.contextmenuModule.getItemIndex(item);\n        }\n        else {\n            return -1;\n        }\n    }\n    /**\n     * Returns the index position of given toolbar item in file manager.\n     *\n     * @param {string} item - Specifies an item to get the index position.\n     * @returns {number} - returns toolbar item index.\n     */\n    getToolbarItemIndex(item) {\n        if (this.toolbarModule) {\n            return this.toolbarModule.getItemIndex(item);\n        }\n        else {\n            return -1;\n        }\n    }\n    /**\n     * Display the custom filtering files in file manager.\n     *\n     * @param {Object} filterData - Specifies the custom filter details along with custom file action name,\n     * which needs to be sent to the server side. If you do not specify the details, then default action name will be `filter`.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    filterFiles(filterData) {\n        this.filterData = filterData ? filterData : null;\n        this.setProperties({ selectedItems: [] }, true);\n        this.notify(selectionChanged, {});\n        this.isFiltered = true;\n        if (this.breadcrumbbarModule.searchObj.element.value !== '') {\n            this.breadcrumbbarModule.searchObj.element.value = '';\n        }\n        filter(this, filterEnd);\n    }\n    /**\n     * Gets the details of the selected files in the file manager.\n     *\n     * @returns {Object[]} - returns selected files.\n     */\n    // eslint-disable-next-line\n    getSelectedFiles() {\n        this.notify(updateSelectionData, {});\n        return this.itemData;\n    }\n    /**\n     * Opens the corresponding file or folder from the given unique identifier.\n     *\n     * @param {string} id - Specifies the name of folder or file in current path. If you want to open the nested level folder or\n     * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n     * file provider, specify the unique identifier of folder or file.\n     *\n     * @returns {void}\n     */\n    openFile(id) {\n        this.notify(methodCall, { action: 'openFile', id: id });\n    }\n    /**\n     * Refreshes the folder files of the file manager.\n     *\n     * @returns {void}\n     */\n    refreshFiles() {\n        refresh(this);\n    }\n    /**\n     * Refreshes the layout of the file manager.\n     *\n     * @returns {void}\n     */\n    refreshLayout() {\n        this.adjustHeight();\n        this.notify(layoutRefresh, {});\n    }\n    /**\n     * Selects the entire folders and files in current path.\n     *\n     * @returns {void}\n     */\n    selectAll() {\n        this.notify(methodCall, { action: 'selectAll' });\n    }\n    /**\n     * Deselects the currently selected folders and files in current path.\n     *\n     * @returns {void}\n     */\n    clearSelection() {\n        this.notify(methodCall, { action: 'clearSelection' });\n    }\n    /**\n     * Renames the file or folder with given new name in file manager.\n     *\n     * @param {string} id - Specifies the name of folder or file in current path. If you want to rename the nested level folder or\n     * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n     * file provider, specify the unique identifier of folder or file.\n     * If it is not specified, then rename dialog will be opened for selected item.\n     *\n     * @param {string} name – Specifies the new name of the file or folder in current path. If it is not specified, then rename dialog\n     * will be opened for given identifier.\n     *\n     * @returns {void}\n     */\n    renameFile(id, name) {\n        this.notify(methodCall, { action: 'renameFile', id: id, newName: name });\n    }\n    /**\n     * Opens the upload dialog in file manager.\n     *\n     * @returns {void}\n     */\n    uploadFiles() {\n        // eslint-disable-next-line\n        const details = [getPathObject(this)];\n        this.itemData = details;\n        uploadItem(this);\n    }\n    /**\n     * Specifies the direction of FileManager\n     *\n     * @param {boolean} rtl - specifies rtl parameter.\n     * @returns {void}\n     */\n    setRtl(rtl) {\n        if (rtl) {\n            this.addCssClass(null, RTL);\n        }\n        else {\n            this.addCssClass(RTL, null);\n        }\n        if (this.uploadObj) {\n            this.uploadDialogObj.enableRtl = rtl;\n            this.uploadObj.enableRtl = rtl;\n        }\n    }\n};\n__decorate$8([\n    Complex({}, AjaxSettings)\n], FileManager.prototype, \"ajaxSettings\", void 0);\n__decorate$8([\n    Property(false)\n], FileManager.prototype, \"allowDragAndDrop\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"allowMultiSelection\", void 0);\n__decorate$8([\n    Complex({}, ContextMenuSettings)\n], FileManager.prototype, \"contextMenuSettings\", void 0);\n__decorate$8([\n    Property('')\n], FileManager.prototype, \"cssClass\", void 0);\n__decorate$8([\n    Complex({}, DetailsViewSettings)\n], FileManager.prototype, \"detailsViewSettings\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$8([\n    Property(false)\n], FileManager.prototype, \"enablePersistence\", void 0);\n__decorate$8([\n    Property('400px')\n], FileManager.prototype, \"height\", void 0);\n__decorate$8([\n    Property('LargeIcons')\n], FileManager.prototype, \"view\", void 0);\n__decorate$8([\n    Complex({}, NavigationPaneSettings)\n], FileManager.prototype, \"navigationPaneSettings\", void 0);\n__decorate$8([\n    Property('/')\n], FileManager.prototype, \"path\", void 0);\n__decorate$8([\n    Property(null)\n], FileManager.prototype, \"popupTarget\", void 0);\n__decorate$8([\n    Complex({}, SearchSettings)\n], FileManager.prototype, \"searchSettings\", void 0);\n__decorate$8([\n    Property()\n], FileManager.prototype, \"selectedItems\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"showFileExtension\", void 0);\n__decorate$8([\n    Property(null)\n], FileManager.prototype, \"rootAliasName\", void 0);\n__decorate$8([\n    Property(false)\n], FileManager.prototype, \"showHiddenItems\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"showThumbnail\", void 0);\n__decorate$8([\n    Property('Ascending')\n], FileManager.prototype, \"sortOrder\", void 0);\n__decorate$8([\n    Property('name')\n], FileManager.prototype, \"sortBy\", void 0);\n__decorate$8([\n    Complex({}, ToolbarSettings)\n], FileManager.prototype, \"toolbarSettings\", void 0);\n__decorate$8([\n    Complex({}, UploadSettings)\n], FileManager.prototype, \"uploadSettings\", void 0);\n__decorate$8([\n    Property('100%')\n], FileManager.prototype, \"width\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileLoad\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforeDownload\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforeImageLoad\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforePopupClose\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforePopupOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforeSend\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"created\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"destroyed\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDragStart\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDragging\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDragStop\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDropped\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileSelection\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileSelect\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"menuClick\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"menuOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"failure\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"popupClose\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"popupOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"success\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"toolbarClick\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"toolbarCreate\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"uploadListCreate\", void 0);\nFileManager = FileManager_1 = __decorate$8([\n    NotifyPropertyChanges\n], FileManager);\n\n/**\n * File Manager base modules\n */\n\n/**\n * Toolbar module\n */\nclass Toolbar$1 {\n    /**\n     * Constructor for the Toolbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies the parent element.\n     * @private\n     */\n    constructor(parent) {\n        this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n        this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n        this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n        this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n        this.parent = parent;\n        this.render();\n        this.addEventListener();\n    }\n    render() {\n        this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map((item) => item.trim())));\n        const eventArgs = { items: this.items };\n        this.parent.trigger('toolbarCreate', eventArgs, (toolbarCreateArgs) => {\n            this.items = toolbarCreateArgs.items;\n            this.toolbarObj = new Toolbar({\n                items: this.items,\n                created: this.toolbarCreateHandler.bind(this),\n                overflowMode: 'Popup',\n                clicked: this.onClicked.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                enableRtl: this.parent.enableRtl\n            });\n            this.toolbarObj.isStringTemplate = true;\n            this.toolbarObj.appendTo('#' + this.parent.element.id + TOOLBAR_ID);\n        });\n    }\n    getItemIndex(item) {\n        const itemId = this.getId(item);\n        for (let i = 0; i < this.items.length; i++) {\n            if (this.items[i].id === itemId) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    getItems(items) {\n        const currItems = items.slice();\n        if (this.parent.isDevice && this.parent.allowMultiSelection) {\n            currItems.push('SelectAll');\n        }\n        return currItems;\n    }\n    /* istanbul ignore next */\n    onClicked(args) {\n        if (isNullOrUndefined(args.item) || !args.item.id) {\n            return;\n        }\n        const tool = args.item.id.substr((this.parent.element.id + '_tb_').length);\n        // eslint-disable-next-line\n        let details;\n        if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(selectedData, {});\n            details = this.parent.itemData;\n        }\n        const eventArgs = { cancel: false, fileDetails: details, item: args.item };\n        this.parent.trigger('toolbarClick', eventArgs, (toolbarClickArgs) => {\n            let sItems;\n            let target;\n            if (!toolbarClickArgs.cancel) {\n                switch (tool) {\n                    case 'sortby':\n                        target = closest(args.originalEvent.target, '.' + TB_ITEM);\n                        if (target && target.classList.contains('e-toolbar-popup')) {\n                            args.cancel = true;\n                        }\n                        break;\n                    case 'newfolder':\n                        createNewFolder(this.parent);\n                        break;\n                    case 'cut':\n                        cutFiles(this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(this.parent);\n                        break;\n                    case 'delete':\n                        for (let i = 0; i < details.length; i++) {\n                            if (!hasEditAccess(details[i])) {\n                                createDeniedDialog(this.parent, details[i], permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(this.parent, 'Delete');\n                        break;\n                    case 'details':\n                        this.parent.notify(detailsInit, {});\n                        sItems = this.parent.selectedItems;\n                        if (this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(this.parent, sItems, this.parent.path, 'details');\n                        break;\n                    case 'paste':\n                        this.parent.folderPath = '';\n                        pasteHandler(this.parent);\n                        break;\n                    case 'refresh':\n                        refresh(this.parent);\n                        break;\n                    case 'download':\n                        doDownload(this.parent);\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(this.parent, details[0], permissionEdit);\n                        }\n                        else {\n                            this.parent.notify(renameInit, {});\n                            createDialog(this.parent, 'Rename');\n                        }\n                        break;\n                    case 'upload':\n                        uploadItem(this.parent);\n                        break;\n                    case 'selectall':\n                        this.parent.notify(selectAllInit, {});\n                        break;\n                    case 'selection':\n                        this.parent.notify(clearAllInit, {});\n                        break;\n                }\n            }\n        });\n    }\n    toolbarCreateHandler() {\n        if (!isNullOrUndefined(select('#' + this.getId('SortBy'), this.parent.element))) {\n            const items = [\n                { id: this.getPupupId('name'), text: getLocaleText(this.parent, 'Name'),\n                    iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : '' },\n                { id: this.getPupupId('size'), text: getLocaleText(this.parent, 'Size'),\n                    iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : '' },\n                { id: this.getPupupId('date'), text: getLocaleText(this.parent, 'DateModified'),\n                    iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '' },\n                { separator: true },\n                { id: this.getPupupId('ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                    iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '' },\n                { id: this.getPupupId('descending'), text: getLocaleText(this.parent, 'Descending'),\n                    iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '' },\n                { id: this.getPupupId('none'), text: getLocaleText(this.parent, 'None'),\n                    iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '' }\n            ];\n            this.buttonObj = new DropDownButton({\n                items: items, cssClass: getCssClass(this.parent, ROOT_POPUP),\n                select: sortbyClickHandler.bind(this, this.parent),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                enableRtl: this.parent.enableRtl, iconCss: ICON_SHORTBY\n            });\n            this.buttonObj.isStringTemplate = true;\n            this.buttonObj.appendTo('#' + this.getId('SortBy'));\n        }\n        if (!isNullOrUndefined(select('#' + this.getId('View'), this.parent.element))) {\n            const gridSpan = '<span class=\"' + ICON_GRID + ' ' + MENU_ICON + '\"></span>';\n            const largeIconSpan = '<span class=\"' + ICON_LARGE + ' ' + MENU_ICON + '\"></span>';\n            const layoutItems = [\n                {\n                    id: this.getPupupId('large'), text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n                    iconCss: this.parent.view === 'Details' ? '' : TB_OPTION_TICK\n                },\n                {\n                    id: this.getPupupId('details'), text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n                    iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : ''\n                }\n            ];\n            this.layoutBtnObj = new DropDownButton({\n                iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                cssClass: getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP),\n                items: layoutItems, select: this.layoutChange.bind(this),\n                enableRtl: this.parent.enableRtl,\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n            });\n            this.layoutBtnObj.isStringTemplate = true;\n            this.layoutBtnObj.appendTo('#' + this.getId('View'));\n        }\n        this.hideItems(this.default, true);\n        this.hideStatus();\n        const btnElement = selectAll('.e-btn', this.toolbarObj.element);\n        for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n            /* istanbul ignore next */\n            btnElement[btnCount].onkeydown = (e) => {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    e.preventDefault();\n                }\n            };\n            btnElement[btnCount].onkeyup = (e) => {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    btnElement[btnCount].click();\n                }\n            };\n        }\n        this.parent.refreshLayout();\n    }\n    updateSortByButton() {\n        if (this.buttonObj) {\n            const items = this.buttonObj.items;\n            for (let itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('name')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'name' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('size')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'size' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('date')) {\n                    if (this.parent.sortBy === 'dateModified' || this.parent.sortBy === 'dateCreated') {\n                        items[itemCount].iconCss = this.parent.sortBy === this.parent.sortBy ? TB_OPTION_DOT : '';\n                    }\n                    else {\n                        items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '';\n                    }\n                }\n                else if (items[itemCount].id === this.getPupupId('ascending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('descending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('none')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '';\n                }\n            }\n        }\n    }\n    getPupupId(id) {\n        return this.parent.element.id + '_ddl_' + id.toLowerCase();\n    }\n    layoutChange(args) {\n        if (this.parent.view === 'Details') {\n            if (args.item.id === this.getPupupId('large')) {\n                updateLayout(this.parent, 'LargeIcons');\n            }\n        }\n        else {\n            if (args.item.id === this.getPupupId('details')) {\n                updateLayout(this.parent, 'Details');\n            }\n        }\n    }\n    toolbarItemData(data) {\n        const items = [];\n        let mode = 'Both';\n        if (this.parent.isMobile) {\n            mode = 'Overflow';\n        }\n        for (let i = 0; i < data.length; i++) {\n            let item;\n            const itemId = this.getId(data[i]);\n            const itemText = getLocaleText(this.parent, data[i]);\n            const itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n            const spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n            switch (data[i]) {\n                case '|':\n                    item = { type: 'Separator' };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_UPLOAD, showTextOn: mode };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip,\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_REFRESH, showTextOn: mode };\n                    break;\n                case 'Selection':\n                    item = {\n                        id: itemId, text: itemText, tooltipText: itemTooltip, suffixIcon: ICON_CLEAR, overflow: 'Show',\n                        align: 'Right'\n                    };\n                    break;\n                case 'View':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                        overflow: 'Show', align: 'Right', text: itemText, showTextOn: 'Overflow',\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' +\n                            getLocaleText(this.parent, 'View') + '></button>'\n                    };\n                    break;\n                case 'Details':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: ICON_DETAILS, overflow: 'Show', align: 'Right',\n                        text: itemText, showTextOn: 'Overflow'\n                    };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_NEWFOLDER, showTextOn: mode };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_CUT, showTextOn: mode };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_COPY, showTextOn: mode };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_PASTE, showTextOn: mode };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_DELETE, showTextOn: mode };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_RENAME, showTextOn: mode };\n                    break;\n                case 'Download':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_DOWNLOAD, showTextOn: mode };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_SELECTALL, showTextOn: mode };\n                    break;\n                default:\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    }\n    getId(id) {\n        return this.parent.element.id + '_tb_' + id.toLowerCase();\n    }\n    addEventListener() {\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(showPaste, this.showPaste, this);\n        this.parent.on(hidePaste, this.hidePaste, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(sortByChange, this.updateSortByButton, this);\n    }\n    reRenderToolbar(e) {\n        if (e.newProp.toolbarSettings.items !== undefined) {\n            this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map((item) => item.trim())));\n            const eventArgs = { items: this.items };\n            this.parent.trigger('toolbarCreate', eventArgs, (toolbarCreateArgs) => {\n                if (this.buttonObj) {\n                    this.buttonObj.destroy();\n                }\n                if (this.layoutBtnObj) {\n                    this.layoutBtnObj.destroy();\n                }\n                this.items = toolbarCreateArgs.items;\n                this.toolbarObj.items = this.items;\n                this.toolbarObj.dataBind();\n                this.toolbarCreateHandler();\n            });\n        }\n    }\n    onSelectionChanged() {\n        this.hideStatus();\n        this.hideItems(this.single, true);\n        this.hideItems(this.selection, false);\n        if (this.parent.selectedItems.length === 1) {\n            this.hideItems(this.single, false);\n            this.hideItems(this.selection, true);\n        }\n        else if (this.parent.selectedItems.length > 1) {\n            this.hideItems(this.multiple, false);\n            this.hideItems(this.selection, true);\n        }\n        const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (this.parent.selectedItems.length > 0 && ele) {\n            let txt;\n            if (this.parent.selectedItems.length === 1) {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n            }\n            else {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n            }\n            select('.e-tbar-btn-text', ele).textContent = txt;\n            this.toolbarObj.hideItem(ele.parentElement, false);\n        }\n    }\n    hideItems(tools, toHide) {\n        for (let i = 0; i < tools.length; i++) {\n            const ele = select('#' + this.getId(tools[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.hideItem(ele.parentElement, toHide);\n            }\n        }\n    }\n    hideStatus() {\n        const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (ele) {\n            this.toolbarObj.hideItem(ele.parentElement, true);\n        }\n    }\n    showPaste() {\n        this.hideItems(['Paste'], false);\n    }\n    hidePaste() {\n        this.hideItems(['Paste'], true);\n    }\n    onLayoutChange() {\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE;\n            const items = this.layoutBtnObj.items;\n            for (let itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('large')) {\n                    items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('details')) {\n                    items[itemCount].iconCss = this.parent.view === 'Details' ? TB_OPTION_TICK : '';\n                }\n            }\n        }\n    }\n    removeEventListener() {\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(selectionChanged, this.onSelectionChanged);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(showPaste, this.showPaste);\n        this.parent.off(hidePaste, this.hidePaste);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(sortByChange, this.updateSortByButton);\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    getModuleName() {\n        return 'toolbar';\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'cssClass':\n                    if (this.buttonObj) {\n                        this.buttonObj.cssClass = getCssClass(this.parent, ROOT_POPUP);\n                    }\n                    if (this.layoutBtnObj) {\n                        this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP);\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.toolbarObj.refreshOverflow();\n                    break;\n                case 'toolbarSettings':\n                    this.reRenderToolbar(e);\n                    break;\n            }\n        }\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.buttonObj) {\n            this.buttonObj.destroy();\n        }\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.destroy();\n        }\n        this.toolbarObj.destroy();\n        this.parent.refreshLayout();\n    }\n    enableItems(items, isEnable) {\n        for (let i = 0; i < items.length; i++) {\n            const ele = select('#' + this.getId(items[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.enableItems(ele.parentElement, isEnable);\n            }\n        }\n    }\n}\n\n/**\n * File Manager actions modules\n */\n\n/**\n * NavigationPane module\n */\nclass NavigationPane {\n    /**\n     * Constructor for the TreeView module\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    /* istanbul ignore next */\n    constructor(parent) {\n        this.removeNodes = [];\n        this.moveNames = [];\n        this.expandTree = false;\n        this.isDrag = false;\n        this.isPathDragged = false;\n        this.isRenameParent = false;\n        this.isRightClick = false;\n        this.renameParent = null;\n        // Specifies the previously selected nodes in the treeview control.\n        this.previousSelected = null;\n        // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n        this.isNodeClickCalled = false;\n        // Specifies whether to restrict node selection in the treeview control.\n        this.restrictSelecting = false;\n        this.parent = parent;\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftF10: 'shift+F10',\n            f2: 'f2'\n        };\n    }\n    onInit() {\n        if (!isNullOrUndefined(this.treeObj)) {\n            return;\n        }\n        // eslint-disable-next-line\n        const rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n        setValue('_fm_icon', 'e-fe-folder', rootData);\n        // eslint-disable-next-line\n        const attr = {};\n        const id = getValue('id', rootData);\n        if (!isNullOrUndefined(id)) {\n            setValue('data-id', id, attr);\n        }\n        if (!hasEditAccess(rootData)) {\n            setValue('class', getAccessClass(rootData), attr);\n        }\n        if (!isNullOrUndefined(attr)) {\n            setValue('_fm_htmlAttr', attr, rootData);\n        }\n        this.treeObj = new TreeView({\n            fields: {\n                dataSource: [rootData], id: '_fm_id', parentID: '_fm_pId', expanded: '_fm_expanded', selected: '_fm_selected', text: 'name',\n                hasChildren: 'hasChild', iconCss: '_fm_icon', htmlAttributes: '_fm_htmlAttr', tooltip: 'name'\n            },\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            sortOrder: this.parent.navigationPaneSettings.sortOrder,\n            nodeSelecting: this.onNodeSelecting.bind(this),\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeExpanding: this.onNodeExpand.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            allowEditing: true,\n            nodeEditing: this.onNodeEditing.bind(this),\n            drawNode: this.onDrowNode.bind(this),\n            enableRtl: this.parent.enableRtl,\n            dataBound: this.addDragDrop.bind(this)\n        });\n        this.treeObj.isStringTemplate = true;\n        this.treeObj.appendTo('#' + this.parent.element.id + TREE_ID);\n        this.wireEvents();\n    }\n    addDragDrop() {\n        if (!this.parent.isMobile && this.treeObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.treeObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragTarget: '.' + FULLROW,\n                    distance: 5,\n                    dragArea: this.parent.element,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: (args) => {\n                        dragStartHandler(this.parent, args, this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableTailMode: true,\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    }\n    dragHelper(args) {\n        const dragTarget = args.sender.target;\n        if (!dragTarget.classList.contains(FULLROW)) {\n            return null;\n        }\n        const dragLi = closest(dragTarget, 'li');\n        this.parent.dragPath = '';\n        this.parent.dragData = [];\n        this.parent.activeElements = [];\n        this.parent.activeElements = [dragLi];\n        this.parent.dragNodes = [];\n        getModule(this.parent, dragLi);\n        // eslint-disable-next-line\n        this.parent.dragData = this.getTreeData(dragLi);\n        this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n        this.parent.dragNodes.push(this.parent.dragData[0].name);\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    }\n    getDragPath(dragLi, text) {\n        const path = this.getDropPath(dragLi, text);\n        return getParentPath(path);\n    }\n    getDropPath(node, text) {\n        const id = node.getAttribute('data-id');\n        const newText = this.parent.hasId ? id : text;\n        return getPath(node, newText, this.parent.hasId);\n    }\n    onDrowNode(args) {\n        const eventArgs = {\n            element: args.node,\n            fileDetails: args.nodeData,\n            module: 'NavigationPane'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    }\n    // eslint-disable-next-line\n    addChild(files, target, prevent) {\n        // eslint-disable-next-line\n        const directories = getDirectories(files);\n        if (directories.length > 0) {\n            let length = 0;\n            // eslint-disable-next-line\n            const folders = directories;\n            while (length < directories.length) {\n                // eslint-disable-next-line\n                folders[length]._fm_icon = 'e-fe-folder';\n                // eslint-disable-next-line\n                const attr = {};\n                const id = getValue('id', folders[length]);\n                if (!isNullOrUndefined(id)) {\n                    setValue('data-id', id, attr);\n                }\n                if (!hasEditAccess(folders[length])) {\n                    setValue('class', getAccessClass(folders[length]), attr);\n                }\n                if (!isNullOrUndefined(attr)) {\n                    setValue('_fm_htmlAttr', attr, folders[length]);\n                }\n                length++;\n            }\n            // eslint-disable-next-line\n            this.treeObj.addNodes(directories, target, null, prevent);\n        }\n    }\n    // Node Selecting event handler\n    onNodeSelecting(args) {\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n            this.restrictSelecting = false;\n            this.isNodeClickCalled = false;\n            return;\n        }\n        if (!this.renameParent) {\n            this.parent.activeModule = 'navigationpane';\n            // eslint-disable-next-line\n            const nodeData = this.getTreeData(getValue('id', args.nodeData));\n            const eventArgs = { cancel: false, fileDetails: nodeData[0], module: 'NavigationPane' };\n            this.parent.trigger('fileOpen', eventArgs);\n            args.cancel = eventArgs.cancel;\n            if (args.cancel) {\n                this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] !== args.node.getAttribute('data-uid') : false;\n                this.treeObj.selectedNodes = this.isNodeClickCalled ? this.previousSelected : this.treeObj.selectedNodes;\n                this.previousSelected = this.treeObj.selectedNodes;\n                if (!isNullOrUndefined(this.parent) && !isNullOrUndefined(this.parent.contextmenuModule)) {\n                    this.parent.contextmenuModule.contextMenu.enableItems(['Open'], true);\n                }\n            }\n        }\n    }\n    // Opens the folder while clicking open context menu item in the treeview.\n    openFileOnContextMenuClick(node) {\n        const data = this.treeObj.getTreeData(node);\n        // eslint-disable-next-line\n        this.parent.selectedItems = [];\n        this.parent.itemData = data;\n        this.activeNode = node;\n        this.parent.activeModule = 'navigationpane';\n        updatePath(node, this.parent.itemData[0], this.parent);\n        read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n        this.parent.visitedItem = node;\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n        this.treeObj.selectedNodes = [node.getAttribute('data-uid')];\n    }\n    onNodeSelected(args) {\n        if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n            this.parent.breadcrumbbarModule.searchObj.element.value = '';\n            this.parent.isFiltered = false;\n        }\n        this.parent.searchedItems = [];\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n            return;\n        }\n        this.activeNode = args.node;\n        this.parent.activeModule = 'navigationpane';\n        // eslint-disable-next-line\n        const nodeData = this.getTreeData(getValue('id', args.nodeData));\n        this.parent.selectedItems = [];\n        this.parent.itemData = nodeData;\n        const previousPath = this.parent.path;\n        updatePath(args.node, this.parent.itemData[0], this.parent);\n        if (previousPath !== this.parent.path) {\n            this.expandNodeTarget = null;\n            if (args.node.querySelector('.' + ICONS) && args.node.querySelector('.' + LIST_ITEM) === null) {\n                this.expandNodeTarget = 'add';\n            }\n            read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n            this.parent.visitedItem = args.node;\n        }\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    onPathDrag(args) {\n        this.isPathDragged = true;\n        this.selectResultNode(args[0]);\n    }\n    /* istanbul ignore next */\n    onNodeExpand(args) {\n        if (!args.isInteracted && !this.isDrag) {\n            return;\n        }\n        if (args.node.querySelector('.' + LIST_ITEM) === null) {\n            const text = getValue('text', args.nodeData);\n            const id = args.node.getAttribute('data-id');\n            const isId = isNullOrUndefined(id) ? false : true;\n            const newText = isNullOrUndefined(id) ? text : id;\n            const path = getPath(args.node, newText, isId);\n            this.expandNodeTarget = args.node.getAttribute('data-uid');\n            this.parent.expandedId = this.expandNodeTarget;\n            this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n            read(this.parent, nodeExpand, path);\n        }\n    }\n    /* istanbul ignore next */\n    onNodeExpanded(args) {\n        this.addChild(args.files, this.expandNodeTarget, false);\n        this.parent.expandedId = null;\n    }\n    onNodeClicked(args) {\n        this.parent.activeModule = 'navigationpane';\n        this.previousSelected = this.treeObj.selectedNodes;\n        this.activeNode = args.node;\n        if ((args.event.which === 3) && (args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0])) {\n            this.isRightClick = true;\n            this.isNodeClickCalled = true;\n            this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n        }\n        else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            const layout = (this.parent.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n            this.parent.notify(modelChanged, { module: layout, newProp: { selectedItems: [] } });\n        }\n    }\n    /* istanbul ignore next */\n    onNodeEditing(args) {\n        if (!isNullOrUndefined(args.innerHtml)) {\n            args.cancel = true;\n        }\n    }\n    onPathChanged(args) {\n        this.parent.isCut = false;\n        // eslint-disable-next-line\n        const currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n        if (this.expandNodeTarget === 'add') {\n            const sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n            const ul = select('.' + LIST_PARENT, sNode);\n            if (isNullOrUndefined(ul)) {\n                this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n            }\n            this.expandNodeTarget = '';\n        }\n        this.expandTree = false;\n        if (isNullOrUndefined(currFiles)) {\n            setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n        }\n    }\n    updateTree(args) {\n        if (this.treeObj) {\n            const id = this.treeObj.selectedNodes[0];\n            this.updateTreeNode(args, id);\n        }\n    }\n    updateTreeNode(args, id) {\n        const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, !toExpand);\n    }\n    removeChildNodes(id) {\n        const sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n        const parent = select('.' + LIST_PARENT, sNode);\n        const childs = parent ? Array.prototype.slice.call(parent.children) : null;\n        if (childs) {\n            this.treeObj.removeNodes(childs);\n        }\n    }\n    onOpenEnd(args) {\n        const sleId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n        this.treeObj.selectedNodes = [sleId];\n        this.expandNodeTarget = 'add';\n        this.onPathChanged(args);\n    }\n    onOpenInit(args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            if (args.target.querySelector('.' + ICONS)) {\n                this.treeObj.expandAll(this.treeObj.selectedNodes);\n            }\n        }\n    }\n    onInitialEnd(args) {\n        this.onInit();\n        this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n    }\n    onFinalizeEnd(args) {\n        this.onInit();\n        const id = getValue('_fm_id', args.cwd);\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, false);\n        this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n    }\n    onCreateEnd(args) {\n        this.updateTree(args);\n    }\n    onSelectedData() {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateItemData();\n        }\n    }\n    onDeleteInit() {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateActionData();\n            const name = getValue('name', this.parent.itemData[0]);\n            Delete(this.parent, [name], this.parent.path, 'delete');\n        }\n    }\n    /* istanbul ignore next */\n    onDeleteEnd(args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            const selectedNode = this.treeObj.selectedNodes[0];\n            const selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n            const selectedNodeEle = closest(selcetedEle, '.' + LIST_PARENT).parentElement;\n            this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n            this.treeObj.dataBind();\n        }\n        this.updateTree(args);\n    }\n    onRefreshEnd(args) {\n        this.updateTree(args);\n    }\n    onRenameInit() {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateRenameData();\n        }\n    }\n    /* istanbul ignore next */\n    onRenameEndParent(args) {\n        const id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n        this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n        this.updateTreeNode(args, id);\n        this.parent.expandedId = null;\n        if (this.renameParent) {\n            this.renameParent = null;\n        }\n        else {\n            // eslint-disable-next-line\n            let resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                const nData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.isRenameParent = true;\n                const id = getValue(this.treeObj.fields.id, resultData[0]);\n                this.treeObj.selectedNodes = [id];\n                this.treeObj.dataBind();\n            }\n        }\n    }\n    /* istanbul ignore next */\n    onRenameEnd(args) {\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            this.updateTree(args);\n        }\n        else {\n            // eslint-disable-next-line\n            const data = this.treeObj.getTreeData();\n            // eslint-disable-next-line\n            let resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(data).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                const nData = new DataManager(data).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n                this.parent.expandedId = this.renameParent;\n                this.parent.itemData = this.getTreeData(this.renameParent);\n                read(this.parent, renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n            }\n        }\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.addDragDrop();\n                    break;\n                case 'navigationPaneSettings':\n                    read(this.parent, finalizeEnd, '/');\n                    if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n                        this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n                    }\n                    break;\n            }\n        }\n    }\n    /* istanbul ignore next */\n    onDownLoadInit() {\n        this.doDownload();\n    }\n    onSelectionChanged(e) {\n        this.treeObj.selectedNodes = [e.selectedNode];\n    }\n    onClearPathInit(e) {\n        this.removeChildNodes(e.selectedNode);\n    }\n    onDragEnd(args) {\n        let moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchDrag) {\n            moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    }\n    // eslint-disable-next-line\n    getMoveNames(files, flag, path) {\n        const moveNames = [];\n        for (let i = 0; i < files.length; i++) {\n            if (!files[i].isFile) {\n                if (!this.parent.hasId) {\n                    let name = (files[i].previousName);\n                    if (flag) {\n                        path = path + files[i].previousName;\n                        const index = path.lastIndexOf('/');\n                        name = path.substring(index + 1);\n                        path = path.substring(0, index + 1);\n                    }\n                    // eslint-disable-next-line\n                    const resultData = new DataManager(this.treeObj.getTreeData()).\n                        executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name, false));\n                    for (let j = 0; j < resultData.length; j++) {\n                        let fPath = getValue('filterPath', resultData[j]);\n                        fPath = fPath.replace(/\\\\/g, '/');\n                        if (fPath === path) {\n                            moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return moveNames;\n    }\n    onCutEnd(args) {\n        let moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchCut) {\n            this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    selectResultNode(resultObj) {\n        if (!this.parent.hasId) {\n            const path = getValue('filterPath', resultObj);\n            const itemname = getValue('name', resultObj);\n            // eslint-disable-next-line\n            const data = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n            if (data.length > 0) {\n                // eslint-disable-next-line\n                const resultData = new DataManager(data).\n                    executeLocal(new Query().where('filterPath', 'equal', path, false));\n                if (resultData.length > 0) {\n                    const id = getValue(this.treeObj.fields.id, resultData[0]);\n                    this.treeObj.selectedNodes = [id];\n                    this.treeObj.dataBind();\n                }\n            }\n        }\n        else {\n            this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n            this.treeObj.dataBind();\n        }\n    }\n    onDropPath(args) {\n        this.onpasteEnd(args);\n        this.selectResultNode(this.parent.dropData);\n        this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n    onpasteEnd(args) {\n        // eslint-disable-next-line\n        let resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n        }\n        else {\n            // eslint-disable-next-line\n            const nData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n            if (nData.length > 0) {\n                resultData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n            }\n        }\n        if (resultData.length > 0) {\n            const id = getValue(this.treeObj.fields.id, resultData[0]);\n            const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n            this.removeChildNodes(id);\n            this.addChild(args.files, id, toExpand);\n        }\n        this.parent.expandedId = null;\n        this.onPathChanged(args);\n        if (this.parent.isDragDrop) {\n            this.checkDropPath(args);\n        }\n    }\n    /* istanbul ignore next */\n    checkDropPath(args) {\n        if (this.parent.hasId) {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n            readDropPath(this.parent);\n            return;\n        }\n        if ((this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1)) {\n            this.parent.isDropEnd = false;\n            readDropPath(this.parent);\n        }\n        else {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n        }\n    }\n    onpasteInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.updateItemData();\n        }\n        this.moveNames = [];\n        // eslint-disable-next-line\n        const obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n        for (let i = 0; i < obj.length; i++) {\n            if (getValue('isFile', obj[i]) === false) {\n                this.moveNames.push(getValue('_fm_id', obj[i]));\n            }\n        }\n    }\n    oncutCopyInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.activeElements = [this.activeNode];\n        }\n    }\n    addEventListener() {\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(downloadInit, this.onDownLoadInit, this);\n        this.parent.on(initialEnd, this.onInitialEnd, this);\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutEnd, this.onCutEnd, this);\n        this.parent.on(pasteInit, this.onpasteInit, this);\n        this.parent.on(nodeExpand, this.onNodeExpanded, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(updateTreeSelection, this.onSelectionChanged, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(openEnd, this.onOpenEnd, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onRenameEnd, this);\n        this.parent.on(renameEndParent, this.onRenameEndParent, this);\n        this.parent.on(clearPathInit, this.onClearPathInit, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(dragEnd, this.onDragEnd, this);\n        this.parent.on(dragging, this.onDragging, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(pathDrag, this.onPathDrag, this);\n    }\n    removeEventListener() {\n        this.parent.off(initialEnd, this.onInitialEnd);\n        this.parent.off(downloadInit, this.onDownLoadInit);\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutEnd, this.onCutEnd);\n        this.parent.off(pasteInit, this.onpasteInit);\n        this.parent.off(updateTreeSelection, this.onSelectionChanged);\n        this.parent.off(nodeExpand, this.onNodeExpanded);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(openEnd, this.onOpenEnd);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onRenameEnd);\n        this.parent.off(renameEndParent, this.onRenameEndParent);\n        this.parent.off(clearPathInit, this.onClearPathInit);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(dragEnd, this.onDragEnd);\n        this.parent.off(dragging, this.onDragging);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(pathDrag, this.onPathDrag);\n    }\n    /* istanbul ignore next */\n    onDetailsInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            // eslint-disable-next-line\n            const dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.itemData = dataobj;\n        }\n    }\n    // eslint-disable-next-line\n    onMenuItemData(args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            const liEle = closest(args.target, 'li');\n            this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n        }\n    }\n    /* istanbul ignore next */\n    onDragging(args) {\n        const ele = closest(args.target, 'li');\n        if (ele.classList.contains('e-node-collapsed')) {\n            this.isDrag = true;\n            const level = parseInt(ele.getAttribute('aria-level'), 10);\n            this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n            this.isDrag = false;\n        }\n    }\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            const dropLi = closest(args.target, 'li');\n            this.parent.dropData = this.getTreeData(dropLi)[0];\n            this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    getModuleName() {\n        return 'navigationpane';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.treeObj) {\n            this.unWireEvents();\n            this.treeObj.destroy();\n        }\n    }\n    wireEvents() {\n        this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n            keyAction: this.keyDown.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    unWireEvents() {\n        this.keyboardModule.destroy();\n    }\n    /* istanbul ignore next */\n    keyDown(e) {\n        const action = e.action;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(detailsInit, {});\n                GetDetails(this.parent, [], this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n                if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n                    this.updateItemData();\n                    if (!hasEditAccess(this.parent.itemData[0])) {\n                        createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                    }\n                    else {\n                        this.removeNodes = [];\n                        createDialog(this.parent, 'Delete');\n                    }\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'shiftF10':\n                this.updateItemData();\n                if (!hasDownloadAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionDownload);\n                    return;\n                }\n                if (this.parent.selectedItems.length !== 0) {\n                    this.doDownload();\n                }\n                break;\n            case 'f2':\n                if (this.parent.selectedItems.length === 0) {\n                    // eslint-disable-next-line\n                    const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n                    if (!hasEditAccess(data)) {\n                        createDeniedDialog(this.parent, data, permissionEdit);\n                    }\n                    else {\n                        this.updateRenameData();\n                        createDialog(this.parent, 'Rename');\n                    }\n                }\n                break;\n        }\n    }\n    // eslint-disable-next-line\n    getTreeData(args) {\n        // eslint-disable-next-line\n        const data = this.treeObj.getTreeData(args);\n        for (let i = 0; i < data.length; i++) {\n            if (isNullOrUndefined(getValue('hasChild', data[i]))) {\n                setValue('hasChild', false, data[i]);\n            }\n        }\n        return data;\n    }\n    updateRenameData() {\n        this.updateItemData();\n        this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n    }\n    updateItemData() {\n        // eslint-disable-next-line\n        const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n        this.parent.itemData = [data];\n        this.parent.isFile = false;\n    }\n    updateActionData() {\n        this.updateItemData();\n        const newPath = getParentPath(this.parent.path);\n        this.parent.setProperties({ path: newPath }, true);\n        this.parent.pathId.pop();\n        this.parent.pathNames.pop();\n    }\n    /* istanbul ignore next */\n    doDownload() {\n        const newPath = getParentPath(this.parent.path);\n        const itemId = this.treeObj.selectedNodes[0];\n        const name = (itemId === this.parent.pathId[0]) ? '' : getValue('name', this.parent.itemData[0]);\n        Download(this.parent, newPath, [name]);\n    }\n}\n\n/**\n * DetailsView module\n */\nclass DetailsView {\n    /**\n     * Constructor for the GridView module\n     *\n     * @param {FileManager} parent - specifies the parent.\n     * @hidden\n     */\n    constructor(parent) {\n        this.isInteracted = true;\n        this.interaction = true;\n        this.isPasteOperation = false;\n        this.isColumnRefresh = false;\n        this.dragObj = null;\n        this.startIndex = null;\n        this.firstItemIndex = null;\n        this.isSelectionUpdate = false;\n        this.currentSelectedItem = [];\n        this.count = 0;\n        this.isRendered = true;\n        this.isLoaded = false;\n        this.isNameWidth = false;\n        this.pasteOperation = false;\n        this.uploadOperation = false;\n        Grid.Inject(Resize, ContextMenu$1, Sort, VirtualScroll);\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + GRID_ID, this.parent.element);\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            ctrlUp: 'ctrl+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            end: 'end',\n            home: 'home',\n            moveUp: 'uparrow',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftdel: 'shift+delete',\n            ctrlD: 'ctrl+d',\n            f2: 'f2',\n            ctrlA: 'ctrl+a',\n            enter: 'enter'\n        };\n    }\n    /* istanbul ignore next */\n    render(args) {\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'Details') {\n            removeClass([this.parent.element], MULTI_SELECT);\n            // eslint-disable-next-line\n            const items = getSortedData(this.parent, args.files);\n            this.checkNameWidth();\n            const columns = this.getColumns();\n            let sortSettings;\n            if (this.parent.isMobile) {\n                sortSettings = [];\n            }\n            else {\n                if (this.parent.sortOrder !== 'None') {\n                    sortSettings = [{ direction: this.parent.sortOrder, field: this.parent.sortBy }];\n                }\n            }\n            this.gridObj = new Grid({\n                dataSource: items,\n                allowSorting: true,\n                rowSelecting: this.onSelection.bind(this, 'select'),\n                rowDeselecting: this.onSelection.bind(this, 'unselect'),\n                rowSelected: this.onSelected.bind(this),\n                rowDeselected: this.onDeSelection.bind(this),\n                allowResizing: this.parent.detailsViewSettings.columnResizing,\n                selectionSettings: {\n                    type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n                    checkboxMode: 'ResetOnRowClick'\n                },\n                enableRtl: this.parent.enableRtl,\n                pageSettings: { pageSize: 20 },\n                sortSettings: { allowUnsort: false, columns: sortSettings },\n                columns: columns,\n                recordDoubleClick: this.DblClickEvents.bind(this),\n                beforeDataBound: this.onBeforeDataBound.bind(this),\n                dataBound: this.onDataBound.bind(this),\n                rowDataBound: this.onRowDataBound.bind(this),\n                actionBegin: this.onActionBegin.bind(this),\n                headerCellInfo: this.onHeaderCellInfo.bind(this),\n                width: '100%',\n                beforeCopy: (args) => { args.cancel = true; },\n                // eslint-disable-next-line\n                load: function (args) {\n                    this.focusModule.destroy();\n                },\n                locale: this.parent.locale\n            });\n            this.gridObj.isStringTemplate = true;\n            this.gridObj.appendTo('#' + this.parent.element.id + GRID_ID);\n            this.wireEvents();\n            this.adjustHeight();\n            this.emptyArgs = args;\n        }\n    }\n    checkNameWidth() {\n        const initialColumn = this.parent.detailsViewSettings.columns;\n        this.isNameWidth = false;\n        for (let i = 0; i < initialColumn.length; i++) {\n            if (initialColumn[i].field === 'name') {\n                this.isNameWidth = !isNullOrUndefined(initialColumn[i].width);\n                return;\n            }\n        }\n    }\n    adjustWidth(columns, fieldName) {\n        if (this.isNameWidth && (fieldName === 'name')) {\n            return;\n        }\n        for (let i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                let nameWidth;\n                if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                    nameWidth = (this.element.clientWidth <= 500) ? '120px' : 'auto';\n                }\n                else {\n                    nameWidth = (this.element.clientWidth <= 680) ? ((fieldName === 'name') ? '120px' : '180px') : 'auto';\n                }\n                columns[i].width = nameWidth;\n            }\n        }\n    }\n    getColumns() {\n        let columns;\n        if (this.parent.isMobile) {\n            columns = [\n                {\n                    field: 'name', headerText: getLocaleText(this.parent, 'Name'), width: 'auto', minWidth: 120, headerTextAlign: 'Left',\n                    template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' +\n                        '<span class=\"e-fe-size\">${size}</span>'\n                }\n            ];\n        }\n        else {\n            columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n            this.adjustWidth(columns, 'name');\n            for (let i = 0, len = columns.length; i < len; i++) {\n                columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n            }\n        }\n        const iWidth = ((this.parent.isMobile || this.parent.isBigger) ? '54' : '46');\n        const icon = {\n            field: 'type', width: iWidth, minWidth: iWidth, template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n            allowResizing: false, allowSorting: true, customAttributes: { class: 'e-fe-grid-icon' },\n            headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n        };\n        columns.unshift(icon);\n        if (this.parent.allowMultiSelection) {\n            const cWidth = (this.parent.isBigger ? '36' : '26');\n            const cBox = {\n                type: 'checkbox', width: cWidth, minWidth: cWidth, customAttributes: { class: 'e-fe-checkbox' },\n                allowResizing: false, allowSorting: false\n            };\n            if (this.parent.isMobile) {\n                columns.push(cBox);\n            }\n            else {\n                columns.unshift(cBox);\n            }\n        }\n        for (let i = 0, len = columns.length; i < len; i++) {\n            columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n        }\n        return columns;\n    }\n    adjustHeight() {\n        if (!this.gridObj) {\n            return;\n        }\n        const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n        const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n        const gridHeader = select('.' + GRID_HEADER, this.parent.element);\n        const height = (pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight);\n        this.gridObj.height = height;\n        this.gridObj.dataBind();\n    }\n    renderCheckBox() {\n        this.gridObj.columns = this.getColumns();\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n    }\n    onRowDataBound(args) {\n        let td = select('.e-fe-grid-name', args.row);\n        if (!td) {\n            const columns = this.parent.detailsViewSettings.columns;\n            for (let i = 0; i < columns.length; i++) {\n                if (columns[i].field === 'name') {\n                    td = args.row.children[this.parent.allowMultiSelection ? (i + 2) : (i + 1)];\n                    break;\n                }\n            }\n        }\n        if (td) {\n            td.setAttribute('title', getValue('name', args.data));\n        }\n        if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' &&\n            this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n            if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n                addBlur(args.row);\n            }\n        }\n        if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n            const textEle = args.row.querySelector('.e-fe-text');\n            if (textEle) {\n                const name = getValue('name', args.data);\n                const type = getValue('type', args.data);\n                textEle.innerHTML = name.substr(0, name.length - type.length);\n            }\n        }\n        if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n            const sizeEle = args.row.querySelector('.e-fe-size');\n            let modifiedSize;\n            if (!getValue('isFile', args.data)) {\n                modifiedSize = '';\n            }\n            else {\n                const sizeValue = getValue('size', args.data);\n                const intl = new Internationalization(this.parent.locale);\n                const value = intl.formatNumber((sizeValue / 1024), { format: 'n' });\n                modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n            }\n            sizeEle.innerHTML = modifiedSize;\n        }\n        if (this.parent.isMobile) {\n            if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n                const dateEle = args.row.querySelector('.e-fe-date');\n                const intl = new Internationalization(this.parent.locale);\n                const columns = this.parent.detailsViewSettings.columns;\n                // eslint-disable-next-line\n                let format;\n                for (let i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'dateModified') {\n                        format = columns[i].format;\n                        break;\n                    }\n                }\n                const formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n                dateEle.innerHTML = formattedString;\n            }\n        }\n        const checkWrap = args.row.querySelector('.' + CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n        if (!hasEditAccess(args.data)) {\n            args.row.className += ' ' + getAccessClass(args.data);\n        }\n        const eventArgs = {\n            element: args.row,\n            fileDetails: args.data,\n            module: 'DetailsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    }\n    onActionBegin(args) {\n        if (args.requestType === 'sorting') {\n            this.parent.setProperties({ sortOrder: args.direction }, true);\n            this.parent.setProperties({ sortBy: args.columnName }, true);\n            if (this.parent.selectedItems.length !== 0) {\n                this.sortItem = true;\n                const rows = this.gridObj.getSelectedRowIndexes();\n                let len = rows.length;\n                this.sortSelectedNodes = [];\n                while (len > 0) {\n                    // eslint-disable-next-line\n                    const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n                    this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n                    len--;\n                }\n            }\n            this.parent.notify(sortByChange, {});\n        }\n    }\n    onHeaderCellInfo(args) {\n        const checkWrap = args.node.querySelector('.' + CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n    }\n    onBeforeDataBound(args) {\n        showSpinner(this.parent.element);\n        // eslint-disable-next-line\n        const items = getSortedData(this.parent, this.gridObj.dataSource);\n        args.result = items;\n    }\n    /* istanbul ignore next */\n    onDataBound() {\n        this.createDragObj();\n        if (this.parent.selectedItems.length !== 0) {\n            this.selectRecords(this.parent.selectedItems);\n        }\n        if (this.isPasteOperation === true) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.parent.createdItem) {\n            this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n            this.parent.createdItem = null;\n        }\n        if (this.parent.layoutSelectedItems.length) {\n            this.selectRecords(this.parent.layoutSelectedItems);\n        }\n        if (this.parent.renamedItem) {\n            this.addSelection(this.parent.renamedItem);\n            this.parent.renamedItem = null;\n        }\n        if (this.sortItem === true) {\n            this.selectRecords(this.sortSelectedNodes);\n            this.sortItem = false;\n        }\n        if (this.isSelectionUpdate) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.currentSelectedItem);\n                this.isSelectionUpdate = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.uploadOperation === true) {\n            this.count++;\n            this.selectRecords(this.parent.uploadItem);\n            if (this.count === this.parent.uploadItem.length) {\n                this.uploadOperation = false;\n                this.parent.uploadItem = [];\n            }\n        }\n        if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n            const hdTable = this.gridObj.getHeaderContent();\n            hdTable.style.paddingRight = '';\n            hdTable.style.paddingLeft = '';\n            const hdContent = select('.e-headercontent', hdTable);\n            hdContent.style.borderRightWidth = '0';\n            const cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.style.overflowY = '';\n            cnTable.classList.add('e-scrollShow');\n        }\n        else {\n            const hdTable = this.gridObj.getHeaderContent();\n            if (!this.parent.enableRtl) {\n                hdTable.style.paddingRight = '16px';\n            }\n            else {\n                hdTable.style.paddingLeft = '16px';\n            }\n            const cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.classList.remove('e-scrollShow');\n        }\n        this.isRendered = true;\n        this.parent.isLayoutChange = false;\n        hideSpinner(this.parent.element);\n        this.checkEmptyDiv(this.emptyArgs);\n        this.isInteracted = this.isLoaded ? true : this.isInteracted;\n        this.isLoaded = false;\n    }\n    selectRecords(nodes) {\n        // eslint-disable-next-line\n        const gridRecords = this.gridObj.getCurrentViewRecords();\n        const sRecords = [];\n        for (let i = 0, len = gridRecords.length; i < len; i++) {\n            const node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n            if (nodes.indexOf(node) !== -1) {\n                sRecords.push(i);\n            }\n        }\n        if (sRecords.length !== 0) {\n            this.gridObj.selectRows(sRecords);\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n    }\n    // eslint-disable-next-line\n    addSelection(data) {\n        // eslint-disable-next-line\n        const items = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        let rData = [];\n        if (this.parent.hasId) {\n            rData = new DataManager(items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            const nData = new DataManager(items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (nData.length > 0) {\n                rData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (rData.length > 0) {\n            const index = items.indexOf(rData[0]);\n            this.gridObj.selectRows([index]);\n        }\n    }\n    onSortColumn() {\n        if (this.parent.sortOrder !== 'None') {\n            this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n        else {\n            // eslint-disable-next-line\n            this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'detailsViewSettings':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.checkNameWidth();\n                        const columns = this.getColumns();\n                        this.gridObj.columns = columns;\n                        this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n                        this.gridObj.dataBind();\n                        this.gridObj.refreshColumns();\n                    }\n                    break;\n                case 'selectedItems':\n                    this.interaction = false;\n                    if (this.parent.selectedItems.length !== 0) {\n                        if (!this.parent.allowMultiSelection) {\n                            const slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n                            this.parent.setProperties({ selectedItems: slItems }, true);\n                        }\n                        this.selectRecords(this.parent.selectedItems);\n                        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    }\n                    else if (!isNullOrUndefined(this.gridObj)) {\n                        this.gridObj.clearSelection();\n                    }\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.currentSelectedItem = this.parent.selectedItems;\n                        this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n                        this.isSelectionUpdate = true;\n                        this.renderCheckBox();\n                    }\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'Details');\n                    break;\n                case 'width':\n                    this.onDetailsResize();\n            }\n        }\n    }\n    onPathChanged(args) {\n        this.parent.isCut = false;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n            this.parent.searchedItems = [];\n            if (!this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n            else {\n                this.updatePathColumn();\n            }\n        }\n        removeBlur(this.parent);\n        if (this.parent.view === 'Details') {\n            /* istanbul ignore next */\n            this.isInteracted = false;\n            showSpinner(this.parent.element);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        }\n        this.emptyArgs = args;\n    }\n    updatePathColumn() {\n        const len = this.gridObj.columns.length;\n        const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n            const pathColumn$$1 = {\n                field: 'filterPath', headerText: getLocaleText(this.parent, 'Path'), minWidth: 180, width: 'auto'\n            };\n            this.gridObj.columns.push(pathColumn$$1);\n            this.adjustWidth(this.gridObj.columns, 'filterPath');\n            this.adjustWidth(this.gridObj.columns, 'name');\n            this.isColumnRefresh = true;\n            this.gridObj.refreshColumns();\n        }\n    }\n    checkEmptyDiv(args) {\n        // eslint-disable-next-line\n        const items = getSortedData(this.parent, args.files);\n        if (items.length === 0 && !isNullOrUndefined(this.element.querySelector('.' + GRID_VIEW))) {\n            createEmptyElement(this.parent, this.element, args);\n        }\n        else if (items.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n            if (this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY)) {\n                const emptyDiv = this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY);\n                this.element.querySelector('.' + GRID_VIEW).removeChild(emptyDiv);\n            }\n            else {\n                this.element.removeChild(this.element.querySelector('.' + EMPTY));\n            }\n        }\n    }\n    onOpenInit() {\n        if (this.parent.activeModule === 'detailsview') {\n            // eslint-disable-next-line\n            const data = this.gridObj.getSelectedRecords()[0];\n            this.openContent(data);\n        }\n    }\n    DblClickEvents(args) {\n        this.gridObj.selectRows([args.rowIndex]);\n        // eslint-disable-next-line\n        let data;\n        if (args.rowData) {\n            data = JSON.parse(JSON.stringify(args.rowData));\n            this.openContent(data);\n        }\n    }\n    // eslint-disable-next-line\n    openContent(data) {\n        if (!hasReadAccess(data)) {\n            createDeniedDialog(this.parent, data, permissionRead);\n            return;\n        }\n        const eventArgs = { cancel: false, fileDetails: data, module: 'DetailsView' };\n        this.parent.trigger('fileOpen', eventArgs, (fileOpenArgs) => {\n            if (!fileOpenArgs.cancel) {\n                const name = getValue('name', data);\n                if (getValue('isFile', data)) {\n                    const icon = fileType(data);\n                    if (icon === ICON_IMAGE) {\n                        const imgUrl = getImageUrl(this.parent, data);\n                        createImageDialog(this.parent, name, imgUrl);\n                    }\n                }\n                else {\n                    const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n                    if (val === '' && !this.parent.isFiltered) {\n                        const id = getValue('id', data);\n                        const newPath = this.parent.path + (isNullOrUndefined(id) ? name : id) + '/';\n                        this.parent.setProperties({ path: newPath }, true);\n                        this.parent.pathNames.push(name);\n                        this.parent.pathId.push(getValue('_fm_id', data));\n                        this.parent.itemData = [data];\n                        openAction(this.parent);\n                    }\n                    else {\n                        openSearchFolder(this.parent, data);\n                    }\n                    this.parent.isFiltered = false;\n                }\n                this.element.focus();\n            }\n        });\n    }\n    /* istanbul ignore next */\n    onLayoutChange(args) {\n        if (this.parent.view === 'Details') {\n            if (!this.gridObj) {\n                this.render(args);\n            }\n            else {\n                this.isLoaded = true;\n            }\n            if (this.parent.isFiltered) {\n                this.updatePathColumn();\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.parent.notify(hideLayout, {});\n            this.gridObj.element.classList.remove(DISPLAY_NONE);\n            this.isInteracted = false;\n            this.gridObj.clearSelection();\n            if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n                this.onSearchFiles(args);\n            }\n            this.adjustHeight();\n            if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n                }\n            }\n        }\n    }\n    /* istanbul ignore next */\n    onSearchFiles(args) {\n        if (this.parent.view === 'Details') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(selectionChanged, {});\n            if (!this.parent.isLayoutChange) {\n                this.parent.layoutSelectedItems = [];\n            }\n            this.updatePathColumn();\n            this.parent.searchedItems = args.files;\n            this.onPathChanged(args);\n        }\n    }\n    removePathColumn(isRefresh) {\n        const len = this.gridObj.columns.length;\n        const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && (columnData[len - 1].field === 'filterPath')) {\n            /* istanbul ignore next */\n            if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn('name', this.parent.sortOrder);\n                }\n                else {\n                    // eslint-disable-next-line\n                    this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n                }\n                this.parent.notify(sortByChange, {});\n            }\n            this.gridObj.columns.pop();\n            if (!isRefresh) {\n                this.isColumnRefresh = true;\n                this.gridObj.refreshColumns();\n            }\n        }\n    }\n    onFinalizeEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        if (!this.gridObj) {\n            this.render(args);\n        }\n        else {\n            this.onPathChanged(args);\n        }\n    }\n    onCreateEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n    }\n    onRenameInit() {\n        if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    }\n    onSelectedData() {\n        if (this.parent.activeModule === 'detailsview') {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n        }\n    }\n    onDeleteInit() {\n        if (this.parent.activeModule === 'detailsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    }\n    /* istanbul ignore next */\n    onDeleteEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n    }\n    onRefreshEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.isInteracted = false;\n        this.removePathColumn(false);\n        this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        this.emptyArgs = args;\n    }\n    onHideLayout() {\n        if (this.parent.view !== 'Details' && this.gridObj) {\n            this.gridObj.element.classList.add(DISPLAY_NONE);\n        }\n    }\n    onSelectAllInit() {\n        if (this.parent.view === 'Details') {\n            this.isInteracted = false;\n            if (this.parent.allowMultiSelection) {\n                this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n            }\n            else {\n                this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n            }\n            this.isInteracted = true;\n            this.interaction = true;\n        }\n    }\n    onClearAllInit() {\n        if (this.parent.view === 'Details') {\n            this.removeSelection();\n            this.interaction = true;\n        }\n    }\n    /* istanbul ignore next */\n    onSelectionChanged() {\n        removeClass([this.element], HEADER_CHECK);\n        if (this.parent.selectedItems.length > 0) {\n            addClass([this.element], HEADER_CHECK);\n        }\n    }\n    onLayoutRefresh() {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.adjustHeight();\n    }\n    onBeforeRequest() {\n        this.isRendered = false;\n    }\n    onAfterRequest() {\n        this.isRendered = true;\n    }\n    onUpdateSelectionData() {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n    addEventListener() {\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(search, this.onSearchFiles, this);\n        this.parent.on(methodCall, this.onMethodCall, this);\n        this.parent.on(actionFailure, this.onActionFailure, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onPathChanged, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(sortColumn, this.onSortColumn, this);\n        this.parent.on(openEnd, this.onPathChanged, this);\n        this.parent.on(filterEnd, this.onPathChanged, this);\n        this.parent.on(pasteInit, this.onPasteInit, this);\n        this.parent.on(hideLayout, this.onHideLayout, this);\n        this.parent.on(selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(clearAllInit, this.onClearAllInit, this);\n        this.parent.on(pathColumn, this.onPathColumn, this);\n        this.parent.on(selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(afterRequest, this.onAfterRequest, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(resizeEnd, this.onDetailsResizeHandler, this);\n        this.parent.on(splitterResize, this.onDetailsResize, this);\n        this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n    }\n    removeEventListener() {\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(pasteInit, this.onPasteInit);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(search, this.onSearchFiles);\n        this.parent.off(methodCall, this.onMethodCall);\n        this.parent.off(actionFailure, this.onActionFailure);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onPathChanged);\n        this.parent.off(filterEnd, this.onPathChanged);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(sortColumn, this.onSortColumn);\n        this.parent.off(openEnd, this.onPathChanged);\n        this.parent.off(hideLayout, this.onHideLayout);\n        this.parent.off(selectAllInit, this.onSelectAllInit);\n        this.parent.off(clearAllInit, this.onClearAllInit);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(pathColumn, this.onPathColumn);\n        this.parent.off(selectionChanged, this.onSelectionChanged);\n        this.parent.off(beforeRequest, this.onBeforeRequest);\n        this.parent.off(afterRequest, this.onAfterRequest);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(resizeEnd, this.onDetailsResizeHandler);\n        this.parent.off(splitterResize, this.onDetailsResize);\n        this.parent.off(layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n    }\n    onActionFailure() { this.interaction = true; }\n    // eslint-disable-next-line\n    onMenuItemData(args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n        }\n    }\n    onPasteInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath !== '') ? this.gridObj.getSelectedRecords() :\n                [getPathObject(this.parent)];\n        }\n    }\n    onDetailsInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.parent.itemData = this.gridObj.getSelectedRecords();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    }\n    dragHelper(args) {\n        const dragTarget = args.sender.target;\n        const dragLi = dragTarget.closest('tr.e-row');\n        if (!dragLi) {\n            return null;\n        }\n        let name;\n        if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n            name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n        }\n        else if (dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling) {\n            name = dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling.innerText;\n        }\n        if (dragLi && !dragLi.querySelector('.e-active')) {\n            this.selectRecords([name]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        // eslint-disable-next-line\n        this.parent.dragData = this.gridObj.getSelectedRecords();\n        let dragRow;\n        if (this.parent.dragData.length === 0 && dragLi) {\n            dragRow = this.gridObj.getRowInfo(dragLi);\n        }\n        if (dragRow) {\n            this.parent.dragData.push(dragRow.rowData);\n        }\n        this.parent.dragPath = this.parent.path;\n        this.parent.activeElements = this.gridObj.getSelectedRows();\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    }\n    /* istanbul ignore next */\n    onDetailsResize() {\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n            const gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n            const gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n            const gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n            const gridHeaderColNames = this.gridObj.getColumns();\n            for (let i = 0; i < gridHeaderColNames.length; i++) {\n                if ((!this.isNameWidth && gridHeaderColNames[i].field === 'name') || gridHeaderColNames[i].field === 'filterPath') {\n                    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                        if (this.element.clientWidth <= 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                        }\n                        else if (this.element.clientWidth > 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                    else {\n                        if (this.element.clientWidth <= 680) {\n                            if (gridHeaderColNames[i].field === 'name') {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                            }\n                            else {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n                            }\n                        }\n                        else if (this.element.clientWidth > 680) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                }\n            }\n        }\n    }\n    onDetailsResizeHandler() {\n        this.onDetailsResize();\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n            this.adjustHeight();\n        }\n    }\n    createDragObj() {\n        if (!this.parent.isMobile && this.gridObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.gridObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    distance: 5,\n                    enableTailMode: true,\n                    dragArea: this.parent.element,\n                    dragTarget: '.' + ROW,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: (args) => {\n                        dragStartHandler(this.parent, args, this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    }\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            /* istanbul ignore next */\n            // eslint-disable-next-line\n            const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (!args.target.closest('tr')) {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n            else {\n                // eslint-disable-next-line\n                let info = null;\n                // eslint-disable-next-line\n                info = this.gridObj.getRowInfo(args.target).rowData;\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n        }\n    }\n    oncutCopyInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.gridObj.getSelectedRecords();\n            this.parent.activeElements = this.gridObj.getSelectedRows();\n        }\n    }\n    onpasteEnd(args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    }\n    onDropPath(args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns modules name.\n     * @private\n     */\n    getModuleName() {\n        return 'detailsview';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.gridObj) {\n            this.unWireEvents();\n            this.gridObj.destroy();\n        }\n    }\n    updateType(item) {\n        const folder = select('.' + FOLDER, item);\n        this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n    }\n    /* istanbul ignore next */\n    onSelection(action, args) {\n        const eventArgs = {\n            action: action, fileDetails: args.data, isInteracted: this.interaction, cancel: false, target: args.target\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        args.cancel = eventArgs.cancel;\n    }\n    /* istanbul ignore next */\n    onSelected(args) {\n        this.parent.activeModule = 'detailsview';\n        if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n            this.selectedRecords();\n        }\n        this.parent.notify(selectionChanged, {});\n        if (this.gridObj.getSelectedRowIndexes().length === 1) {\n            this.firstItemIndex = this.gridObj.selectedRowIndex;\n        }\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        this.triggerSelect('select', args);\n        const item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n        this.updateType(item);\n        if (!isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n            if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n                const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n                const lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n                lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n            }\n            item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n        }\n        if (!isNullOrUndefined(this.gridObj) && !isNullOrUndefined(this.gridObj.element.querySelector('.e-checkselectall'))) {\n            this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n        }\n        const rows = this.gridObj.getSelectedRowIndexes();\n        if (!this.parent.allowMultiSelection) {\n            for (let i = 0; i < rows.length; i++) {\n                if (rows[i] === this.gridObj.selectedRowIndex) {\n                    this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n                }\n                else {\n                    this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n                }\n            }\n        }\n        const len = rows.length;\n        if (len > 0) {\n            // eslint-disable-next-line\n            const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n            this.parent.currentItemText = getValue('name', data);\n        }\n        const indexes = getValue('rowIndexes', args);\n        const multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n        if (this.parent.isDevice && isNullOrUndefined(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n            this.parent.isFile = getValue('isFile', args.data);\n            if (!this.parent.isFile) {\n                this.openContent(args.data);\n            }\n        }\n        this.parent.visitedItem = args.row;\n        if (this.parent.allowMultiSelection && !isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n            const checkItem = item.querySelector('.e-checkselect');\n            checkItem.focus();\n        }\n        this.addFocus(this.gridObj.selectedRowIndex);\n        if (!this.parent.isLayoutChange) {\n            this.isInteracted = true;\n        }\n    }\n    /* istanbul ignore next */\n    onPathColumn() {\n        if (this.parent.view === 'Details' && !isNullOrUndefined(this.gridObj)) {\n            if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n        }\n    }\n    selectedRecords() {\n        this.parent.setProperties({ selectedItems: [] }, true);\n        // eslint-disable-next-line\n        const selectedRecords = this.gridSelectNodes();\n        let selectSize = 0;\n        while (selectSize < selectedRecords.length) {\n            const record = selectedRecords[selectSize];\n            const name = getItemName(this.parent, record);\n            this.parent.selectedItems.push(name);\n            selectSize++;\n        }\n        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n    }\n    onDeSelection(args) {\n        /* istanbul ignore next */\n        if (!this.parent.allowMultiSelection && isNullOrUndefined(args.data)) {\n            this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n        }\n        else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n            const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n            this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n        }\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.gridObj.element.setAttribute('tabindex', '0');\n        }\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            return;\n        }\n        this.selectedRecords();\n        if (this.parent.selectedItems.length === 0) {\n            setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n            removeClass([this.parent.element], MULTI_SELECT);\n        }\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('unselect', args);\n        this.parent.visitedItem = null;\n    }\n    triggerSelect(action, args) {\n        const eventArgs = { action: action, fileDetails: args.data, isInteracted: this.interaction };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.interaction = true;\n    }\n    wireEvents() {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n            keyAction: this.keyupHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n    }\n    unWireEvents() {\n        this.wireClickEvent(false);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n        EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n    }\n    wireClickEvent(toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            const proxy = this;\n            const ele = this.gridObj.getContent();\n            this.clickObj = new Touch(ele, {\n                tap: (eve) => {\n                    if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n                        proxy.onClearAllInit();\n                    }\n                },\n                tapHold: (e) => {\n                    if (proxy.parent.isDevice) {\n                        e.originalEvent.preventDefault();\n                        if (proxy.parent.allowMultiSelection) {\n                            setValue('enableSelectMultiTouch', proxy.parent.allowMultiSelection, proxy.gridObj.selectionModule);\n                            addClass([proxy.parent.element], MULTI_SELECT);\n                        }\n                        const target = e.originalEvent.target;\n                        if (target) {\n                            const row = closest(target, '.' + ROW);\n                            const index = proxy.gridObj.getRows().indexOf(row);\n                            proxy.gridObj.selectRow(index);\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    }\n    /* istanbul ignore next */\n    removeSelection() {\n        removeClass([this.parent.element], MULTI_SELECT);\n        this.gridObj.clearSelection();\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.parent.notify(selectionChanged, {});\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.startIndex = null;\n        }\n        this.isInteracted = true;\n    }\n    removeFocus() {\n        this.addFocus(null);\n    }\n    getFocusedItemIndex() {\n        return (!isNullOrUndefined(this.getFocusedItem())) ?\n            parseInt(this.getFocusedItem().getAttribute('aria-rowindex'), 10) : null;\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keydownHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'moveDown':\n            case 'moveUp':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keyupHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        e.preventDefault();\n        const action = e.action;\n        // eslint-disable-next-line\n        const gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n        const gridLength = gridItems.length;\n        const focItem = this.getFocusedItem();\n        const focIndex = this.getFocusedItemIndex();\n        const selIndex = this.gridObj.selectedRowIndex;\n        const selRowIndeces = this.gridObj.getSelectedRowIndexes();\n        // eslint-disable-next-line\n        let rowData;\n        let firstItem;\n        let lastItem;\n        switch (action) {\n            case 'altEnter':\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'enter':\n                if (this.gridObj.selectedRowIndex === -1) {\n                    break;\n                }\n                rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n                if (rowData) {\n                    // eslint-disable-next-line\n                    const data = JSON.parse(JSON.stringify(rowData));\n                    this.openContent(data);\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlA':\n                if (!isNullOrUndefined(gridItems[0]) && this.parent.allowMultiSelection) {\n                    const cnTable = this.gridObj.getContent().querySelector('.e-content');\n                    const crtSrlPos = cnTable.scrollTop;\n                    const crtFocusIndex = this.gridObj.selectedRowIndex;\n                    this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                    cnTable.scrollTop = crtSrlPos;\n                    if (crtFocusIndex !== -1) {\n                        this.addFocus(crtFocusIndex);\n                    }\n                }\n                break;\n            case 'ctrlHome':\n            case 'tab':\n                if (!isNullOrUndefined(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n                        this.gridObj.selectRow(0);\n                    }\n                    else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n                        return;\n                    }\n                    else {\n                        this.addFocus(0);\n                    }\n                }\n                break;\n            case 'ctrlEnd':\n                if (!isNullOrUndefined(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection) {\n                        this.gridObj.selectRow(gridLength - 1);\n                    }\n                    else {\n                        this.addFocus(gridLength - 1);\n                    }\n                }\n                break;\n            case 'shiftHome':\n            case 'shiftEnd':\n            case 'csHome':\n            case 'csEnd':\n                if (!this.parent.allowMultiSelection) {\n                    this.gridObj.selectRow((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : gridItems.length - 1);\n                }\n                else {\n                    if (!isNullOrUndefined(gridItems[0])) {\n                        if (!isNullOrUndefined(selIndex) && selIndex !== -1) {\n                            this.checkRowsKey(gridItems, selIndex, null, e);\n                        }\n                        else {\n                            if (e.action === 'csHome' || e.action === 'shiftHome') {\n                                this.gridObj.selectRow(0);\n                            }\n                            else {\n                                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                            }\n                        }\n                    }\n                }\n                break;\n            case 'space':\n            case 'csSpace':\n            case 'shiftSpace':\n            case 'ctrlSpace':\n                this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n                break;\n            case 'csUp':\n            case 'csDown':\n            case 'shiftUp':\n            case 'shiftDown':\n                this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n                break;\n            case 'ctrlUp':\n            case 'ctrlDown':\n                if (!this.parent.allowMultiSelection) {\n                    this.moveFunction(gridItems, e, selIndex);\n                }\n                else {\n                    this.ctrlMoveFunction(gridItems, e, selIndex);\n                }\n                break;\n            case 'home':\n                firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n                this.parent.setProperties({ selectedItems: firstItem }, true);\n                this.selectRecords(firstItem);\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                this.moveFunction(gridItems, e, selIndex);\n                break;\n            case 'end':\n                lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n                this.parent.setProperties({ selectedItems: lastItem }, true);\n                this.selectRecords(lastItem);\n                break;\n        }\n    }\n    // eslint-disable-next-line\n    gridSelectNodes() {\n        return this.gridObj.getSelectedRecords();\n    }\n    doDownload() {\n        if (this.parent.selectedItems.length !== 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            const items = this.parent.itemData;\n            for (let i = 0; i < items.length; i++) {\n                if (!hasDownloadAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], permissionDownload);\n                    return;\n                }\n            }\n            Download(this.parent, this.parent.path, this.parent.selectedItems);\n        }\n    }\n    performDelete() {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            const items = this.parent.itemData;\n            for (let i = 0; i < items.length; i++) {\n                if (!hasEditAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    }\n    performRename() {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    }\n    updateRenameData() {\n        // eslint-disable-next-line\n        const data = this.gridSelectNodes()[0];\n        updateRenamingData(this.parent, data);\n    }\n    // eslint-disable-next-line\n    shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.moveFunction(gridItems, e, selIndex);\n        }\n        else {\n            if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n                this.ctrlMoveFunction(gridItems, e, selIndex);\n            }\n            else if (selIndex !== -1 && focIndex !== selIndex &&\n                !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n                this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n            }\n            else {\n                this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    moveFunction(selectedItems, e, rowIndex) {\n        if (!isNullOrUndefined(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n            if (e.action === 'moveDown') {\n                this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n            }\n            else {\n                this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n            }\n        }\n        else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n            if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectRow(rowIndex + ((rowIndex !== selectedItems.length - 1) ? 1 : 0));\n            }\n            else {\n                this.gridObj.selectRow(rowIndex - ((rowIndex !== 0) ? 1 : 0));\n            }\n        }\n        else {\n            if (!isNullOrUndefined(selectedItems[0])) {\n                this.gridObj.selectRow(0);\n            }\n        }\n    }\n    spaceSelection(selRowIndeces, focIndex, selIndex, e) {\n        if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n            if (focIndex < selIndex) {\n                this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n            }\n        }\n        else if (!isNullOrUndefined(this.getFocusedItem()) && focIndex !== selIndex) {\n            selRowIndeces.push(this.getFocusedItemIndex());\n            this.gridObj.selectRows(selRowIndeces);\n        }\n        else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n            const lItem = selIndex;\n            selRowIndeces.pop();\n            this.gridObj.selectRows(selRowIndeces);\n            this.addFocus(lItem);\n        }\n        else if (e.action === 'shiftSpace') {\n            this.gridObj.selectRow(selIndex);\n        }\n    }\n    // eslint-disable-next-line\n    ctrlMoveFunction(items, e, rowIndex) {\n        let nextItem;\n        if (!isNullOrUndefined(this.getFocusedItem())) {\n            const nextIndex = this.getFocusedItemIndex();\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                nextIndex + ((nextIndex < items.length - 1) ? 1 : 0) : nextIndex - ((nextIndex < 1) ? 0 : 1);\n        }\n        else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                rowIndex + ((rowIndex < items.length) ? 1 : 0) : rowIndex - ((rowIndex < 1) ? 0 : 1);\n        }\n        else {\n            if (!isNullOrUndefined(items[0])) {\n                nextItem = 0;\n            }\n        }\n        this.addFocus(nextItem);\n    }\n    // eslint-disable-next-line\n    checkRowsKey(items, indexValue, focIndex, e) {\n        if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n            if (e.action !== 'csHome' && e.action !== 'csEnd') {\n                if (isNullOrUndefined(this.startIndex) && this.firstItemIndex !== indexValue) {\n                    this.firstItemIndex = indexValue;\n                }\n                if (e.action === 'shiftEnd') {\n                    this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n                }\n                this.startIndex = indexValue;\n            }\n            else {\n                if (e.action === 'csEnd') {\n                    this.gridObj.\n                        selectRows(this.InnerItems(isNullOrUndefined(indexValue) ? 0 : indexValue, isNullOrUndefined(focIndex) ? items.length - 1 : focIndex, e));\n                }\n                else {\n                    if (isNullOrUndefined(indexValue)) {\n                        this.gridObj.selectRow(0);\n                    }\n                    else {\n                        this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(focIndex) ? 0 : focIndex, indexValue, e));\n                    }\n                }\n            }\n        }\n        else {\n            this.gridObj.selectionModule.selectRow(((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : items.length - 1));\n        }\n    }\n    InnerItems(fItem, lItem, e) {\n        const itemArr = this.gridObj.getSelectedRowIndexes();\n        if (e.action === 'csEnd') {\n            for (let i = fItem + 1; i <= lItem; i++) {\n                itemArr.push(i);\n            }\n        }\n        else {\n            for (let i = lItem - 1; fItem <= i; i--) {\n                itemArr.push(i);\n            }\n        }\n        return itemArr;\n    }\n    shiftSelectFocusItem(selIndex, fIndex, selRowIndexes, e) {\n        const lItem = fIndex + ((e.action === 'shiftDown' || e.action === 'csDown') ? 1 : -1);\n        const fItem = isNullOrUndefined(this.startIndex) ? selIndex : selRowIndexes[0];\n        if (fItem === lItem) {\n            this.gridObj.selectRow(fItem);\n        }\n        else {\n            if (fItem < lItem) {\n                if (e.action === 'shiftDown' || e.action === 'csDown') {\n                    this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n                }\n            }\n            else if (e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n            }\n        }\n        this.startIndex = this.gridObj.selectedRowIndex;\n    }\n    addFocus(item) {\n        const fItem = this.getFocusedItem();\n        const itemElement = this.gridObj.getRowByIndex(item);\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [FOCUS, FOCUSED]);\n        }\n        if (!isNullOrUndefined(itemElement)) {\n            this.gridObj.element.setAttribute('tabindex', '-1');\n            itemElement.setAttribute('tabindex', '0');\n            itemElement.focus();\n            addClass([itemElement], [FOCUS, FOCUSED]);\n        }\n    }\n    getFocusedItem() {\n        return select('.' + FOCUSED, this.element);\n    }\n    isSelected(selRowIndexes, focIndex) {\n        let check = false;\n        for (let i = 0; i <= selRowIndexes.length - 1; i++) {\n            if (selRowIndexes[i] === focIndex) {\n                check = true;\n                break;\n            }\n        }\n        return check;\n    }\n    // eslint-disable-next-line\n    shiftSelectedItem(selIndex, selRowIndexes, gridItems, e) {\n        if (selIndex === -1) {\n            this.gridObj.selectRow(0);\n        }\n        else {\n            if (isNullOrUndefined(this.startIndex) && e.shiftKey) {\n                this.startIndex = this.gridObj.selectedRowIndex;\n                this.gridObj.selectRows([selIndex, (e.action === 'shiftDown' || e.action === 'csDown') ?\n                        (selIndex + ((selIndex !== gridItems.length - 1) ? 1 : 0)) : (selIndex - ((selIndex !== 0) ? 1 : 0))]);\n            }\n            else {\n                if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n                    if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n                        if (selIndex !== gridItems.length - 1) {\n                            selRowIndexes.push(selIndex + 1);\n                        }\n                    }\n                    else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n                        if (selIndex !== 0) {\n                            selRowIndexes.push(selIndex - 1);\n                        }\n                    }\n                    else {\n                        selRowIndexes.pop();\n                    }\n                    this.gridObj.selectRows(selRowIndexes);\n                }\n                else {\n                    if (e.action === 'csDown') {\n                        if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n                            selRowIndexes.push((this.getFocusedItemIndex() + 1));\n                            this.gridObj.selectRows(selRowIndexes);\n                        }\n                        else {\n                            this.addFocus(this.getFocusedItemIndex() + 1);\n                        }\n                    }\n                    else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n                        selRowIndexes.push((this.getFocusedItemIndex() - 1));\n                        this.gridObj.selectRows(selRowIndexes);\n                    }\n                    else {\n                        this.addFocus(this.getFocusedItemIndex() - 1);\n                    }\n                }\n            }\n        }\n    }\n    // eslint-disable-next-line\n    onMethodCall(e) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        const action = getValue('action', e);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', e));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', e));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', e));\n                break;\n            case 'createFolder':\n                this.interaction = false;\n                break;\n            case 'renameFile':\n                this.interaction = false;\n                this.renameFile(getValue('id', e), getValue('newName', e));\n                break;\n            case 'selectAll':\n                this.interaction = false;\n                this.onSelectAllInit();\n                break;\n            case 'clearSelection':\n                this.interaction = false;\n                this.onClearAllInit();\n                break;\n        }\n    }\n    // eslint-disable-next-line\n    getRecords(nodes) {\n        // eslint-disable-next-line\n        const gridRecords = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        const records = [];\n        const hasFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        const filter$$1 = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !hasFilter) {\n            for (let i = 0, len = gridRecords.length; i < len; i++) {\n                if (nodes.indexOf(getValue(filter$$1, gridRecords[i])) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        else {\n            for (let i = 0, len = gridRecords.length; i < len; i++) {\n                const name = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n                if (nodes.indexOf(name) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        return records;\n    }\n    deleteFiles(ids) {\n        this.parent.activeModule = 'detailsview';\n        if (isNullOrUndefined(ids)) {\n            this.performDelete();\n            return;\n        }\n        // eslint-disable-next-line\n        const records = this.getRecords(ids);\n        if (records.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < records.length; i++) {\n            data[i] = records[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    }\n    downloadFiles(ids) {\n        if (isNullOrUndefined(ids)) {\n            this.doDownload();\n            return;\n        }\n        // eslint-disable-next-line\n        const dRecords = this.getRecords(ids);\n        if (dRecords.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < dRecords.length; i++) {\n            data[i] = dRecords[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    }\n    openFile(id) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        // eslint-disable-next-line\n        const records = this.getRecords([id]);\n        if (records.length > 0) {\n            this.openContent(records[0]);\n        }\n    }\n    renameFile(id, name) {\n        this.parent.activeModule = 'detailsview';\n        if (isNullOrUndefined(id)) {\n            this.performRename();\n            return;\n        }\n        // eslint-disable-next-line\n        const records = this.getRecords([id]);\n        if (records.length > 0) {\n            updateRenamingData(this.parent, records[0]);\n            if (!isNullOrUndefined(name)) {\n                if (hasEditAccess(this.parent.itemData[0])) {\n                    rename(this.parent, this.parent.path, name);\n                }\n                else {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n            }\n            else {\n                doRename(this.parent);\n            }\n        }\n    }\n}\n\n/**\n * File Manager layout modules\n */\n\n/**\n * File Manager pop-up modules\n */\n\n/**\n * File Manager modules\n */\n\n/**\n * File Manager all modules\n */\n\nexport { AjaxSettings, toolbarItems, ToolbarSettings, SearchSettings, columnArray, DetailsViewSettings, fileItems, folderItems, layoutItems, ContextMenuSettings, NavigationPaneSettings, UploadSettings, Column, TOOLBAR_ID, LAYOUT_ID, NAVIGATION_ID, TREE_ID, GRID_ID, LARGEICON_ID, DIALOG_ID, ALT_DIALOG_ID, IMG_DIALOG_ID, EXTN_DIALOG_ID, UPLOAD_DIALOG_ID, RETRY_DIALOG_ID, CONTEXT_MENU_ID, SORTBY_ID, VIEW_ID, SPLITTER_ID, CONTENT_ID, BREADCRUMBBAR_ID, UPLOAD_ID, RETRY_ID, SEARCH_ID, ROOT, CONTROL, CHECK_SELECT, ROOT_POPUP, MOBILE, MOB_POPUP, MULTI_SELECT, FILTER, LAYOUT, NAVIGATION, LAYOUT_CONTENT, LARGE_ICONS, TB_ITEM, LIST_ITEM, LIST_TEXT, LIST_PARENT, TB_OPTION_TICK, TB_OPTION_DOT, BLUR, ACTIVE, HOVER, FOCUS, FOCUSED, CHECK, FRAME, CB_WRAP, ROW, ROWCELL, EMPTY, EMPTY_CONTENT, EMPTY_INNER_CONTENT, CLONE, DROP_FOLDER, DROP_FILE, FOLDER, ICON_IMAGE, ICON_MUSIC, ICON_VIDEO, LARGE_ICON, LARGE_EMPTY_FOLDER, LARGE_EMPTY_FOLDER_TWO, LARGE_ICON_FOLDER, SELECTED_ITEMS, TEXT_CONTENT, GRID_HEADER, TEMPLATE_CELL, TREE_VIEW, MENU_ITEM, MENU_ICON, SUBMENU_ICON, GRID_VIEW, GRID_CONTENT, ICON_VIEW, ICON_OPEN, ICON_UPLOAD, ICON_CUT, ICON_COPY, ICON_PASTE, ICON_DELETE, ICON_RENAME, ICON_NEWFOLDER, ICON_DETAILS, ICON_SHORTBY, ICON_REFRESH, ICON_SELECTALL, ICON_DOWNLOAD, ICON_OPTIONS, ICON_GRID, ICON_LARGE, ICON_BREADCRUMB, ICON_CLEAR, ICON_DROP_IN, ICON_DROP_OUT, ICON_NO_DROP, ICONS, DETAILS_LABEL, ERROR_CONTENT, STATUS, BREADCRUMBS, RTL, DISPLAY_NONE, COLLAPSED, FULLROW, ICON_COLLAPSIBLE, SPLIT_BAR, HEADER_CHECK, OVERLAY, VALUE, isFile, modelChanged, initialEnd, finalizeEnd, createEnd, filterEnd, beforeDelete, pathDrag, deleteInit, deleteEnd, refreshEnd, resizeEnd, splitterResize, pathChanged, destroy, beforeRequest, upload, skipUpload, afterRequest, download, layoutRefresh, actionFailure, search, openInit, openEnd, selectionChanged, selectAllInit, clearAllInit, clearPathInit, layoutChange, sortByChange, nodeExpand, detailsInit, menuItemData, renameInit, renameEndParent, renameEnd, showPaste, hidePaste, selectedData, cutCopyInit, pasteInit, pasteEnd, cutEnd, hideLayout, updateTreeSelection, treeSelect, sortColumn, pathColumn, searchTextChange, beforeDownload, downloadInit, dropInit, dragEnd, dropPath, dragHelper, dragging, updateSelectionData, methodCall, permissionRead, permissionEdit, permissionEditContents, permissionCopy, permissionUpload, permissionDownload, FileManager, Toolbar$1 as Toolbar, BreadCrumbBar, NavigationPane, DetailsView, LargeIconsView, createDialog, createExtDialog, createImageDialog, ContextMenu$2 as ContextMenu };\n"]},"metadata":{},"sourceType":"module"}